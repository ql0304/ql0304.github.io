{"config":{"lang":["en","ja"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u90b1\u9732\u7684\u4e2a\u4eba\u4e3b\u9875","text":"<p>\u4f60\u597d\uff0c\u6b22\u8fce\u8bbf\u95ee\u6211\u7684\u4e2a\u4eba\u4e3b\u9875\uff01ql0304.github.io</p> <ul> <li> <p>\u4ec5\u4f9b\u4e2a\u4eba\u5b66\u4e60\u4f7f\u7528\uff0c\u4e3a\u65b9\u4fbf\u590d\u4e60\uff0c\u6709\u7684\u5730\u65b9\u5199\u5f97\u6bd4\u8f83\u7b80\u7565\uff0c\u8bf7\u914c\u60c5\u53c2\u8003\u3002</p> </li> <li> <p>\u672c\u4eba\u5b66\u8bc6\u6d45\u8584\uff0c\u5982\u679c\u6709\u7406\u89e3\u9519\u8bef\u7684\u5730\u65b9\uff0c\u8bf7\u4e0d\u541d\u8d50\u6559\uff0c\u6211\u7684\u90ae\u7bb1\u662fqlqqq0304@163.com\uff0c\u975e\u5e38\u611f\u8c22\uff01</p> </li> </ul> <p>\uff08\u6bcf\u5929\u90fd\u4f1a\u770b\u90ae\u7bb1\u7684\uff0c\u56de\u590d\u5f88\u901f\u5ea6\uff0c\u771f\u7684\u771f\u7684\uff01\uff09</p>"},{"location":"CG/","title":"TEST","text":""},{"location":"CG/CGBasic/BRDF/","title":"BRDF","text":"<p>\u524d\u7f6e\u77e5\u8bc6\u90e8\u5206\u8df3\u8fc7\uff0c\u7f51\u4e0a\u6709\u5f88\u591a\u3002BRDF\u7684\u7ecf\u9a8c\u6a21\u578b\u5728\u5176\u5b83\u90e8\u5206\u8bb2\u89e3\uff0c\u6211\u4eec\u5148\u76f4\u63a5\u6765\u770b\u57fa\u4e8e\u7269\u7406\u7684BRDF\u3002</p> <p>\u5148\u6765\u770b\u770b\u6ca1\u6709\u81ea\u53d1\u5149\u9879\u7684\u6e32\u67d3\u65b9\u7a0b\uff1a\\(L_o(\\omega_o)=\\int_{H^2}f_r(\\omega_o,\\omega_i)L_i(\\omega_i)cos\\theta_id\\omega_i\\)</p> <p>\\(L_i(\\omega_i)cos\\theta_i\\)\u9879\u662fshading point\u63a5\u6536\u5230\u7684\u80fd\u91cf\uff0c\\(f_r\\)\u6307\u7684\u662f\u4ece\\(\\omega_i\\)\u65b9\u5411\u5c04\u5230shading point \u7684\u80fd\u91cf\u6709\u767e\u5206\u4e4b\u591a\u5c11\u4ece\\(\\omega_o\\)\u5c04\u51fa\u53bb\u3002\u56e0\u4e3a\u5bf9\\(\\omega_o\\)\u4ea7\u751f\u8d21\u732e\u7684\u5149\u662f\u4ece\u56db\u9762\u516b\u65b9\u7167\u5c04\u8fc7\u6765\u7684\uff0c\u56e0\u6b64\u8981\u5bf9\\(\\omega_i\\)\u5728\u534a\u7403\u4e0a\u79ef\u5206\uff0c\u8fd9\u5c31\u662f\u6e32\u67d3\u65b9\u7a0b\u3002</p> <p>BRDF\u8ba1\u7b97\u7684\u5c31\u662f\\(f_r\\)\u9879\uff0c\u603b\u7684\u6765\u8bf4\uff0cBRDF\u51b3\u5b9a\u4e86\u4e00\u4e2a\u7269\u4f53\u7684\u6750\u8d28\uff01</p> <p>BRDF\u7684\u5b9a\u4e49\uff1airradiance\u7684\u5fae\u5206/radiance\u7684\u5fae\u5206\u3002\u5bf9\u4e8e\u4e00\u4e2ashading point\u5468\u56f4\u4e00\u7247\u5f88\u5c0f\u7684\u533a\u57df(\u4e2a\u4eba\u8ba4\u4e3a\u53ef\u4ee5\u7406\u89e3\u6210\u4e00\u9897\u50cf\u7d20\u8986\u76d6\u7684\u533a\u57df)\u63a5\u6536\u5230\u7684\u5149\u79f0\u4e3airradiance\uff0cBRDF\u9075\u5faa\u80fd\u91cf\u5b88\u6052\u5b9a\u5f8b</p>"},{"location":"CG/CGBasic/BRDF/#diffuselambertian-material","title":"Diffuse/Lambertian Material","text":"<p>\u8ba1\u7b97\u4e00\u4e2a\u5149\u5728\u5404\u4e2a\u89d2\u5ea6\u90fd\u6052\u5b9a\u4e14\u7406\u60f3\u6f2b\u53cd\u5c04\u8868\u9762\u7684BRDF\uff1a</p> <p></p> <p>\u5149\u5728\u5404\u4e2a\u89d2\u5ea6\u6052\u5b9a\uff0c\u4e0d\u7ba1\u4ece\u54ea\u4e2a\u65b9\u5411\u5165\u5c04\u80fd\u91cf\u90fd\u4e00\u6837\uff0c\\(L_i(\\omega_i)=C_1\\) \u3002\u7406\u60f3\u6f2b\u53cd\u5c04\u8868\u9762\uff0c\u5149\u88ab\u5747\u5300\u7684\u53cd\u5c04\u5230\u6bcf\u4e00\u4e2a\u65b9\u5411\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7ba1\u4ece\u54ea\u4e2a\u65b9\u5411\u51fa\u5c04\u80fd\u91cf\u90fd\u4e00\u6837\uff0c\u56e0\u6b64\\(f_r=C_2\\)\uff08\u8fd8\u8bb0\u5f97\\(f_r\\)\u7684\u5b9a\u4e49\u5417\uff09\u3002\u6240\u4ee5\uff0c\u6e32\u67d3\u65b9\u7a0b\u4e3a\\(L_o(\\omega_o)=f_rL_i\\int_{H^2}cos\\theta_id\\omega_i\\)\uff0c\\(cos\\theta_i\\)\u6307\u7684\u662f\u5165\u5c04\u5149\u4e0e\u6cd5\u7ebf\u7684\u5939\u89d2\uff0c\u521a\u597d\u7b49\u4e8e\u7a7a\u95f4\u4e2d\u7684\u4fef\u4ef0\u89d2\uff0c\u6211\u4eec\u7528\u7403\u5750\u6807\u628a\u5f0f\u5b50\u62c6\u6210\u4e8c\u91cd\u79ef\u5206\\(\\int_{H^2}cos\\theta_id\\omega_i=\\int_{2\\pi}\\int_{\\frac{\\pi}{2}}cos\\theta_id\\theta_i=\\pi\\)</p> <p></p> <p>\u6240\u4ee5\u539f\u672c\u7684\u5f0f\u5b50\\(L_o(\\omega_o)=f_rL_i\\pi\\) \uff1b\u6839\u636e\u80fd\u91cf\u5b88\u6052\u5b9a\u5f8b\uff0c\u8fdb\u6765\u591a\u5c11irradiance\u5c31\u5f97\u51fa\u53bb\u591a\u5c11irradiance\uff0c\u800c\u4e14\u7406\u60f3\u6f2b\u53cd\u5c04\u8868\u9762\u662f\u4e0d\u4f1a\u5438\u6536\u80fd\u91cf\u7684\uff0c\u6240\u4ee5\\(L_o=L_i\\)</p> <p>\u53ef\u63a8\u77e5  \\(f_r\\pi=1\\) \u6240\u4ee5\\(f_r=\\frac{1}{\\pi}\\)\u3002\u8fd9\u91cc\u53ef\u4ee5\u52a0\u4e00\u4e2aalbedo\uff1a\u989c\u8272\u503c</p>"},{"location":"CG/CGBasic/BRDF/#glossy-material","title":"glossy Material","text":"<p>\u5b9a\u4e49\uff1a\u5f88\u50cf\u955c\u9762\u53cd\u5c04\uff0c\u4f46\u53c8\u4e0d\u662f\u5b8c\u5168\u955c\u9762\uff0c\u6bd4\u955c\u9762\u8981\u7c97\u7cd9\u4e00\u4e9b\u3002\u5c31\u662f\u629b\u5149\u4e86\u7684\u91d1\u5c5e\u3002</p> <p></p> <p>\u4e0d\u540c\u7684\u6750\u8d28\u8868\u73b0\u51fa\u6765\u7684\u6027\u8d28\u4e5f\u4e0d\u76f8\u540c\u3002</p>"},{"location":"CG/CGBasic/BRDF/#bsdf","title":"\u7406\u60f3\u7684\u53cd\u5c04/\u6298\u5c04\u6750\u8d28(BSDF*)","text":"<p>\u4f1a\u51fa\u73b0\u4ee5\u4e0a\u8fd9\u79cd\u53cd\u5c04/\u6298\u5c04\u73b0\u8c61\u7684\u662f\u73bb\u7483\u6216\u8005\u6c34</p> <p></p> <p>\u4e0a\u56fe\u5de6\u8fb9\u5c31\u662f\u666e\u901a\u7684\u53cd\u5c04 \u548c \u6298\u5c04\uff0c\u53cd\u5c04\u4f7f\u5f97\u7403\u58f3\u8868\u9762\u80fd\u770b\u5230\u7a97\u5916\u7684\u5012\u5f71\uff0c\u6298\u5c04\u4f7f\u5f97\u5149\u7ebf\u80fd\u900f\u8fc7\u7403\u58f3\u6253\u5230\u91cc\u9762\u7684\u7070\u8272\u6750\u8d28\uff1b\u53f3\u8fb9\u7684\u53cd\u5c04\u548c\u5de6\u8fb9\u7684\u76f8\u540c\uff0c\u4f46\u662f\u6298\u5c04\u4e0d\u540c\uff0c\u539f\u56e0\u662f\u8fd9\u4e2a\u7403\u58f3\u662f\u6709\u989c\u8272\u7684\uff0c\u989c\u8272\u7684\u6765\u6e90\u662f\u6298\u5c04\u8fdb\u5165\u7403\u58f3\u7684\u5149\u7ebf\u88ab\u90e8\u5206\u5438\u6536\uff0c\u5982\u679c\u662f\u5b8c\u5168\u5438\u6536\u90a3\u4e48\u7403\u58f3\u5c31\u662f\u9ed1\u7684\u4e86\u3002\u6709\u4e00\u90e8\u5206\u88ab\u5438\u6536\uff0c\u53e6\u4e00\u90e8\u5206\u4ecd\u5728\u5f80\u524d\u4f20\u64ad\uff0c\u90a3\u5c31\u663e\u793a\u51fa\u4e86\u989c\u8272\u3002</p>"},{"location":"CG/CGBasic/BRDF/#_1","title":"\u7ed9\u5b9a\u6cd5\u7ebf\u548c\u5165\u5c04\u65b9\u5411\uff0c\u6c42\u51fa\u5c04\u65b9\u5411","text":"<p>\u6709\u4e24\u79cd\u6c42\u89e3\u65b9\u6cd5\u3002</p> <p>\u6cd5\u4e00\uff1a</p> <p></p> <p>\\(\\omega_i+\\omega_o=n\\)\uff1b\\(\\omega_i\\)\u5728\\(n\\)\u4e0a\u7684\u6295\u5f71\\((\\omega_i\u00b7n)n\\)\u5c31\u662f\u56fe\u4e2d\u7ea2\u7ebf\u7684\u90e8\u5206\uff0c\u5b83\u521a\u597d\u7b49\u4e8e\\(\\frac{1}{2}(\\omega_i+\\omega_o)\\)</p> <p>\u6240\u4ee5\u6709\\(\\omega_o=-\\omega_i+2(\\omega_i\u00b7n)n\\)</p> <p>\u53ef\u4ee5\u770b\u5230\u8ba1\u7b97\u8fd9\u4e2a\u53cd\u5c04\u65b9\u5411\u5e76\u4e0d\u662f\u90a3\u4e48\u7b80\u5355\uff0c\u8981\u7b97\u70b9\u4e58\u8fd8\u8981\u7b97\u52a0\u6cd5\u3002\u6240\u4ee5\u6211\u4eec\u4e00\u822c\u8ba1\u7b97\u534a\u7a0b\u5411\u91cf\u6765\u5f97\u66f4\u5bb9\u6613\u4e00\u4e9b</p> <p>\u6cd5\u4e8c\uff1a\u5229\u7528\u7403\u9762\u5750\u6807\u4e0b\u5411\u91cf\u7684\u65b9\u5411\u89d2\u548c\u4fef\u4ef0\u89d2\u3002</p> <p>\u7531\u6cd5\u4e00\u6211\u4eec\u77e5\u9053\\(\\omega_i\\)\u548c\\(\\omega_o\\)\u7684\u4fef\u4ef0\u89d2\u76f8\u540c\u3002\u90a3\u4e48\u73b0\u5728\u53ea\u9700\u6c42\\(\\omega_o\\)\u7684\u65b9\u5411\u89d2\u5373\u53ef\u3002\u5176\u5b9e\u8fd9\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u4ece\u4e0a\u5f80\u4e0b\u770bshading point\u6240\u5728\u7684\u5e73\u9762</p> <p></p> <p>\\(\\phi_o\\)\u521a\u597d\u7b49\u4e8e\\(\\phi_i\\)\u52a0\u4e0a\\(\\pi\\)\uff0c\u518d\u5bf9\\(2\\pi\\)\u53d6\u6a21\u3002</p>"},{"location":"CG/CGBasic/BRDF/#brdf_1","title":"\u7406\u60f3\u955c\u9762\u53cd\u5c04BRDF","text":"<p>\u8981\u5199\u5bf9\u8fd9\u4e2aBRDF\u5e76\u4e0d\u662f\u90a3\u4e48\u7b80\u5355\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u770bPBRT\u8fd9\u672c\u4e66\u3002</p>"},{"location":"CG/CGBasic/BRDF/#snells-law","title":"\u6298\u5c04\u2014\u2014Snell's Law","text":"<p>\u7126\u6563</p> <p></p> <p>\u6709\u4e00\u79cd\u6ce2\u5149\u7cbc\u7cbc\u7684\u6548\u679c\uff0c\u8ba1\u7b97\u673a\u4e0a\u5f88\u96be\u505a\u5230\uff0c\u800c\u4e14\u4e0d\u9002\u5408\u7528path tracing</p> <p>Snell's Law</p> <p>\u6839\u636e\u5165\u5c04\u5149\u6240\u5728\u4ecb\u8d28\u7684\u6298\u5c04\u7387\u548c\u51fa\u5c04\u5149\u6240\u5728\u4ecb\u8d28\u7684\u6298\u5c04\u7387\uff0c\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6298\u5c04\u5149\u7ebf\u4e0e\u6cd5\u7ebf\u7684\u5939\u89d2\u3002\u8fd9\u5c31\u662fSnell\u5b9a\u5f8b\uff01</p> <p></p> <p>\\(\\eta_isin\\theta_i=\\eta_tsin\\theta_t\\)</p> <p>\u7a7a\u6c14\u7684\u6298\u5c04\u7387\u662f1\uff1b\u6c34\u7684\u6298\u5c04\u7387\u662f1.3333\uff1b\u73bb\u7483\u7684\u6298\u5c04\u7387\u662f1.5-1.6\uff1b\u94bb\u77f3\u7684\u6298\u5c04\u7387\u662f2.42\u3002\u53ef\u4ee5\u770b\u5230\u94bb\u77f3\u7684\u6298\u5c04\u7387\u975e\u5e38\u7684\u9ad8\uff0c\u5f53\u5149\u4ece\u7a7a\u6c14\u8fdb\u5165\u94bb\u77f3\uff0c\u5149\u7ebf\u4f1a\u88ab\u6298\u5c04\u5f97\u975e\u5e38\u5389\u5bb3\uff0c\u8fd9\u4e5f\u5c31\u662f\u94bb\u77f3\u4e3a\u4ec0\u4e48\u90a3\u4e48\u95ea\u8000\u7684\u539f\u56e0\u3002</p> <p>\u5bf9\u4e0a\u5f0f\u8fdb\u884c\u5904\u7406\uff0c\u53ef\u4ee5\u5f97\u5230</p> <p></p> <p>\u5f53\\(cos\\theta_t\\)\u5f97\u4e0d\u5230\u4e00\u4e2a\u6709\u610f\u4e49\u7684\u5b9e\u6570\u65f6\uff0c\u6298\u5c04\u5c31\u4e0d\u4f1a\u53d1\u751f\uff0c\u4e5f\u5c31\u662f\u5f53\\(1-(\\frac{\\eta_i}{\\eta_t})^2(1-cos^2\\theta_i)&lt;0\\)\u65f6\uff0c\u53ef\u4ee5\u63a8\u51fa\\(\\eta_i&gt;\\eta_t\\)\u3002\u5f53\u5149\u4ece\u6298\u5c04\u7387\u6bd4\u8f83\u5927\u7684\u4ecb\u8d28\u8fdb\u5165\u4e86\u6298\u5c04\u7387\u6bd4\u8f83\u5c0f\u7684\u4ecb\u8d28\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u6ca1\u6709\u6298\u5c04\u7684\u73b0\u8c61\uff0c\u8fd9\u5c31\u53eb\u5168\u53cd\u5c04\u73b0\u8c61\uff01</p> <p></p> <p>\u4eba\u5728\u6c34\u5e95\u5f80\u5404\u4e2a\u65b9\u5411\u53bb\u770b\uff0c\u6700\u591a\u53ea\u80fd\u770b\u5230\u4e00\u4e2a\u9525\u5f62\u7684\u533a\u57df\u3002\u56e0\u4e3a\u6839\u636e\u5de6\u8fb9\u8fd9\u4e2a\u56fe\uff0c\u5f53\u4eba\u5f80\u56fe\u4e2d\u5708\u51fa\u6765\u7684\u90a3\u4e2a\u65b9\u5411\u53bb\u770b\u7684\u65f6\u5019\uff0c\u5149\u7ebf\u5f80\u5e73\u7684\u65b9\u5411\u53bb\u4e86\uff0c\u5982\u679c\u8fd9\u4e2a\u89d2\u5ea6\u518d\u5927\u4e00\u70b9\uff0c\u6240\u6709\u80fd\u91cf\u90fd\u4f1a\u53cd\u5c04\u5230\u6c60\u5b50\u5730\u4e0b\u90a3\u5c31\u770b\u4e0d\u89c1\u4e86\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u53f3\u8fb9\u7684\u56fe\u4f1a\u5468\u56f4\u6709\u4e00\u5708\u9ed1\u7684\u3002</p> <p>\u6211\u4eec\u4e4b\u524d\u5728path tracing\u4e00\u4e2a\u7403\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u7403\u6709\u5f88\u597d\u7684\u5bf9\u79f0\u6027\u8d28\uff0c\u6240\u6709\u8fdb\u5165\u7403\u7684\u5149\u90fd\u4f1a\u88ab\u6298\u5c04\u51fa\u53bb\uff0c\u5165\u5c04\u70b9\u548c\u51fa\u5c04\u70b9\u6709\u5f88\u660e\u663e\u7684\u5bf9\u79f0\u6027\u8d28(\u8fd9\u4e00\u70b9\u6211\u6682\u65f6\u6ca1\u641e\u61c2)\u3002</p> <p>BRDF\u8868\u793a\u53cd\u5c04\uff0cR\u662freflect\u7684\u610f\u601d\u3002\u8868\u793a\u6298\u5c04\u7528BTDF\uff0cT\u662ftransmit\u7684\u610f\u601d\u3002BTDF+BRDF=BSDF\uff0cS\u662fscatter\u7684\u610f\u601d\uff0c\u8868\u793a\u6563\u5c04\uff0c\u53cd\u5c04\u548c\u6298\u5c04\u90fd\u80fd\u770b\u4f5c\u4e00\u79cd\u6563\u5c04\u3002</p>"},{"location":"CG/CGBasic/BRDF/#fresnel-reflectionterm","title":"Fresnel Reflection/Term \u83f2\u6d85\u5c14\u9879","text":"<p>\u65e2\u7136\u4e00\u4e2a\u5149\u7167\u5230\u4e00\u4e2a\u7269\u4f53\u4e0a\uff0c\u90e8\u5206\u88ab\u53cd\u5c04\u90e8\u5206\u88ab\u6298\u5c04\uff0c\u90a3\u4e48\u53cd\u5c04\u90e8\u5206\u548c\u6298\u5c04\u90e8\u5206\u5206\u522b\u5360\u591a\u5c11\u5462\uff1f\u8fd9\u5c31\u6d89\u53ca\u5230\u83f2\u6d85\u5c14\u5b9a\u5f8b\u4e86\u3002\u53cd\u5c04\u90e8\u5206\u7684\u6bd4\u4f8b\u548c\u5165\u5c04\u5149\u7684\u89d2\u5ea6\u6709\u5173\u3002\u5f53\u5165\u5c04\u5149\u63a5\u8fd1\u4e8e\u6cd5\u7ebf\u7684\u65f6\u5019\u6298\u5c04\u90e8\u5206\u8f83\u591a\uff0c\u5f53\u5165\u5c04\u5149\u548c\u6cd5\u7ebf\u5939\u89d2\u63a5\u8fd190\u5ea6\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662fgrazing angle\uff0c\u53cd\u5c04\u90e8\u5206\u8f83\u591a\u3002</p> <p></p> <p>\u4e24\u6761\u865a\u7ebf\u6307\u7684\u662f\u6781\u5316\uff0c\u53ea\u770b\u7ea2\u5b9e\u7ebf\u5c31\u884c\u3002x\u8f74\u8868\u793a\u5165\u5c04\u5149\u548c\u6cd5\u7ebf\u7684\u5939\u89d2\uff0cy\u8f74\u8868\u793a\u6709\u591a\u5c11\u88ab\u53cd\u5c04\u3002\u53ef\u89c1\u5f53\u5939\u89d2\u63a5\u8fd1grazing angle\u7684\u65f6\u5019\uff0c\u53cd\u5c04\u6025\u5267\u589e\u52a0\u52301\u3002</p> <p>\u5bfc\u4f53\u7684\u83f2\u6d85\u5c14\u9879\u53c8\u4e0d\u4e00\u6837\u4e86\uff0c\u5bfc\u4f53\u7684\u6298\u5c04\u7387\u662f\u590d\u6570\uff0c\u7edd\u7f18\u4f53\u7684\u6298\u5c04\u7387\u662f\u5b9e\u6570\u3002</p> <p></p> <p>\u91d1\u5c5e\u7684\u83f2\u6d85\u5c14\u9879\uff0c\u5f53\u5782\u76f4\u89c2\u770b\u8868\u9762\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662f\u5165\u5c04\u5149\u548c\u6cd5\u7ebf\u5939\u89d2\u8f83\u5c0f\u7684\u65f6\u5019\uff0c\u88ab\u53cd\u5c04\u7684\u90e8\u5206\u4e5f\u975e\u5e38\u591a\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u53e4\u4ee3\u955c\u5b50\u7528\u94dc\u955c\u7684\u539f\u56e0\u3002</p> <p>\u83f2\u6d85\u5c14\u9879\u7684\u8ba1\u7b97\u65b9\u6cd5\uff1a\u7528schlick\u2019s\u8fd1\u4f3c</p> <p>\\(R(\\theta)=R_0+(1-R_0)(1-cos\\theta)^5\\)\uff0c\\(R_0=(\\frac{n_1-n_2}{n_1+n_2})^2\\)</p> <p>\\(R_0\\)\u8868\u793a\u7684\u662f\\(R(0)\\)\uff0c\u8fd9\u4e2a\u5f0f\u5b50\u8fd1\u4f3c\u8868\u8fbe\u4e86\u83f2\u6d85\u5c14\u9879\u4ece\\(R_0\\)\u589e\u957f\u52301\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"CG/CGBasic/BRDF/#_2","title":"\u5fae\u8868\u9762\u7406\u8bba","text":"<p>\uff08\u8fd9\u91cc\u4e0d\u4f1a\u8be6\u7ec6\u8bb2\u89e3\uff09</p> <p>\u5fae\u8868\u9762\u7406\u8bba\u7684\u5173\u952e\u662f\uff1a\u5fae\u8868\u9762\u6cd5\u7ebf\u7684\u5206\u5e03</p> <p>\u5fae\u8868\u9762\u6cd5\u7ebf\u5c31\u5728\u8868\u9762\u6cd5\u7ebf\u5468\u56f4\u7684\u4e00\u4e2a\u5c0f\u533a\u57df\u5185\u6709\u5206\u5e03\uff0c\u8868\u9762\u770b\u8d77\u6765\u76f8\u5bf9\u5149\u6ed1\uff0c\u5bf9\u5e94\u7684\u662fglossy\u7684\u6750\u8d28\u3002</p> <p></p> <p>\u5f53\u5fae\u8868\u9762\u6cd5\u7ebf\u5206\u5e03\u5f97\u5f88\u5f00\uff0c\u5404\u4e2a\u671d\u5411\u7684\u5fae\u8868\u9762\u90fd\u6709\uff0c\u6750\u8d28\u5c31\u4f1a\u770b\u8d77\u6765\u6bd4\u8f83\u7c97\u7cd9\uff0c\u5bf9\u5e94\u7684\u662fdiffuse\u7684\u6750\u8d28\u3002</p> <p></p> <p>\u6240\u4ee5\uff0c\u8868\u9762\u7684\u7c97\u7cd9\u7a0b\u5ea6\u53ef\u4ee5\u7528\u5fae\u8868\u9762\u6cd5\u7ebf\u5206\u5e03\u6765\u8868\u793a\u3002</p>"},{"location":"CG/CGBasic/BRDF/#brdf_2","title":"\u5fae\u8868\u9762\u7684BRDF","text":"<p>\u83f2\u6d85\u5c14\u9879\uff1a\u6709\u591a\u5c11\u88ab\u53cd\u5c04\u3002\u5148\u5b9a\u597d\u80fd\u91cf</p> <p>\u6cd5\u7ebf\u5206\u5e03\u9879\uff1a\u5165\u5c04\u65b9\u5411i\u8fc7\u6765\u7684\u5149\uff0c\u6709\u591a\u5c11\u80fd\u88ab\u53cd\u5c04\u5230\u65b9\u5411o\u4e0a\u9762\u53bb\u3002\u6839\u636e\u4e4b\u524d\u7684\u77e5\u8bc6\uff0c\u53c2\u6570\u53ea\u9700\u4f20\u5165\u534a\u7a0b\u5411\u91cfh\uff0c\u5fae\u8868\u9762\u6cd5\u7ebf\u6709\u591a\u5c11\u7b49\u4e8eh\uff0c\u90a3\u5c31\u6709\u591a\u5c11\u5149\u80fd\u88ab\u53cd\u5c04\u5230\u65b9\u5411o</p> <p>\u51e0\u4f55\u9879G\u9879\uff1a\u5149\u7ebf\u4ece\u65b9\u5411i\u8fc7\u6765\uff0c\u6709\u4e00\u90e8\u5206\u53ef\u80fd\u88ab\u906e\u6321\uff1b\u5149\u7ebf\u4ece\u65b9\u5411o\u53cd\u5c04\u51fa\u53bb\uff0c\u4e5f\u6709\u4e00\u90e8\u5206\u53ef\u80fd\u88ab\u906e\u6321\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u906e\u853d\u9879\u6765\u786e\u5b9a\u6709\u591a\u5c11\u80fd\u91cf\u4e0d\u88ab\u906e\u6321\u3002\u663e\u7136\uff0c\u5f53\u5149\u7ebf\u51e0\u4e4e\u5782\u76f4\u8868\u9762\u6cd5\u7ebf\u6253\u8fc7\u6765\u65f6\uff0c\u6709\u5f88\u5927\u4e00\u90e8\u5206\u4f1a\u88ab\u906e\u6321\uff1b\u540c\u7406\uff0c\u89c2\u5bdf\u65b9\u5411\u63a5\u8fd1grazing angle\u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u6709\u5f88\u5927\u4e00\u90e8\u5206\u88ab\u906e\u6321\u3002\u6240\u4ee5G\u9879\u7684\u53c2\u6570\u9700\u8981i,o,h\u3002\u51e0\u4f55\u9879\u662f\u7528\u6765\u4fee\u6b63grazing angle\u6bd4\u8f83\u4eae\u7684\u95ee\u9898\u7684\u3002</p> <p>\u603b\u7ed3\uff1a\u5149\u5982\u4f55\u53cd\u5c04\uff0c\u51b3\u5b9a\u6027\u56e0\u7d20\u662f\u6cd5\u7ebf\u662f\u96c6\u4e2d\u8fd8\u662f\u53d1\u6563\uff0c\u4e5f\u5c31\u662f\u6cd5\u7ebf\u5206\u5e03\u9879</p>"},{"location":"CG/CGBasic/BRDF/#brdf_3","title":"\u5404\u9879\u540c\u6027\u4e0e\u5404\u9879\u5f02\u6027BRDF","text":"<p>\u5404\u9879\u540c\u6027\u7684\u5728\u516c\u5f0f\u4e0a\u7684\u610f\u601d\u662f\uff0c\\(f_r(\\theta_i,\\phi_i;\\theta_r,\\phi_r)= f_r(\\theta_i,\\theta_r,\\phi_r-\\phi_i)\\)\u4ece4\u7ef4\u964d\u52303\u7ef4\u3002</p> <p>\u540c\u7406\uff0c\u5404\u5411\u5f02\u6027\u7684\u610f\u601d\u662f\\(f_r(\\theta_i,\\phi_i;\\theta_r,\\phi_r)\\neq f_r(\\theta_i,\\theta_r,\\phi_r-\\phi_i)\\)</p>"},{"location":"CG/CGBasic/BRDF/#brdf_4","title":"BRDF\u7684\u6027\u8d28","text":"<ul> <li>\u975e\u8d1f\u6027<ul> <li>\\(f_r(\\omega_i\\rightarrow\\omega_r)&gt;0\\)</li> </ul> </li> <li>\u7ebf\u6027\u6027<ul> <li>\u53ef\u52a0\u6027</li> </ul> </li> <li>\u53ef\u9006\u6027<ul> <li>\\(f_r(\\omega_i\\rightarrow\\omega_r)=f_r(\\omega_r\\rightarrow\\omega_i)\\)</li> </ul> </li> <li>\u80fd\u91cf\u5b88\u6052<ul> <li>\\(\\forall\\omega_r\\int_{H^2}f_r(\\omega_i\\rightarrow\\omega_r)\\cos\\theta_id\\omega_i\\leq1\\)</li> </ul> </li> </ul>"},{"location":"CG/CGBasic/BRDF/#brdf_5","title":"BRDF\u6d4b\u91cf","text":"<p>\u524d\u9762\u63d0\u5230\u8fc7BRDF\u662f\u56db\u7ef4\u7684\\(f_r(\\theta_i,\\phi_i;\\theta_r,\\phi_r)\\)\uff0c\u90a3\u4e48\u6d4b\u91cfBRDF\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u5c31\u662f\u5148\u56fa\u5b9a\u4e00\u4e2a\u5149\u6e90\uff0c\u8ba9\u76f8\u673a\u5728\u534a\u7403\u4e0a\u8d70\u4e00\u904d\uff1b\u518d\u632a\u52a8\u4e00\u4e0b\u5149\u6e90\uff0c\u8ba9\u76f8\u673a\u5728\u534a\u7403\u4e0a\u8d70\u4e00\u904d\uff0c\u76f4\u5230\u5149\u6e90\u8d70\u904d\u4e86\u6574\u4e2a\u534a\u7403\u3002</p> <p>\u542c\u8d77\u6765\u5c31\u6570\u636e\u91cf\u5f88\u5927\uff0c\u4e00\u4e2a\u7b80\u5316\u65b9\u6cd5\u662f\u5bf9\u4e8e\u5404\u9879\u540c\u6027\u6750\u8d28\uff0c\\((\\theta_i,\\theta_r,\\phi_r-\\phi_i)\\)\u6570\u636e\u7ef4\u6570\u964d\u5230\u4e86\u4e09\u7ef4\u3002</p> <p>\u518d\u5229\u7528\u5149\u8def\u7684\u53ef\u9006\u6027\uff0c\u76f8\u673a\u5149\u6e90\u53ea\u9700\u8d70\u534a\u7403\u7684\u4e00\u534a</p> <p>\u7b49\u7b49\u3002\u3002\u3002\u8fd8\u6709\u5f88\u591a\u4f18\u5316BRDF\u6d4b\u91cf\u7684\u65b9\u6cd5\uff0c\u8fc7\u4e8e\u590d\u6742\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u3002</p>"},{"location":"CG/CGBasic/GPU%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/","title":"GPU\u6e32\u67d3\u7ba1\u7ebf","text":"<p>\u7eff\u8272\uff1a\u5b8c\u5168\u53ef\u7f16\u7a0b\u9636\u6bb5\uff1b\u9ec4\u8272\uff1a\u9ad8\u5ea6\u53ef\u914d\u7f6e\u9636\u6bb5\uff1b\u84dd\u8272\uff1a\u4e0d\u53ef\u7f16\u7a0b\u4e0d\u53ef\u914d\u7f6e\u9636\u6bb5</p>"},{"location":"CG/CGBasic/GPU%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_1","title":"\u66f2\u9762\u7ec6\u5206\u7740\u8272\u5668\uff1a","text":"<p>why\uff1a\u4e09\u89d2\u7f51\u683c\u7cbe\u5ea6\u4e0d\u591f\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u5bf9\u4e09\u89d2\u9762\u8fdb\u884c\u7ec6\u5206\u6765\u589e\u52a0\u7ec6\u8282\u3002</p> <p>\u4f18\u70b9\uff1a</p> <ol> <li>\u53ef\u4ee5\u501f\u52a9\u66f2\u9762\u7ec6\u5206\u6765\u5b9e\u73b0\u7ec6\u8282\u5c42\u6b21\u7684\u673a\u5236\uff1a\u79bb\u76f8\u673a\u8d8a\u8fd1\u7684\u7269\u4f53\u5177\u6709\u66f4\u52a0\u4e30\u5bcc\u7684\u7ec6\u8282\uff0c\u8fd9\u6837\u5bf9\u4e8e\u8fdc\u8ddd\u79bb\u7684\u7269\u4f53\u4e0d\u7528\u6d88\u8017\u8fc7\u591a\u7684\u5b58\u50a8\u3002</li> <li>\u53ef\u4ee5\u51cf\u5c11\u6a21\u578b\u7684\u5b58\u50a8\u91cf\uff0c\u6709\u66f2\u9762\u7ec6\u5206\u6280\u672f\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u786c\u76d8\u4e0a\u5b58\u50a8\u4f4e\u7cbe\u5ea6\u7684\u7f51\u683c\uff0c\u5f53\u7f51\u683c\u8f93\u5165\u6e32\u67d3\u7ba1\u7ebf\u4e4b\u540e\u518d\u8fdb\u884c\u66f2\u9762\u7ec6\u5206\u3002</li> </ol> <p>what\uff1a\u5229\u7528\u9576\u5d4c\u5316\u6280\u672f\uff0c\u662f\u6e32\u67d3\u7ba1\u7ebf\u7684\u4e00\u4e2a\u53ef\u9009\u9636\u6bb5\uff0c\u7531\u5916\u58f3\u7740\u8272\u5668\u3001\u9576\u5d4c\u5668\u548c\u57df\u7740\u8272\u5668\u7ec4\u6210\u3002</p>"},{"location":"CG/CGBasic/GPU%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_2","title":"\u51e0\u4f55\u7740\u8272\u5668","text":"<p>why\uff1a\u51e0\u4f55\u7740\u8272\u5668\u53ef\u4ee5\u5c06\u8f93\u5165\u7684\u56fe\u5143\u6269\u5145\u6210\u591a\u8fb9\u5f62\uff0c\u6216\u662f\u4ec0\u4e48\u90fd\u4e0d\u8f93\u51fa\u3002\u5176\u4eae\u70b9\u5c31\u662f\u53ef\u4ee5\u521b\u5efa\u6216\u9500\u6bc1\u51e0\u4f55\u56fe\u5143</p> <p>what\uff1a\u7ba1\u7ebf\u7684\u53ef\u9009\u9636\u6bb5\uff0c\u5728\u66f2\u9762\u7ec6\u5206\u7740\u8272\u5668\u4e4b\u540e\u5149\u6805\u5316\u4e4b\u524d\u3002</p> <p>\u5e94\u7528\uff1a\u6cd5\u7ebf\u53ef\u89c6\u5316\uff0c\u52a8\u6001\u51e0\u4f55\u4f53\uff0c\u516c\u544a\u724c</p>"},{"location":"CG/CGBasic/TangentSpace/","title":"Tangent Space","text":"<p>why\uff1a\u6cd5\u7ebf\u8d34\u56fe\u4e2d\u7684\u6cd5\u7ebf\u662f\u5b9a\u4e49\u5728\u5c40\u90e8\u5750\u6807\u7cfb\u4e2d\u7684\uff0c\u6cd5\u7ebf\u8d34\u56fe\u7ed9\u6a21\u578b\u589e\u52a0\u4e86\u7ec6\u8282\u3002\u6bd4\u5982\u5f53\u6ca1\u6709\u6cd5\u7ebf\u8d34\u56fe\u7684\u65f6\u5019\uff0c\u4e09\u89d2\u5f62\u5185\u90e8\u7684\u7247\u6bb5\u6cd5\u7ebf\u662f\u63d2\u503c\u800c\u6765\u7684\uff0c\u6574\u4f53\u770b\u8d77\u6765\u5c31\u6bd4\u8f83\u5149\u6ed1\uff0c\u6ca1\u4ec0\u4e48\u7ec6\u8282\u3002\u7528\u4e86\u6cd5\u7ebf\u8d34\u56fe\u4e4b\u540e\uff0c\u6bcf\u4e2a\u7247\u6bb5\u53ef\u4ee5\u4eba\u4e3a\u7684\u8bbe\u7f6e\u4e00\u4e2a\u6cd5\u7ebf\uff0c\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u5149\u7167\u6548\u679c\u3002\u5f88\u663e\u7136\uff0c\u6211\u4eec\u5e0c\u671b\u6cd5\u7ebf\u8d34\u56fe\u4e2d\u7684\u6cd5\u7ebf\u662f\u76f8\u5bf9\u4e8e\u4e09\u89d2\u5f62\u6cd5\u7ebf\u9759\u6b62\u7684\uff0c\u800c\u4e0d\u662f\u5f53\u4e09\u89d2\u5f62\u53d1\u751f\u7ffb\u8f6c\u7684\u65f6\u5019\uff0c\u6cd5\u7ebf\u8d34\u56fe\u4e2d\u7684\u6cd5\u7ebf\u8fd8\u539f\u5730\u4e0d\u52a8\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u5176\u5b9a\u4e49\u5728\u5c40\u90e8\u5750\u6807\u7cfb\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e00\u4e2a\u4e09\u89d2\u5f62\u6240\u5728\u7684\u9762\u662fxoy\u9762\uff0c\u6cd5\u7ebf\u662fz\u8f74\u7684\u5750\u6807\u7cfb\u3002\u7531\u6b64\u5f15\u51fatangent space\uff01</p> <p>what\uff1a\u51e0\u4e4e\u6240\u6709\u7684\u5c40\u90e8\u5750\u6807\u7cfb\u90fd\u79f0\u4e3atangent space\u3002z\u8f74\u662f\u6cd5\u7ebf\uff0ct\u8f74\u5bf9\u5e94\u7eb9\u7406\u7684u\u8f74\uff0cb\u5bf9\u5e94\u7eb9\u7406\u7684v\u8f74\u3002\u6bcf\u4e2a\u9876\u70b9\u90fd\u6709\u81ea\u5df1\u7684tbn\uff0c\u5149\u6805\u5316\u63d2\u503c\u5230\u7247\u6bb5\u7740\u8272\u5668\u4e4b\u540e\u6bcf\u4e2a\u7247\u6bb5\u90fd\u6709\u81ea\u5df1\u7684tbn\uff0c\u6cd5\u7ebf\u5c31\u5b9a\u4e49\u5728\u8fd9\u4e2atbn\u4e2d\u3002\u8ba1\u7b97\u6240\u9700\u539f\u6599\uff1a\u4e09\u89d2\u5f62\u4e09\u4e2a\u9876\u70b9\u7684position\u548c\u7eb9\u7406\u5750\u6807</p> <p>how\uff1a\u8fd9\u91cc\u8bb2\u8ff0t\u548cb\u5982\u4f55\u8ba1\u7b97\u3002</p> <p>\u9876\u70b9\u7684\u7eb9\u7406\u5750\u6807\u548cposition\u4e00\u4e00\u5bf9\u5e94</p> <p></p> <p>\\(p_0=u_0t+v_0b\\)\uff1b\\(p_1=u_1t+v_1b\\)\uff1b\\(p_2=u_2t+v_2b\\)\uff1b</p> <p>\u6240\u4ee5\\(p_1-p_0=(u_1-u_0)t+(v_1-v_0)b\\)\uff1b\\(p_2-p_0=(u_2-u_0)t+(v_2-v_0)b\\)</p> <p></p> <p></p> <p>\u5199\u6210\u77e9\u9635\u7684\u5f62\u5f0f\u5c31\u662f</p> <p></p> <p>\u628a\u6700\u53f3\u8fb9\u7684\u77e9\u9635\u6c42\u9006\u632a\u5230\u7b49\u53f7\u5de6\u8fb9\uff0c\u6709</p> <p></p> <p>\\(e_1,e_2\\)\u662f\u9876\u70b9\u7684position\u3002\u8fd9\u6837\u5c31\u80fd\u6c42\u51fat\u548cb\u4e86\u3002</p> <p>\u7136\u800c \u8fd9\u6837\u6c42\u51fa\u7684t\u548cb\u662f\u5355\u4e2a\u4e09\u89d2\u5f62\u7684\u3002\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u9876\u70b9\u53ef\u80fd\u4f1a\u88ab\u5f88\u591a\u4e2a\u4e09\u89d2\u5f62\u590d\u7528\uff0c\u9876\u70b9\u7684\u6cd5\u7ebf\u662f\u7531\u8fd9\u4e9b\u4e09\u89d2\u5f62\u7684\u6cd5\u7ebf\u52a0\u6743\u5e73\u5747\u800c\u6765\uff0c\u6240\u4ee5\u6cd5\u7ebf\u5f88\u53ef\u80fd\u5e76\u4e0d\u5782\u76f4\u5355\u4e00\u5e73\u9762\u3002\u6240\u4ee5\u8981\u5bf9t\u505a\u65bd\u5bc6\u7279\u6b63\u4ea4\u5316\uff0c\u8ba9t\u53bb\u5782\u76f4\u4e8en\u3002</p> <p></p> <p>\u4e5f\u7531\u65bd\u5bc6\u7279\u6b63\u4ea4\u5316\uff0c\u53bb\u5904\u7406b</p> <p></p> <p>\u8fd9\u6837tbn\u5c31\u6c42\u89e3\u5b8c\u6bd5\u4e86\u3002</p> <p>\u4e0e\u5b9e\u9645\u5e94\u7528\u4e0d\u540c\u7684\u662f\uff0c\u6bcf\u4e2a\u9876\u70b9\u6211\u4eec\u5f80\u5f80\u53ea\u8bb0\u5f55t\u548cn\uff0cb\u7528\u53c9\u4e58\u8ba1\u7b97\u51fa\u6765\u3002\u4f46\u662ftangent space\u53ef\u4ee5\u662f\u5de6\u624b\u7cfb\u4e5f\u53ef\u4ee5\u662f\u53f3\u624b\u7cfb\uff0c\u600e\u4e48\u5224\u65ad\u5462\uff1f\u7b54\u6848\u662f\u63d0\u524d\u8ba1\u7b97\u77e9\u9635[t,b,n]\u7684\u884c\u5217\u5f0f\u7684\u7b26\u53f7\uff0c\u5e76\u653e\u5728n\u6216\u8005t\u7684w\u5206\u91cf\u5e26\u8fc7\u6765\uff0c\u9876\u70b9\u7740\u8272\u5668\u4e2db\u7684\u8ba1\u7b97\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"CG/CGBasic/games202_10/","title":"\u5b9e\u65f6\u7684\u57fa\u4e8e\u7269\u7406\u7684\u6750\u8d28","text":""},{"location":"CG/CGBasic/mipmap/","title":"mipmap","text":"<p>why\uff1amipmap\u662f\u7528\u6765\u89e3\u51b3\u7eb9\u7406\u8fc7\u5927\u5e26\u6765\u7684\u95ee\u9898\u3002\u7eb9\u7406\u8fc7\u5927\uff0c\u4e00\u9897\u50cf\u7d20\u4f1a\u8986\u76d6\u7eb9\u7406\u4e0a\u7684\u4e00\u7247\u7eb9\u7d20\uff0c\u4e00\u4e2a\u50cf\u7d20\u91cc\u9762\u7684\u989c\u8272\u4fe1\u606f\u662f\u9ad8\u9891\u53d8\u5316\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u50cf\u7d20\u53d6\u4ec0\u4e48\u503c\u5462\uff1f\u5982\u679c\u6211\u4eec\u4ec5\u4ec5\u7528\u50cf\u7d20\u4e2d\u5fc3\u6c42\u7eb9\u7406\u5750\u6807\uff0c\u91c7\u6837\u540e\u5c31\u5199\u56de\u50cf\u7d20\uff0c\u4f1a\u53d1\u751f\u4e0b\u9762\u7684\u95ee\u9898\u3002</p> <p></p> <p>\u8fd1\u5904\u4ea7\u751f\u952f\u9f7f\uff0c\u8fdc\u5904\u4ea7\u751f\u6469\u5c14\u7eb9\u3002\u89e3\u51b3\u8d70\u6837\u7684\u95ee\u9898\u5173\u952e\u5728\u4e8e\u8ba1\u7b97\u50cf\u7d20\u8986\u76d6\u7684\u90a3\u4e00\u7247\u7eb9\u7406\u7684\u5e73\u5747\u503c\u3002</p> <p>\u65e2\u7136\u8d70\u6837\u662f\u56e0\u4e3a\u91c7\u6837\u7387\u4e0d\u8db3\u5bfc\u81f4\uff0c\u90a3\u4e48\u6211\u4eec\u4f7f\u7528\u8d85\u91c7\u6837\u5462\uff1f\u4e00\u4e2a\u50cf\u7d20\u5185\u90e8\u6709512\u4e2a\u91c7\u6837\u70b9\uff0c\u628a512\u6b21\u91c7\u6837\u7684\u7ed3\u679c\u6c42\u5e73\u5747\uff0c\u5f97\u5230\u7684\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p></p> <p>\u6548\u679c\u5f88\u597d\uff0c\u4f46\u662f\u6027\u80fd\u6d88\u8017\u592a\u9ad8\u4e86\uff01</p> <p>\u91c7\u6837\u4f1a\u5f15\u8d77\u8d70\u6837\uff0c\u90a3\u6211\u4eec\u4e0d\u91c7\u6837\uff0c\u5219\u53ea\u9700\u8981\u5f97\u5230\u50cf\u7d20\u5bf9\u5e94\u7684footprint\u7684\u5e73\u5747\u503c\uff0cfootprint\u8fd1\u4f3c\u662f\u4e2a\u5e73\u884c\u56db\u8fb9\u5f62\uff0c\u4e14\u8fb9\u5e73\u884c\u4e8e\\(u_x=(du/dx,dv/dx)\\) \\(u_y=(du/dy,dv/dy)\\)\u3002\u7ed9\u5b9a\u4efb\u4f55\u4e00\u4e2a\u533a\u57df\uff0c\u8981\u5f97\u5230\u8be5\u533a\u57df\u989c\u8272\u5e73\u5747\u503c\u7684\u95ee\u9898\uff0c\u79f0\u4e3a\u8303\u56f4\u67e5\u8be2\u3002</p> <p>\u4e00\u4e2a\u573a\u666f\uff0c\u6709\u8fd1\u5904\u7684\u7269\u4f53\u4e5f\u6709\u8fdc\u5904\u7684\u7269\u4f53\uff0c\u5047\u8bbe\u5b83\u4eec\u90fd\u7528\u540c\u4e00\u4e2a\u7eb9\u7406\u3002\u8fd1\u5904\u7684\u7269\u4f53\u5927\uff0c\u4e00\u4e2a\u50cf\u7d20\u8986\u76d6\u7684\u7eb9\u7406\u533a\u57df\u5c0f\uff1b\u8fdc\u5904\u7684\u7269\u4f53\u5c0f\uff0c\u4e00\u4e2a\u50cf\u7d20\u8986\u76d6\u7684\u7eb9\u7406\u533a\u57df\u5927\u3002\u56e0\u6b64\uff0c\u8303\u56f4\u67e5\u8be2\u5e94\u8be5\u80fd\u67e5\u8be2\u4efb\u610f\u4e0d\u540c\u7684\u5927\u5c0f\u3002\u6240\u4ee5\u5f15\u5165mipmap\uff01</p> <p>mipmap\u53ea\u5141\u8bb8\u201c\u8fd1\u4f3c\u7684\u201d\uff0c\u201c\u6b63\u65b9\u5f62\u201d\u7684\u67e5\u8be2\u3002mipmap\u67e5\u8be2\u5f88\u5feb</p> <p></p> <p>\u6240\u6709\u5c42\u7ea7\u7684mipmap\u5b58\u50a8\u7a7a\u95f4\u662f\\(\\frac{4}{3}\\), \u7ea7\u6570\u6c42\u548c \\(1+\\frac{1}{4}+\\frac{1}{4^2}+\\frac{1}{4^3}+\\frac{1}{4^4}+\u2026\u2026\\)\uff0c\u6240\u4ee5mipmap\u53ea\u9700\u8981\u989d\u5916\u539f\u672c\u7684\\(\\frac{1}{3}\\)</p> <p>\u4efb\u4f55\u4e00\u4e2a\u50cf\u7d20\uff0c\u53ef\u4ee5\u6620\u5c04\u5230\u7eb9\u7406\u4e0a\u7684\u4e00\u4e2a\u533a\u57df\uff0c\u79f0\u4e3afootprint\uff0c\u6839\u636efootprint\u7684\u5927\u5c0f\u786e\u5b9atexture\u7684level\u3002\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p></p> <p>\u5728\u5c4f\u5e55\u7a7a\u95f4\u4e2d\u53d6\u5f53\u524d\u50cf\u7d20\u70b9\u7684\u53f3\u65b9\u548c\u4e0a\u65b9\u7684\u4e24\u4e2a\u76f8\u90bb\u50cf\u7d20\u70b9\uff0c\u5206\u522b\u67e5\u8be2\u5f97\u5230\u8fd93\u4e2a\u70b9\u5bf9\u5e94\u5728Texture space\u7684\u5750\u6807\uff0c\u8ba1\u7b97\u51fa\u5f53\u524d\u50cf\u7d20\u70b9\u4e0e\u53f3\u65b9\u50cf\u7d20\u70b9\u548c\u4e0a\u65b9\u50cf\u7d20\u70b9\u5728Texture space\u7684\u8ddd\u79bb\uff0c\u4e8c\u8005\u53d6\u6700\u5927\u503cL\uff0c\u628afootprint\u8fd1\u4f3c\u6210\u8fb9\u957f\u4e3aL\u7684\u6b63\u65b9\u5f62\u3002level D = \\(log_2L\\)\uff0c\u6709\u4e86\u5c42\u6570\u4e4b\u540e\uff0c\u518d\u7528\u7eb9\u7406\u5750\u6807\u53bb\u90a3\u4e00\u5c42\u67e5\u8be2\u5c31\u53ef\u4ee5\u627e\u5230footprint\u7684\u5e73\u5747\u503c\u4e86\u3002</p> <p>D\u662f\u8fde\u7eed\u7684\uff0c\u4e0d\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u662f\u56db\u820d\u4e94\u5165\u8fd1\u4f3c\u5230\u6574\u6570\uff0c\u505a\u53ef\u89c6\u5316\u6548\u679c\u5982\u4e0b\uff0c\u989c\u8272\u8d8a\u6df1D\u8d8a\u5c0f\uff0c</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u4e2a\u53d8\u5316\u4e0d\u600e\u4e48\u8fde\u7eed\u3002\u600e\u4e48\u89e3\u51b3\uff1f\uff1f\u63d2\u503c\uff01\u7528\u63d2\u503c\u83b7\u5f97D.XX\u5c42\u7684mipmap\uff0c\u65b9\u6cd5\uff1a\u7528\u4e09\u7ebf\u6027\u63d2\u503c\uff01\u6700\u540e\u4e00\u6b65\u662f\u5c42\u4e0e\u5c42\u4e4b\u95f4\u7684\u63d2\u503c</p> <ol> <li>\u5728D\u5c42\u627e\u5230\u5468\u56f44\u4e2a\u70b9\u505a\u53cc\u7ebf\u6027\u63d2\u503c</li> <li>\u5728D+1\u5c42\u505a\u540c\u6837\u7684\u53cc\u7ebf\u6027\u63d2\u503c</li> <li>\u5f97\u5230\u7684\u4e24\u4e2a\u503c\u518d\u505a\u4e00\u6b21\u7ebf\u6027\u63d2\u503c</li> </ol> <p></p> <p>\u6548\u679c\uff1a</p> <p></p> <p>\u6839\u636e\u4e0a\u8ff0\u65b9\u6cd5\u8fdb\u884c\u7684\u4e09\u7ebf\u6027\u8fd8\u662f\u4e0d\u80fd\u89e3\u51b3\u4e00\u5f00\u59cb\u63d0\u51fa\u7684\u7f51\u683c\u5730\u677f\u7684\u8d70\u6837\u95ee\u9898\uff0c\u56e0\u4e3a\u90a3\u4e2a\u4f8b\u5b50\u7684\u63d2\u503c\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u8fdc\u5904\u7684\u5730\u677f\u5168\u90e8\u7cca\u5728\u4e86\u4e00\u8d77\uff0c\u539f\u56e0\u662f\u5728\u8fdc\u5904\u4e00\u4e2a\u50cf\u7d20\u7684footprint\u5bf9\u5e94\u7684\u662f\u7ec6\u957f\u7684\u5e73\u884c\u56db\u8fb9\u5f62\uff0c\u800c\u6211\u4eec\u628a\u5b83\u4eec\u8fd1\u4f3c\u6210\u4e86\u6b63\u65b9\u5f62\uff0cmipmap\u53ea\u80fd\u67e5\u8be2\u6b63\u65b9\u5f62\uff0c\u8fd1\u4f3c\u5f97\u592a\u8fc7\u5206\u4e86\uff0c\u4ece\u800c\u5bfc\u81f4\u4e86\u95ee\u9898\u7684\u51fa\u73b0\u3002\u89e3\u51b3\u529e\u6cd5\uff1a\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\uff01</p> <p></p>"},{"location":"CG/CGBasic/mipmap/#_1","title":"\u5404\u9879\u5f02\u6027\u8fc7\u6ee4","text":"<p>\u53ef\u4ee5\u53d1\u73b0\u4e0d\u540c\u7684footprint\uff0c\u6709\u7684\u9700\u8981\u8f83\u9ad8\u7684u\u65b9\u5411level\uff0c\u6709\u7684\u9700\u8981\u8f83\u9ad8\u7684v\u65b9\u5411level\uff0c\u56e0\u6b64\u542f\u53d1\u4e86\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\u3002\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6bcf\u4e00\u884c\u53ea\u6709\u5bbd\u5ea6\u53d1\u751f\u53d8\u5316\uff1b\u6bcf\u4e00\u5217\u53ea\u6709\u9ad8\u5ea6\u53d1\u751f\u53d8\u5316\uff0c\u6bd4miapmap\u4e0a\u591a\u4e86\u4e00\u4e9b\u4e0d\u5747\u5300\u7684\u6c34\u5e73\u548c\u7ad6\u76f4\u65b9\u5411\u7684\u538b\u7f29\u3002\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\u7684\u5b58\u50a8\u662f\u539f\u672c\u7684\u4e09\u500d</p> <p></p> <p>\u5148\u8ba1\u7b97\u6c34\u5e73\u65b9\u5411\u7684level\uff0c\u518d\u8ba1\u7b97\u7ad6\u76f4\u65b9\u5411\u7684level\uff0c\u67e5\u8be2\u3002\u8fd9\u91cc\u540c\u6837\u7684\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e09\u7ebf\u6027\u63d2\u503c\u3002</p> <p>\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\u5bf9\u4e8e\u6c34\u5e73\u7684\u6216\u8005\u7ad6\u76f4\u7684\u65b9\u5411\u67e5\u8be2\u662fok\u7684\uff0c\u5bf9\u4e8e\u659c\u7740\u7684\u533a\u57df\u4ecd\u7136\u4e0dok\uff01\u8fd9\u65f6\u9700\u8981EWA\u8fc7\u6ee4</p>"},{"location":"CG/CGBasic/mipmap/#ewa-filter","title":"EWA filter\uff08\u692d\u5706\u52a0\u6743\u5e73\u5747\uff09","text":"<p>EWA filter\u76ee\u524d\u88ab\u8ba4\u4e3a\u662f\u7eb9\u7406\u8fc7\u6ee4\u7b97\u6cd5\u4e2d\u6700\u597d\u7684\u7b97\u6cd5\u4e4b\u4e00\uff0c\u5b83\u4f1a\u8ffd\u8e2a\u5f53\u524d\u50cf\u7d20\u7684\u7eb9\u7406\u5750\u6807\u5bf9\u4e8e\u5c4f\u5e55\u7a7a\u95f4\u5750\u6807\u7684\u5fae\u5206\uff0c\\(\\frac{du}{dx}\\)\u3001\\(\\frac{dv}{dx}\\)\u6307\u7684\u662f\u5c4f\u5e55\u7a7a\u95f4\u7684\u5750\u6807\u6c34\u5e73\u53d8\u5316\u4e00\u4e2a\u5355\u4f4d\u65f6\uff0c\u7eb9\u7406\u7a7a\u95f4\\(du,dv\\)\u7684\u53d8\u5316\u7a0b\u5ea6\u3002\u5fae\u5206\u503c\u8d8a\u5927\uff0c\u76f8\u540c\u7684\u95f4\u9694\u7eb9\u7406\u5750\u6807\u53d8\u5316\u8d8a\u5927\u3002\\(\\frac{du}{dy}\u3001\\frac{dv}{dy}\\)\u540c\u7406\u3002</p> <p>\u5177\u4f53\u7684EWA\u7b97\u6cd5\u662f\uff0c\u9996\u5148\uff0c\u5c06\u4e24\u6761\u5411\u91cf(\\(\\frac{du}{dx},\\frac{dv}{dx}\\)) \u548c (\\(\\frac{du}{dy},\\frac{dv}{dy}\\))\u4e2d\u6a21\u957f\u8f83\u5c0f\u7684\u5411\u91cf\u7684\u6a21\u957f\u4f5c\u4e3a\u9009\u62e9mipmap\u7b49\u7ea7\u7684\u4f9d\u636e\u3002\u786e\u5b9a\u4e86mipmap\u7b49\u7ea7\u4e4b\u540e\uff0c\u4ee5(\\(\\frac{du}{dx},\\frac{dv}{dx}\\))\u548c (\\(\\frac{du}{dy},\\frac{dv}{dy}\\))\u4e3a\u4e24\u6761\u8f74\u6784\u5efa\u4e00\u4e2a\u692d\u5706\uff0c\u6ce8\u610f\uff1a\u4e24\u6761\u8f74\u4e0d\u4e00\u5b9a\u662f\u5782\u76f4\u7684\uff0c\u5b83\u4eec\u4e0d\u4e00\u5b9a\u80fd\u6210\u4e3a\u692d\u5706\u7684\u957f\u8f74\u548c\u77ed\u8f74\u3002\u63a8\u5bfc\u692d\u5706\u7cfb\u6570\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>//\u5148\u6316\u4e2a\u5751\uff0c\u4ee5\u540e\u518d\u586b</p> <p>\u8ba1\u7b97\u51fa\u692d\u5706\u7cfb\u6570\u4e4b\u540e\uff0c\u7528\u4e00\u4e2a\u8f74\u5bf9\u9f50\u5305\u56f4\u76d2\u5305\u56f4\u4f4f\u692d\u5706\uff0c\u904d\u5386\u5305\u56f4\u76d2\u5185\u7684\u5143\u7d20\uff0c\u5e76\u4f5c\u52a0\u6743\u5e73\u5747(\u9ad8\u65affilter \u6216 \u5176\u5b83\u7684filter\u90fd\u53ef\u4ee5)</p>"},{"location":"CG/CGBasic/ssao/","title":"SSAO\u7b97\u6cd5","text":"<p>\u73af\u5883\u5149\u7167\u662f\u6211\u4eec\u52a0\u5165\u573a\u666f\u603b\u4f53\u5149\u7167\u4e2d\u7684\u4e00\u4e2a\u56fa\u5b9a\u5149\u7167\u5e38\u91cf\uff0c\u5b83\u88ab\u7528\u6765\u6a21\u62df\u5149\u7684\u6563\u5c04(Scattering)\u3002\u5728\u73b0\u5b9e\u4e2d\uff0c\u5149\u7ebf\u4f1a\u4ee5\u4efb\u610f\u65b9\u5411\u6563\u5c04\uff0c\u5b83\u7684\u5f3a\u5ea6\u662f\u4f1a\u4e00\u76f4\u6539\u53d8\u7684\uff0c\u6240\u4ee5\u95f4\u63a5\u88ab\u7167\u5230\u7684\u90a3\u90e8\u5206\u573a\u666f\u4e5f\u5e94\u8be5\u6709\u53d8\u5316\u7684\u5f3a\u5ea6\uff0c\u800c\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\u73af\u5883\u5149\u3002\u5176\u4e2d\u4e00\u79cd\u95f4\u63a5\u5149\u7167\u7684\u6a21\u62df\u53eb\u505a\u73af\u5883\u5149\u906e\u853d(Ambient Occlusion)\uff0c\u5b83\u7684\u539f\u7406\u662f\u901a\u8fc7\u5c06\u8936\u76b1\u3001\u5b54\u6d1e\u548c\u975e\u5e38\u9760\u8fd1\u7684\u5899\u9762\u53d8\u6697\u7684\u65b9\u6cd5\u8fd1\u4f3c\u6a21\u62df\u51fa\u95f4\u63a5\u5149\u7167\u3002</p> <p></p> <p>\u542f\u7528SSAO\u7684\u56fe\u50cf\u4f1a\u7ed9\u6211\u4eec\u66f4\u771f\u5b9e\u7684\u611f\u89c9\uff0c\u8fd9\u4e9b\u5c0f\u7684\u906e\u853d\u7ec6\u8282\u7ed9\u6574\u4e2a\u573a\u666f\u5e26\u6765\u4e86\u66f4\u5f3a\u7684\u6df1\u5ea6\u611f\u3002</p> <p>\u73af\u5883\u5149\u906e\u853d\u8fd9\u4e00\u6280\u672f\u4f1a\u5e26\u6765\u5f88\u5927\u7684\u6027\u80fd\u5f00\u9500\uff0c\u56e0\u4e3a\u5b83\u8fd8\u9700\u8981\u8003\u8651\u5468\u56f4\u7684\u51e0\u4f55\u4f53\u3002\u6211\u4eec\u53ef\u4ee5\u5bf9\u7a7a\u95f4\u4e2d\u6bcf\u4e00\u70b9\u53d1\u5c04\u5927\u91cf\u5149\u7ebf\u6765\u786e\u5b9a\u5176\u906e\u853d\u91cf\uff0c\u4f46\u662f\u8fd9\u5728\u5b9e\u65f6\u8fd0\u7b97\u4e2d\u4f1a\u5f88\u5feb\u53d8\u6210\u5927\u95ee\u9898\u3002\u4e8e\u662f\u540e\u6765\u53c8\u6709\u4e86\u5c4f\u5e55\u7a7a\u95f4\u73af\u5883\u5149\u906e\u853d(Screen-Space Ambient Occlusion, SSAO)</p> <p>\u5c4f\u5e55\u7a7a\u95f4\u73af\u5883\u5149\u906e\u853d\u7684\u5927\u81f4\u601d\u60f3\u662f\uff1a\u5bf9\u4e8e\u94fa\u5c4f\u56db\u8fb9\u5f62(Screen-filled Quad)\u4e0a\u7684\u6bcf\u4e00\u4e2a\u7247\u6bb5\uff0c\u6211\u4eec\u90fd\u4f1a\u6839\u636e\u5468\u8fb9\u6df1\u5ea6\u503c\u8ba1\u7b97\u4e00\u4e2a\u906e\u853d\u56e0\u5b50(Occlusion Factor)\u3002\u8fd9\u4e2a\u906e\u853d\u56e0\u5b50\u4e4b\u540e\u4f1a\u88ab\u7528\u6765\u51cf\u5c11\u6216\u8005\u62b5\u6d88\u7247\u6bb5\u7684\u73af\u5883\u5149\u7167\u5206\u91cf\u3002\u906e\u853d\u56e0\u5b50\u662f\u901a\u8fc7\u91c7\u96c6\u7247\u6bb5\u5468\u56f4\u7403\u578b\u6838\u5fc3(Kernel)\u7684\u591a\u4e2a\u6df1\u5ea6\u6837\u672c\uff0c\u5e76\u548c\u5f53\u524d\u7247\u6bb5\u6df1\u5ea6\u503c\u5bf9\u6bd4\u800c\u5f97\u5230\u7684\u3002\u9ad8\u4e8e\u7247\u6bb5\u6df1\u5ea6\u503c\u6837\u672c\u7684\u4e2a\u6570\u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u906e\u853d\u56e0\u5b50\u3002</p> <p>LearnOpenGL\u91cc\u9762\u5b9e\u73b0SSAO\u67094\u4e2apass\uff1a</p> <ol> <li>\u51e0\u4f55 pass\uff0c\u7528\u6765\u6536\u96c6\u573a\u666f\u7684\u51e0\u4f55\u6570\u636e\u3002\u5305\u62ec\u9010\u7247\u6bb5position\u503c(view space)\uff0c\u663e\u7136\u8fd9\u4e2a\u503c\u7684z\u5206\u91cf\u5c31\u662f\u7247\u6bb5\u7684\u7ebf\u6027\u6df1\u5ea6\uff1b\u9010\u7247\u6bb5\u6cd5\u7ebf(view space)\uff1b\u4ee5\u53ca\u4e00\u4e2a\u989c\u8272\u503calbedo\uff0c\u73b0\u9636\u6bb5\u8fd9\u4e2a\u503c\u65e0\u5173\u7d27\u8981\u3002</li> <li>SSAO pass\uff0c\u771f\u6b63\u5b9e\u73b0ssao\u6548\u679c\u7684\u5730\u65b9\u3002</li> <li>blur pass\uff0c\u6a21\u7cca\u6389\u968f\u673a\u65cb\u8f6c\u91c7\u6837\u6838\u5fc3\u5e26\u6765\u7684\u566a\u58f0\u3002</li> <li>lighting pass\uff0c\u505a\u5149\u7167\u8ba1\u7b97\u3002</li> </ol> <p>\u51e0\u4f55pass\u4e0d\u8be6\u7ec6\u5c55\u5f00\uff0c\u4e3b\u8981\u662fFBO\u7684\u8bbe\u7f6e\u4e0e\u7ed1\u5b9a\u3002\u8be6\u7ec6\u8bf7\u53c2\u8003LearnOpenGL-&gt;\u9ad8\u7ea7OpenGL-&gt;\u5e27\u7f13\u51b2\u90a3\u4e2a\u7ae0\u8282\u3002</p> <p>\u5728\u8fdb\u5165ssao pass\u4e4b\u524d\uff0c\u6211\u4eec\u9664\u4e86\u9010\u7247\u6bb5\u7684position\u548cnormal\uff0c\u8fd8\u9700\u8981\u751f\u621064\u4e2a\u968f\u673a\u6837\u672c\u70b9\u548c\u65cb\u8f6c\u91c7\u6837\u6838\u5fc3\u3002\u968f\u673a\u6837\u672c\u70b9\u5b9a\u4e49\u5728\u4ee5shading point\u4e3a\u539f\u70b9\uff0c\u6cd5\u7ebf\u4e3az\u8f74\u7684\u5c40\u90e8\u5750\u6807\u7cfb\u5185\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u53ef\u80fd\u7ed9\u6bcf\u4e2ashading point\u90fd\u8bbe\u7f6e\u968f64\u4e2a\u968f\u673a\u6837\u672c\u70b9\u3002\u6837\u672c\u70b9\u4e58\u4e0aTBN\u77e9\u9635\u4e4b\u540e\u5c31\u88ab\u8f6c\u6362\u5230\u4e86view\u7a7a\u95f4\uff0c\u4f46\u8fd9\u53ea\u662f\u4e2a\u504f\u79fb\u91cf\uff0c\u6211\u4eec\u8fd8\u9700\u5c06shading point\u52a0\u4e0a\u8fd9\u4e2a\u504f\u79fb\u91cf\u4e4b\u540e\u624d\u80fd\u5f97\u5230view\u7a7a\u95f4\u91c7\u6837\u70b9\u7684\u5750\u6807\u3002</p> <p>\u751f\u6210\u6837\u672c\u70b9\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p><pre><code>    // generate sample kernel\n    // ----------------------\n    std::uniform_real_distribution&lt;GLfloat&gt; randomFloats(0.0, 1.0); // generates random floats between 0.0 and 1.0\n    std::default_random_engine generator;\n    std::vector&lt;glm::vec3&gt; ssaoKernel;\n    for (unsigned int i = 0; i &lt; 64; ++i)\n    {\n        //x,y\u5206\u91cf\u7684\u8303\u56f4\u4ece\uff080\uff0c1\uff09\u8f6c\u6362\u5230\uff08-1\uff0c1\uff09;z\u5206\u91cf\u7684\u8303\u56f4\u4f9d\u65e7\u662f\uff080\uff0c1\uff09\n        glm::vec3 sample(randomFloats(generator) * 2.0 - 1.0, randomFloats(generator) * 2.0 - 1.0, randomFloats(generator));\n        //\u5f52\u4e00\u5316\n        sample = glm::normalize(sample);\n        //\u5411\u91cf\u957f\u5ea6\u4e3a\uff080\uff0c1\uff09\u4e4b\u95f4\u7684\u968f\u673a\u6570\n        sample *= randomFloats(generator);\n        float scale = float(i) / 64.0f;\n\n        // scale samples s.t. they're more aligned to center of kernel\n        scale = ourLerp(0.1f, 1.0f, scale * scale);\n        sample *= scale;\n        ssaoKernel.push_back(sample);\n    }\n</code></pre> noise\u662f\u4e00\u5f204*4\u5927\u5c0f\u7684\u8d34\u56fe\uff0c\u8d34\u56fe\u7684\u6bcf\u4e00\u4f4d\u5b58\u653e\u4e86\u4e00\u4e2az\u5206\u91cf\u4e3a0\u7684\u968f\u673a\u5411\u91cf\u3002\u53d6\u4e00\u4e2a\u968f\u673a\u5411\u91cf\u51fa\u6765\u4e0e\u6cd5\u7ebf\u505a\u6b63\u4ea4\u5316\u4e4b\u540e\u5c31\u5f97\u5230\u4e86tangent\u5411\u91cf\uff0c\u8fd9\u5c31\u662f\u751f\u6210\u201c\u65cb\u8f6c\u201d\u91c7\u6837\u6838\u5fc3\u7684\u539f\u7406\u3002</p> <p>\u751f\u6210noise texture\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    // generate noise texture\n    // ----------------------\n    std::vector&lt;glm::vec3&gt; ssaoNoise;\n    for (unsigned int i = 0; i &lt; 16; i++)\n    {\n        glm::vec3 noise(randomFloats(generator) * 2.0 - 1.0, randomFloats(generator) * 2.0 - 1.0, 0.0f); // rotate around z-axis (in tangent space)\n        ssaoNoise.push_back(noise);\n    }\n    unsigned int noiseTexture; glGenTextures(1, &amp;noiseTexture);\n    glBindTexture(GL_TEXTURE_2D, noiseTexture);\n    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA32F, 4, 4, 0, GL_RGB, GL_FLOAT, &amp;ssaoNoise[0]);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n</code></pre> <p>\u6570\u636e\u90fd\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u6211\u4eec\u5728\u91c7\u6837\u4e4b\u524d\u5148\u8bf4\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u534a\u7403\u91c7\u6837\u6838\u5fc3\u800c\u4e0d\u662f\u7403\u578b\u91c7\u6837\u6838\u5fc3\u3002</p> <p></p> <p>\u5bf9\u4e8e\u4e00\u7247\u5e73\u6574\u7684\u5899\uff0c\u5f88\u663e\u7136\u6838\u5fc3\u4e2d\u6709\u4e00\u534a\u7684\u6837\u672c\u70b9\u90fd\u5728\u5899\u8fd9\u4e2a\u51e0\u4f55\u4f53\u4e0a\uff0c\u6240\u4ee5\u5bfc\u81f4\u5e73\u6574\u7684\u5899\u9762\u4e5f\u4f1a\u663e\u5f97\u7070\u8499\u8499\u7684\uff0c\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u6cbf\u7740\u8868\u9762\u6cd5\u5411\u91cf\u7684\u534a\u7403\u4f53\u91c7\u6837\u6838\u5fc3\u3002\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u4e4b\u5173\u5fc3\u8868\u9762\u4e0a\u65b9\u7684\u6837\u672c\uff0c\u4e0d\u5173\u5fc3\u8868\u9762\u4e0b\u65b9\u7684\u6837\u672c\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u5f71\u54cd\u5230\u73af\u5883\u5149\u906e\u853d\u3002</p> <p></p> <p></p> <p>\u56e0\u6b64\u6211\u4eec\u8981\u5728gbuffer\u91cc\u4fdd\u7559normal\u3002</p> <p>\u94fa\u57ab\u4e86\u90a3\u4e48\u591a\uff0cssao\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u8bfb\u53d6position\uff0cnormal\uff0cnoise\uff0c\u5efa\u7acb\u5c40\u90e8\u5750\u6807\u7cfb\u3002\u5f97\u5230\u5c40\u90e8\u5750\u6807\u7cfb\u8f6cview\u5750\u6807\u7cfb\u7684\u77e9\u9635TBN</li> <li>for\u5faa\u73af\u904d\u538664\u4e2a\u6837\u672c\u70b9\uff0c\u5bf9\u6bcf\u4e2a\u6837\u672c\u70b9<ul> <li>\u8f6c\u5230view\u7a7a\u95f4\uff0c\u518d\u52a0\u4e0aposition\uff0c\u83b7\u5f97\u91c7\u6837\u70b9\u5728view\u7a7a\u95f4\u7684\u5750\u6807</li> <li>\u628a\u91c7\u6837\u70b9\u8f6c\u5230\u5c4f\u5e55\u5750\u6807\u7cfb</li> <li>\u7528xy\u5728\u6df1\u5ea6\u8d34\u56fe\u4e0a\u91c7\u6837\uff0c\u518d\u4e0ez\u8fdb\u884c\u6bd4\u8f83</li> <li>\u6839\u636e\u6bd4\u8f83\u7ed3\u679c\u4fee\u6539\u906e\u853d\u56e0\u5b50</li> </ul> </li> <li>\u8ba1\u7b97\u906e\u853d\u7cfb\u6570</li> <li>\u8f93\u51fa\u5230ssao\u8d34\u56fe\u4e2d</li> </ol> <pre><code>void main()\n{\n    // \u8bfb\u53d6\u7247\u6bb5\u7684position \u548c normal,\u5728noise\u4e2d\u8bfb\u53d6\u4e00\u4e2az\u5206\u91cf\u4e3a0\u7684\u968f\u673a\u5411\u91cfrandomVec\n    vec3 fragPos = texture(gPosition, TexCoords).xyz;\n    vec3 normal = normalize(texture(gNormal, TexCoords).rgb);\n    vec3 randomVec = normalize(texture(texNoise, TexCoords * noiseScale).xyz);\n    // create TBN change-of-basis matrix: from tangent-space to view-space\n    //\u7528\u65bd\u5bc6\u7279\u6b63\u4ea4\u5316\u4f7f\u5f97randomVec\u5782\u76f4\u4e8enormal\n    vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));\n    //tangent\u4e0enormal\u53c9\u4e58\u5f97\u5230b\uff0c\u5efa\u7acb\u597d\u4e86\u4e00\u4e2a\u4ee5\u7247\u6bb5position\u4e3a\u539f\u70b9\u7684\u5c40\u90e8\u5750\u6807\u7cfb\n    vec3 bitangent = cross(normal, tangent);\n    mat3 TBN = mat3(tangent, bitangent, normal);\n    // iterate over the sample kernel and calculate occlusion factor\n    float occlusion = 0.0;\n    for(int i = 0; i &lt; kernelSize; ++i)\n    {\n        // \u83b7\u5f97sample\u7684\u4f4d\u7f6e\uff0c\u5e76\u8f6c\u6362\u5230view\u7a7a\u95f4\n        vec3 samplePos = TBN * samples[i]; // from tangent to view-space\n        //\u5bf9fragpos\u505a\u504f\u79fb\uff0c\u5f97\u5230\u4e86view\u7a7a\u95f4\u91c7\u6837\u70b9\u7684\u5750\u6807\n        samplePos = fragPos + samplePos * radius; \n\n        // project sample position (to sample texture) (to get position on screen/texture)\n        vec4 offset = vec4(samplePos, 1.0);\n        //\u505a\u6295\u5f71 \u900f\u89c6\u9664\u6cd5 \u8f6c\u5230(0,1)\uff0c\u5f97\u5230\u4e86\u91c7\u6837\u70b9\u7684\u5c4f\u5e55\u5750\u6807\n        offset = projection * offset; // from view to clip-space\n        offset.xyz /= offset.w; // perspective divide\n        offset.xyz = offset.xyz * 0.5 + 0.5; // transform to range 0.0 - 1.0\n\n        // \u5c4f\u5e55\u5750\u6807\u7684xy\u5206\u91cf\u5728gPosition\u4e0a\u91c7\u6837\uff0c\u5f97\u5230\u8fd9\u4e2a\u7247\u6bb5\u7684\u6df1\u5ea6\n        float sampleDepth = texture(gPosition, offset.xy).z; // get depth value of kernel sample\n\n        // gPosition\u7684\u6df1\u5ea6\u4e0e\u91c7\u6837\u70b9\u7684\u6df1\u5ea6\u505a\u6bd4\u8f83\n        float rangeCheck = smoothstep(0.0, 1.0, radius / abs(fragPos.z - sampleDepth));\n        occlusion += (sampleDepth &gt;= samplePos.z + bias ? 1.0 : 0.0) * rangeCheck;           \n    }\n    occlusion = 1.0 - (occlusion / kernelSize);\n\n    FragColor = occlusion;\n}\n</code></pre> <p>\u505a\u4e2ablur</p> <p>\u5149\u7167\u8ba1\u7b97\u7684\u65f6\u5019\u628a\u9010\u7247\u6bb5ao\u4e58\u5230ambient\u5206\u91cf</p>"},{"location":"CG/CGBasic/%E4%B8%8E%E9%A1%BA%E5%BA%8F%E6%97%A0%E5%85%B3%E7%9A%84%E5%8D%8A%E9%80%8F%E6%98%8E%E6%B8%B2%E6%9F%93/","title":"\u4e0e\u987a\u5e8f\u65e0\u5173\u7684\u534a\u900f\u660e\u6e32\u67d3","text":""},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/","title":"\u52a0\u901f\u7b97\u6cd5","text":"<p>why\uff1a\u5728\u5149\u7ebf\u8ffd\u8e2a\u7b97\u6cd5\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5224\u65ad\u4e00\u6839\u5149\u7ebf\u662f\u5426\u4e0e\u573a\u666f\u4e2d\u7684\u7269\u4f53\u76f8\u4ea4\u3002\u82e5\u6ca1\u6709\u52a0\u901f\u7b97\u6cd5\uff0c\u6211\u4eec\u53ea\u80fd\u628a\u5149\u7ebf\u4e0e\u573a\u666f\u4e2d\u7684\u7269\u4f53\u9010\u4e2a\u6c42\u4ea4\u6765\u5224\u65ad\u662f\u5426\u6709\u4ea4\u70b9\u3002\u5f53\u573a\u666f\u4e2d\u7269\u4f53\u6570\u91cf\u8f83\u591a\u6216\u662f\u5149\u7ebf\u6570\u91cf\u8f83\u591a\u7684\u65f6\u5019\uff0c\u8ba1\u7b97\u91cf\u662f\u975e\u5e38\u6050\u6016\u7684\uff0c\u56e0\u6b64\u9700\u8981\u4e00\u4e2a\u5149\u7ebf\u4e0e\u573a\u666f\u6c42\u4ea4\u7684\u52a0\u901f\u7b97\u6cd5\u3002</p> <p>what\uff1a\u52a0\u901f\u7b97\u6cd5\u5305\u542b\u4e86\u4e24\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u5212\u5206\u573a\u666f(\u5212\u5206\u5bf9\u8c61 \u6216 \u5212\u5206\u7a7a\u95f4)\uff1b</li> <li>\u4e0e\u5b50\u573a\u666f\u6c42\u4ea4\uff1a\u82e5\u6ca1\u6709\u4ea4\u70b9return false\uff1b\u82e5\u6709\u4ea4\u70b9\uff0c\u518d\u5224\u65ad\u662f\u5426\u4e0e\u5b50\u573a\u666f\u4e2d\u7684\u7269\u4f53\u662f\u5426\u6709\u4ea4\u70b9\u3002</li> </ol>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#bvh","title":"BVH","text":"<p>what\uff1a\u662f\u5212\u5206\u5bf9\u8c61\u7684\u7b97\u6cd5\uff0c\u5e7f\u6cdb\u5e94\u7528\u5728\u5149\u7ebf\u8ffd\u8e2a\u4e2d\u3002</p> <p>how\uff1a</p> <p>\u5efa\u6811\uff1aBVH\u6811\u7684\u6240\u6709\u8282\u70b9\u90fd\u662f\u4e00\u4e2aAABB\u5305\u56f4\u76d2\uff0c\u6839\u8282\u70b9\u7684\u8f74\u5bf9\u9f50\u5305\u56f4\u76d2\u5305\u542b\u4e86\u573a\u666f\u4e2d\u7684\u6240\u6709\u5bf9\u8c61\u3002\u628a\u6839\u8282\u70b9\u5212\u5206\u4e3a\u4e24\u4e2a\u5b50\u5305\u56f4\u76d2\uff0c\u5728x,y,z\u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u8f74\uff0c\u628a\u5305\u56f4\u76d2\u4e2d\u7684\u5bf9\u8c61\u6309\u8be5\u8f74\u6392\u5e8f\uff0c\u9009\u62e9\u4e2d\u95f4\u7684\u5bf9\u8c61\u4e3a\u5206\u754c\u70b9\uff0c\u5212\u5206\u5de6\u53f3\u4e24\u8fb9\u7684\u5bf9\u8c61\u3002\u518d\u5bf9\u6bcf\u4e00\u4e2a\u5b50\u5305\u56f4\u76d2\u505a\u4e0a\u8ff0\u64cd\u4f5c\uff0c\u76f4\u5230\u5305\u56f4\u76d2\u4e2d\u53ea\u52691\u4e2a\u5bf9\u8c61\u3002</p> <p>\u6c42\u4ea4\uff1a\u9996\u5148\u8ba1\u7b97\u5149\u7ebf\u4e0e\u6839\u5305\u56f4\u76d2\u662f\u5426\u6709\u4ea4\u70b9\u3002\u82e5\u65e0\u4ea4\u70b9\uff0c\u8bf4\u660e\u5149\u7ebf\u4e0e\u6574\u4e2a\u573a\u666f\u90fd\u6ca1\u6709\u4ea4\u70b9\uff0creturn\uff1b\u82e5\u6709\u4ea4\u70b9\uff0c\u90a3\u4e48\u5149\u7ebf\u4e0e\u5de6\u53f3\u5b69\u5b50\u76f8\u4ea4\u90fd\u6709\u53ef\u80fd\uff0c\u6240\u4ee5\u8981\u4e0e\u4e0e\u5de6\u53f3\u5b69\u5b50\u6c42\u4ea4\u5e76\u904d\u5386\u5176\u5b50\u6811\uff0c\u5982\u679c\u4e0e\u5b69\u5b50\u6ca1\u4ea4\u70b9\uff0c\u81ea\u7136\u6574\u9897\u5b50\u6811\u90fd\u53ef\u4ee5\u820d\u5f03\u3002\u6c42\u4ea4\u6b21\u6570\u4e3aO(h)</p>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#1","title":"1.\u6c42\u4ea4\u7b97\u6cd5","text":"<p>\u4e3a\u4e86\u65b9\u4fbf\u6c42\u4ea4\uff0c\u6b64\u5904\u4f7f\u7528\u8f74\u5bf9\u9f50\u5305\u56f4\u76d2AABB\u3002</p> <p>AABB\u75313\u4e2a\u201c\u5bf9\u9762\u201d\u7ec4\u6210\uff08x0,x1\uff09\uff08y0,y1\uff09\uff08z0,z1\uff09</p> <p>\u6c42\u5149\u7ebf\u4e0e\u4e00\u5bf9X\u5e73\u9762\u7684\u4ea4\u70b9\uff0c\u5c06\u5148\u8fdb\u5165\u7684\u4ea4\u70b9(\u504f\u5c0f\u7684\u90a3\u4e2a)\u8bb0\u4e3a \\(t_{min}\\), \u540e\u51fa\u53bb\u7684\u4ea4\u70b9(\u504f\u5927\u7684\u90a3\u4e2a)\u8bb0\u4e3a \\(t_{max}\\)</p> <p>\u5bf9Y\u548cZ\u540c\u7406\u3002</p> <p>\\(t_{enter}=max\\left\\{t_{min}\\right\\}\\) \\(t_{exit}=min\\left\\{t_{max}\\right\\}\\)    t\u662f\u8d1f\u503c\u4e5f\u65e0\u6240\u8c13\u3002</p> <p>\u5149\u7ebf\u4e0e\u5305\u56f4\u76d2\u76f8\u4ea4 \u5f53\u4e14\u4ec5\u5f53   \\(t_{enter}&lt;t_{exit}\\)   &amp;&amp;     \\(t_{exit}&gt;=0\\)</p>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#2","title":"2.\u5212\u5206\u573a\u666f","text":"<ol> <li>\u53ef\u4ee5\u6bcf\u6b21\u968f\u673a\u6307\u5b9a\u4e00\u4e2a\u8f74\uff0c\u628a\u7269\u4f53\u6309\u8be5\u8f74\u8fdb\u884c\u6392\u5e8f\uff0c\u4ece\u4e2d\u95f4\u5212\u5206\u4e3a\u4e24\u90e8\u5206</li> <li>\u53ef\u4ee5\u6bcf\u6b21\u9009\u62e9\u6700\u957f\u7684\u90a3\u4e2a\u8f74\uff0c\u4ece\u4e2d\u95f4\u5212\u4e3a\u4e24\u90e8\u5206</li> </ol>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#bvh_1","title":"BVH\u6811\u7684\u5e94\u7528","text":"<ul> <li>\u78b0\u649e\u68c0\u6d4b(\u6bcf\u4e2a\u4e09\u89d2\u5f62\u4e4b\u95f4\u7684\u78b0\u649e)</li> </ul> <p>\u5728Bullet\u3001Havok\u7b49\u7269\u7406\u5f15\u64ce\u7684\u78b0\u649e\u7c97\u6d4b\u9636\u6bb5\uff0c\u4f7f\u7528\u4e00\u79cd\u53eb\u505a \u52a8\u6001\u5c42\u6b21AABB\u5305\u56f4\u76d2\u6811(Dynamic Bounding Volume Hierarchy Based On AABB Tree) \u7684\u7ed3\u6784\u6765\u5b58\u50a8\u52a8\u6001\u7684AABB\u5f62\u72b6\u3002\u7136\u540e\u901a\u8fc7\u8be5\u5305\u56f4\u76d2\u6811\u7684\u6027\u8d28\uff08\u4e0d\u540c\u7236\u5305\u56f4\u76d2\u5fc5\u5b9a\u4e0d\u4f1a\u78b0\u649e\uff09\uff0c\u5feb\u901f\u8fc7\u6ee4\u5927\u91cf\u4e0d\u53ef\u80fd\u53d1\u751f\u78b0\u649e\u7684\u5f62\u72b6\u5bf9\u3002</p> <ul> <li>\u5c04\u7ebf\u68c0\u6d4b/\u6311\u9009\u51e0\u4f55\u4f53</li> </ul> <p>\u5c04\u7ebf\u68c0\u6d4b\u4ece\u5c42\u6b21\u5305\u56f4\u76d2\u6811\u81ea\u9876\u5411\u4e0b\u68c0\u6d4b\u662f\u5426\u5c04\u7ebf\u901a\u8fc7\u5305\u56f4\u76d2\uff0c\u82e5\u4e0d\u901a\u8fc7\u5219\u65e0\u9700\u68c0\u6d4b\u5176\u5b50\u5305\u56f4\u76d2\u3002\u8fd9\u79cd\u526a\u88c1\u53ef\u8ba9\u6bcf\u6b21\u5c04\u7ebf\u68c0\u6d4b\u5e73\u5747\u53ea\u9700\u68c0\u6d4bO(logN)\u6570\u91cf\u7684\u5f62\u72b6\u3002\u901a\u8fc7\u4e00\u4e2a\u70b9\u4f4d\u7f6e\u5feb\u901f\u6311\u9009\u8be5\u70b9\u7684\u51e0\u4f55\u4f53\u4e5f\u662f\u7c7b\u4f3c\u7684\u539f\u7406\u3002</p> <ul> <li>\u89c6\u9525\u5254\u9664</li> </ul> <p>\u5bf9BVH\u6811\u8fdb\u884c\u4e2d\u5e8f\u904d\u5386\u7684\u89c6\u9525\u6d4b\u8bd5\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6240\u4ee3\u8868\u7684\u5305\u56f4\u76d2\u4e0d\u5728\u89c6\u9525\u8303\u56f4\u5185\uff0c\u90a3\u4e48\u5176\u6240\u6709\u5b50\u8282\u70b9\u6240\u4ee3\u8868\u7684\u5305\u56f4\u76d2\u90fd\u4e0d\u4f1a\u5728\u89c6\u9525\u8303\u56f4\u5185\uff0c\u5219\u53ef\u4ee5\u8df3\u8fc7\u6d4b\u8bd5\u5176\u5b50\u8282\u70b9\u3002\u5728\u8fd9\u4e2a\u904d\u5386\u8fc7\u7a0b\u4e2d\uff0c\u901a\u8fc7\u6d4b\u8bd5\u7684\u8282\u70b9\u6240\u4ee3\u8868\u7684\u51e0\u4f55\u4f53\u624d\u53ef\u4ee5\u53d1\u9001\u6e32\u67d3\u547d\u4ee4\u3002</p> <ul> <li>\u8f85\u52a9BSP\u6811\u6784\u5efa</li> </ul> <p>\u5728BSP\u6811\u7684\u6784\u5efa\u4e2d\uff0c\u5229\u7528\u7403\u4f53\u6811\u8f85\u52a9\uff0c\u53ef\u4ee5\u5c06\u590d\u6742\u5ea6\u4eceO(Nlog\u00b2N)\u4e0b\u964d\u4e3aO(NlogN)\u7684\u590d\u6742\u5ea6\u3002</p>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#octree","title":"Octree","text":"<p>what\uff1a\u5212\u5206\u7a7a\u95f4\u7684\u7b97\u6cd5\uff0c\u5e7f\u6cdb\u5e94\u7528\u5728\u6e38\u620f\u4e2d</p> <p>\u6bcf\u6b21\u5c06\u7a7a\u95f4\u5206\u4e3a8\u4e2a\u76f8\u7b49\u7684\u90e8\u5206\uff0c\u518d\u9012\u5f52\u7684\u5bf9\u5b50\u7a7a\u95f4\u8fdb\u884c\u5212\u5206\u3002\u5f53\u5212\u5206\u7684\u5b50\u7a7a\u95f4\u8db3\u591f\u5c0f\u6216\u662f\u7a7a\u95f4\u4e2d\u4e09\u89d2\u5f62\u9762\u7684\u6570\u91cf\u5f88\u5c11\u7684\u65f6\u5019\u4f1a\u505c\u6b62\u5212\u5206\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u663e\u8457\u7f3a\u70b9\u662f\uff0c\u968f\u7740\u7ef4\u5ea6\u7684\u4e0a\u5347\u5212\u5206\u7684\u7a7a\u95f4\u6570\u91cf\u4f1a\u5448\u6307\u6570\u7ea7\u589e\u957f\u3002</p>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#bvh_2","title":"BVH\u6811\u548c\u516b\u53c9\u6811\u7684\u533a\u522b","text":"<p>\u6e38\u620f\u5f15\u64ce\u4e00\u822c\u7528\u516b\u53c9\u6811\u505a\u573a\u666f\u7ba1\u7406\uff0cBVH\u4e00\u822c\u7528\u5728\u5149\u7ebf\u8ffd\u8e2a\u4e0a\u9762\u3002</p> <p>BVH\u5b9e\u73b0\u8d77\u6765\u6bd4\u516b\u53c9\u6811\u7a0d\u5fae\u9ebb\u70e6\u4e00\u70b9\uff0c\u516b\u53c9\u6811\u53ea\u9700\u8981\u77e5\u9053\u573a\u666f\u7684\u5927\u5c0f\u548c\u6a21\u578b\u7684\u7cbe\u5ea6\u5c31\u80fd\u8fdb\u884c\u5206\u5272\uff0c\u7136\u540e\u5c06\u6a21\u578b\u4e00\u4e2a\u4e2a\u585e\u8fdb\u53bb\u5373\u53ef\uff0c\u800cBVH\u9700\u8981\u4e86\u89e3\u5168\u90e8\u7684\u6a21\u578b\u4fe1\u606f\u624d\u80fd\u8fdb\u884c\u4e0b\u4e00\u6b65\u5206\u5272\u3002\u800c\u4e14\u6e38\u620f\u573a\u666f\u4e00\u822c\u90fd\u5206\u5e03\u6bd4\u8f83\u5747\u5300\uff08\u4e00\u5927\u7247\u7a7a\u5730\u7684\u60c5\u51b5\u5c11\u89c1\uff09\uff0c\u4e0a\u56fe\u4e2d\u7269\u4f53\u96c6\u4e2d\u5728\u67d0\u4e00\u533a\u57df\u7684\u60c5\u51b5\u6bd4\u8f83\u5c11\uff0c\u6240\u4ee5\u5229\u7528\u516b\u53c9\u6811\u548cBVH\u6811\u7684\u5c42\u6570\u548c\u6548\u7387\u5e94\u8be5\u662f\u5dee\u4e0d\u591a\u7684\u3002</p> <p>BVH\u7684\u6784\u5efa\u6bd4\u8f83\u8017\u65f6\u95f4\uff0c\u800c\u4e14\u5bf9\u4e8e\u52a8\u6001\u7269\u4f53\u7684\u652f\u6301\u6bd4\u8f83\u9ebb\u70e6\uff0c\u4f46\u662f\u8fd0\u884c\u6548\u7387\u4f1a\u66f4\u9ad8\uff0c\u56e0\u6b64\u5e38\u7528\u4e8e\u79bb\u7ebf\u6e32\u67d3\u548c\u5149\u7ebf\u8ffd\u8e2a\u7b49\u5bf9\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u5408\u3002</p> <p>\u516b\u53c9\u6811\u7684\u6784\u5efa\u7b80\u6d01\u660e\u4e86\uff0c\u6bd4\u8f83\u76f4\u89c2\u3002\u516b\u53c9\u6811\u7684\u7ed3\u6784\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u4f1a\u53d7\u7269\u4f53\u4f4d\u7f6e\u7684\u5f71\u54cd\uff0c\u8fd9\u6837\u5bf9\u52a8\u6001\u7269\u4f53\u975e\u5e38\u53cb\u597d\uff0c\u56e0\u6b64\u6bd4\u8f83\u9002\u5408\u5728\u6e38\u620f\u4e2d\u4f7f\u7528\u3002</p>"},{"location":"CG/CGBasic/%E5%8A%A0%E9%80%9F%E7%AE%97%E6%B3%95/#kd-tree","title":"Kd-tree","text":"<p>what\uff1a\u7a7a\u95f4\u5212\u5206\u7b97\u6cd5</p> <p>\u5176\u6bcf\u6b21\u5c06\u7a7a\u95f4\u5212\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u4e14\u5212\u5206\u4f9d\u6b21\u6cbf\u7740x-axis\uff0cy-axis\uff0cz-axis\uff0c\u5212\u5206\u8fc7\u7a0b\u9075\u5faa\u51e0\u4e2a\u70b9\uff1a</p> <ol> <li>\u4f9d\u6b21\u6cbf\u7740x-axis,y-axis,z-axis\u5212\u5206\uff0c\u4f7f\u5f97\u7a7a\u95f4\u88ab\u5212\u5206\u7684\u66f4\u52a0\u5e73\u8861</li> <li>\u5212\u5206\u7684\u4f4d\u7f6e\u7531\u7a7a\u95f4\u4e2d\u4e09\u89d2\u9762\u7684\u5206\u5e03\u51b3\u5b9a\uff0c\u5177\u4f53\u7ec6\u8282\u4e0d\u5c55\u5f00</li> <li>\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u5bf9\u5e94\u7a7a\u95f4\u7684\u6240\u6709\u7269\u4f53\u6216\u4e09\u89d2\u9762\u4fe1\u606f\uff0c\u4e2d\u95f4\u8282\u70b9\u4ec5\u5b58\u50a8\u6307\u9488\u6307\u5411\u4e24\u4e2a\u5b50\u7a7a\u95f4</li> <li>\u5f53\u5212\u5206\u7a7a\u95f4\u592a\u5c0f\u6216\u662f\u5b50\u7a7a\u95f4\u5185\u53ea\u6709\u5c11\u91cf\u4e09\u89d2\u5f62\u5219\u505c\u6b62\u5212\u5206</li> </ol> <p>\u4f18\u70b9\uff1a \u5229\u7528KD-Tree\u7684\u7ed3\u6784\u6765\u6784\u5efaAABB\u7684\u597d\u5904\u662f\u5018\u82e5\u5149\u7ebf\u4e0e\u54ea\u4e00\u90e8\u5206\u7a7a\u95f4\u4e0d\u76f8\u4ea4\uff0c\u90a3\u4e48\u5219\u53ef\u4ee5\u7701\u7565\u8be5\u90e8\u5206\u7a7a\u95f4\u6240\u6709\u5b50\u7a7a\u95f4\u7684\u5224\u65ad\u8fc7\u7a0b\uff0c\u5728\u539f\u59cb\u7684\u7eaf\u7cb9\u7684AABB\u4e4b\u4e0a\u66f4\u8fdb\u4e00\u6b65\u63d0\u5347\u4e86\u52a0\u901f\u6548\u7387\u3002</p> <p>\u7f3a\u70b9\uff1a \u7f3a\u70b9\u662f\u5224\u65ad\u5305\u56f4\u76d2\u4e0e\u4e09\u89d2\u9762\u7684\u662f\u5426\u76f8\u4ea4\u8f83\u96be\uff0c\u56e0\u6b64\u5212\u5206\u7684\u8fc7\u7a0b\u4e0d\u662f\u90a3\u4e48\u60f3\u8c61\u7684\u7b80\u5355\uff0c\u5176\u6b21\u540c\u4e00\u4e2a\u4e09\u89d2\u9762\u53ef\u80fd\u88ab\u4e0d\u540c\u7684\u5305\u56f4\u76d2\u540c\u65f6\u5360\u6709\uff0c\u8fd9\u4e24\u4e2a\u4e0d\u540c\u5305\u56f4\u76d2\u5185\u7684\u53f6\u8282\u70b9\u4f1a\u540c\u65f6\u5b58\u50a8\u8fd9\u4e00\u4e2a\u4e09\u89d2\u5f62\u9762</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/","title":"\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf","text":""},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_2","title":"\u5e94\u7528\u7a0b\u5e8f\u9636\u6bb5","text":"<p>\u4efb\u52a1\uff1a\u5728\u5e94\u7528\u7a0b\u5e8f\u9636\u6bb5\u7684\u672b\u7aef\uff0c\u5c06\u9700\u8981\u5728\u5c4f\u5e55\u4e0a\uff08\u5177\u4f53\u5f62\u5f0f\u53d6\u51b3\u4e8e\u5177\u4f53\u8f93\u5165\u8bbe\u5907\uff09\u663e\u793a\u51fa\u6765\u7ed8\u5236\u7684\u51e0\u4f55\u4f53\uff08\u4e5f\u5c31\u662f\u7ed8\u5236\u56fe\u5143\uff0crendering primitives\uff0c\u5982\u70b9\u3001\u7ebf\u3001\u77e9\u5f62\u7b49\uff09\u8f93\u5165\u5230\u51e0\u4f55\u9636\u6bb5\u3002</p> <p>what\uff1a\u662f\u901a\u8fc7\u8f6f\u4ef6\u65b9\u5f0f\u6765\u5b9e\u73b0\u7684\u9636\u6bb5\uff0c\u5f00\u53d1\u8005\u80fd\u591f\u5bf9\u8be5\u9636\u6bb5\u53d1\u751f\u7684\u60c5\u51b5\u8fdb\u884c\u5b8c\u5168\u63a7\u5236\uff0c\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u5b9e\u73b0\u65b9\u6cd5\u6765\u6539\u53d8\u5b9e\u9645\u6027\u80fd\u3002</p> <p>how\uff1a\u8be5\u9636\u6bb5\u53ef\u4ee5\u5b9e\u73b0\u78b0\u649e\u68c0\u6d4b\uff08\u5f85\u5c55\u5f00\uff09\uff0c</p> <p>\u52a0\u901f\u7b97\u6cd5</p> <p>\u4ee5\u53ca\u5c42\u6b21\u89c6\u9525\u88c1\u526a\uff08\u5f85\u5c55\u5f00\uff09\u7b49\u3002</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_3","title":"\u51e0\u4f55\u9636\u6bb5","text":"<p>\u4efb\u52a1\uff1a</p> <ol> <li>\u5c06\u9876\u70b9\u53d8\u6362\u5230\u9002\u5408\u8ba1\u7b97\u7684\u7a7a\u95f4\uff0c\u65b9\u4fbf\u5149\u6805\u5316\u9636\u6bb5\u8fdb\u884c\u64cd\u4f5c\u3002\u6bd4\u5982\u6700\u5f00\u59cb\u9876\u70b9\u5728\u6a21\u578b\u7a7a\u95f4\u4e2d\uff0c\u6700\u7ec8\u6211\u4eec\u8981\u628a\u5f85\u6e32\u67d3\u7684\u9876\u70b9\u53d8\u6362\u5230\u5c4f\u5e55\u5750\u6807\u7a7a\u95f4\u4e2d\u624d\u80fd\u5728\u5c4f\u5e55\u4e0a\u628a\u9876\u70b9\u753b\u51fa\u6765\uff1b</li> <li>\u4e3a\u6bcf\u4e2a\u9876\u70b9\u51c6\u5907\u5149\u6805\u5316\u9636\u6bb5\u8981\u7528\u7684\u6570\u636e\u3002</li> </ol> <p>what\uff1a\u51e0\u4f55\u9636\u6bb5\u5305\u542b\u4e00\u7cfb\u5217\u7684\u53d8\u6362\uff0cworld\u2192view\u2192vertexShading\u2192projection\u2192clip\u2192viewport\u3002</p> <p>how\uff1a</p> <p>\u53d8\u6362\u77e9\u9635</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#world","title":"world\u53d8\u6362","text":"<p>\u4efb\u52a1\uff1a\u53d8\u6362\u6a21\u578b\u7684\u9876\u70b9\u548c\u6cd5\u7ebf\u5230\u573a\u666f\u4e2d\u60f3\u8981\u7684\u4f4d\u7f6e</p> <p>what\uff1a\u9876\u70b9\u76f4\u63a5\u5de6\u4e58model\u77e9\u9635\uff0c\u6cd5\u7ebf\u5de6\u4e58model\u7684\u9006\u7684\u8f6c\u7f6e\u3002</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#view","title":"view\u53d8\u6362","text":"<p>why\uff1a\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u76f8\u673a\u6240\u770b\u5230\u7684\u90e8\u5206</p> <p>what\uff1a\u6574\u4e2a\u573a\u666f\u968f\u7740\u76f8\u673a\u65cb\u8f6c\u5e73\u79fb(\u56e0\u6b64\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8)\uff0c\u628a\u76f8\u673a\u5e73\u79fb\u5230\u539f\u70b9\uff0c\u5411\u4e0a\u65b9\u5411\u4e3ay\u8f74\u5e76\u4e14\u770b\u5411-z\u8f74</p> <p>how\uff1a</p> <p>1.\u5efa\u7acb\u76f4\u89d2\u5750\u6807\u7cfb\u3002\u89c4\u5b9a\u4e00\u4e2a\u76f8\u673a\u4f4d\u7f6ee\uff0c\u4e00\u4e2a\u5411\u4e0a\u65b9\u5411t\u548c\u4e00\u4e2alookAt\u5411\u91cfg\uff0cg\u548ct\u53c9\u4e58\u5f97\u5230right\u5411\u91cf\u3002\u65cb\u8f6c\u5e73\u79fb\u4e4b\u540et\u5bf9\u5e94y\u8f74\uff0cright\u5bf9\u5e94x\u8f74\uff0cg\u5bf9\u5e94-z\u8f74\u3002</p> <p>2.\u5148\u505a\u5e73\u79fb\u518d\u505a\u65cb\u8f6c\uff0c\u5e73\u79fb\u77e9\u9635\uff1a</p> <p></p> <p>\u65cb\u8f6c\u77e9\u9635\uff1a</p> <p></p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#vertexshading","title":"vertexShading","text":"<p>why\uff1a\u4e00\u822c\u662f\u5728view\u5750\u6807\u7cfb\u4e2d\u505a\u9876\u70b9\u7684\u7740\u8272\uff0c\u5176\u5b9e\u8fd9\u4e00\u6b65\u4e5f\u4e0d\u662f\u505a\u5355\u7eaf\u7684\u7740\u8272\uff0c\u800c\u662f\u628a\u9700\u8981\u53c2\u4e0e\u5149\u7167\u8ba1\u7b97\u7684\u4fe1\u606f\u5728\u6b64\u5904\u8fdb\u884c\u8ba1\u7b97\uff0c\u5df2\u65b9\u4fbf\u540e\u7eed\u7684\u5149\u6805\u5316\u5904\u7406</p> <p>what\uff1a\u7740\u8272\u5e94\u7528\u5728\u6bcf\u4e2a\u9876\u70b9\u4e0a\uff0c\u5728\u5149\u6805\u5316\u9636\u6bb5\u628a\u9876\u70b9\u4e0a\u7684\u989c\u8272\u63d2\u503c\u5230\u7247\u6bb5\u4e0a\u3002</p> <p>how\uff1a\u9ad8\u6d1b\u5fb7\u7740\u8272\u6a21\u578b</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#projection","title":"projection\u6295\u5f71","text":"<p>why\uff1a\u76ee\u524d\u4e3a\u6b62\u9876\u70b9\u4fe1\u606f\u8fd8\u662f\u4e09\u7ef4\u7684\uff0c\u4f46\u662f\u6211\u4eec\u6700\u7ec8\u8981\u6e32\u67d3\u5728\u4e8c\u7ef4\u5c4f\u5e55\u4e0a\uff0c\u56e0\u6b64\u8981\u8fdb\u884c\u6295\u5f71\u64cd\u4f5c\u3002</p> <p>what\uff1a\u5206\u4e3a\u6b63\u4ea4\u6295\u5f71\u548c\u900f\u89c6\u6295\u5f71\u4e24\u79cd\u3002</p> <p>how\uff1a</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_4","title":"\u6b63\u4ea4\u6295\u5f71","text":"<p>\u6548\u679c\uff1a\u5e73\u884c\u7684\u7ebf\u6295\u5f71\u4e4b\u540e\u8fd8\u662f\u5e73\u884c\u7684\uff0c\u7269\u4f53\u7684\u5927\u5c0f\u4e0d\u4f1a\u968f\u7740\u4f4d\u7f6e\u800c\u6539\u53d8</p> <p>\u7b80\u5355\u6765\u7406\u89e3\u5c31\u662f\u628a\u9876\u70b9\u7684z\u5206\u91cf\u76f4\u63a5\u4e22\u6389\u3002\u6b63\u89c4\u7684\u8fc7\u7a0b\u662f\uff0c\u628a\u89c6\u4f53(\u5305\u56f4\u5f85\u6e32\u67d3\u51fa\u6765\u7684\u56fe\u5143\u7684\u7acb\u65b9\u4f53)\u4e2d\u5fc3\u5e73\u79fb\u5230\u539f\u70b9\uff0c\u518d\u628a  \\(x,y,z\\)  \u8f74\u5747\u7f29\u653e\u5230\\([-1,1]^3\\)\uff0c\u8fd9\u662f\u7ea6\u5b9a\u4fd7\u6210\u7684\uff0c\\([-1,1]^3\\)\u88ab\u79f0\u4e3acanonical cube\uff0c\u4e5f\u79f0\u4e3aCVV\u7a7a\u95f4</p> <p></p> <p>\u6570\u5b66\u5f62\u5f0f\uff1a\u5148\u5e73\u79fb\u518d\u7f29\u653e</p> <p></p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_5","title":"\u900f\u89c6\u6295\u5f71","text":"<p>\u6548\u679c\uff1a\u8fd1\u5927\u8fdc\u5c0f\uff0c\u5e73\u884c\u7684\u7ebf\u6295\u5f71\u4e4b\u540e\u4e0d\u518d\u5e73\u884c</p> <p>what\uff1a</p> <p>how\uff1a\u4ece\u4e00\u4e2a\u70b9\u5f80\u5916\u5ef6\u7533\u51fa\u6765\u4e00\u4e2a\u56db\u68f1\u9525\uff0c\u8fd9\u4e2a\u70b9\u662f\u76f8\u673a\u3002\u5b9a\u4e49\u4e00\u4e2a\u8fd1\u5e73\u9762\u548c\u8fdc\u5e73\u9762\uff0c\u8fd1\u5e73\u9762\u548c\u8fdc\u5e73\u9762\u4e0e\u56db\u68f1\u9525\u76f8\u4ea4\u7684\u90e8\u5206\u5c31\u662f\u89c6\u9525\u4f53frustum\u3002\u6574\u4e2a\u900f\u89c6\u6295\u5f71\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a</p> <p>1.\u628afrustum\u7684\u8fdc\u5e73\u9762\u4ee5\u53ca\u4e2d\u95f4\u7684\u90e8\u5206\u201c\u6324\u201d\u6210\u8fd1\u5e73\u9762\u4e00\u6837\u7684\u5927\u5c0f\uff0c\u5f97\u5230\u4e00\u4e2a\u957f\u65b9\u4f53\u3002</p> <p>\u89c4\u5b9a\uff1a</p> <ol> <li>\u8fd1\u5e73\u9762\u4e0a\u4efb\u4e00\u4e2a\u70b9(x,y,n,1)\u4e0d\u53d8\u3002</li> <li>\u8fdc\u5e73\u9762\u7684\u4efb\u4e00\u4e2a\u70b9z\u503c\u4e0d\u53d8\u3002</li> <li>\u8fdc\u5e73\u9762\u7684\u4e2d\u5fc3\u70b9(0,0,f,1)\u4e0d\u53d8</li> </ol> <p>\u63a5\u4e0b\u6765\u8003\u8651\u5982\u4f55\u201c\u6324\u201d\uff0c\u505a\u53d8\u6362\uff01</p> <p> </p> <p>\u6027\u8d28\uff1a\u5bf9\u4e8e\u4e2d\u95f4\u7684\u4efb\u4f55\u4e00\u70b9(x,y,z,1)\uff0c\u6295\u5f71\u4e4b\u540ez\u4f1a\u88ab\u63a8\u5411\u8fdc\u5e73\u9762</p> <p>2.\u518d\u5bf9\u8be5\u957f\u65b9\u4f53\u505a\u6b63\u4ea4\u6295\u5f71</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#clip","title":"clip\u88c1\u526a","text":"<p>\u76ee\u7684\uff1a\u56fe\u5143\u5b8c\u5168\u6216\u90e8\u5206\u5b58\u5728\u4e8e\u89c6\u4f53\uff08\u4e5f\u5c31\u662f\u4e0a\u6587\u7684\u89c4\u8303\u7acb\u65b9\u4f53\uff0cCVV\uff09\u5185\u90e8\u7684\u65f6\u5019\uff0c\u624d\u9700\u8981\u5c06\u5176\u53d1\u9001\u5230\u5149\u6805\u5316\u9636\u6bb5</p> <p>what\uff1a \u4fdd\u7559\u5728\u5355\u4f4d\u7acb\u65b9\u4f53\u5185\u7684\u56fe\u5143\uff0c\u5254\u9664\u5355\u4f4d\u7acb\u65b9\u4f53\u4e4b\u5916\u7684\u56fe\u5143</p> <p>how\uff1a\u4e00\u4e2a\u56fe\u5143\u76f8\u5bf9\u89c6\u4f53\u5185\u90e8\u7684\u4f4d\u7f6e\uff0c\u5206\u4e3a\u4e09\u79cd\u60c5\u51b5\uff1a\u5b8c\u5168\u4f4d\u4e8e\u5185\u90e8\u3001\u5b8c\u5168\u4f4d\u4e8e\u5916\u90e8\u3001\u90e8\u5206\u4f4d\u4e8e\u5185\u90e8\u3002\u6240\u4ee5\u5c31\u8981\u5206\u60c5\u51b5\u8fdb\u884c\u5904\u7406\uff1a</p> <ul> <li>\u5f53\u56fe\u5143\u5b8c\u5168\u4f4d\u4e8e\u89c6\u4f53\u5185\u90e8\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u4e0b\u4e00\u4e2a\u9636\u6bb5\u3002</li> <li>\u5f53\u56fe\u5143\u5b8c\u5168\u4f4d\u4e8e\u89c6\u4f53\u5916\u90e8\uff0c\u4e0d\u4f1a\u8fdb\u5165\u4e0b\u4e00\u4e2a\u9636\u6bb5\uff0c\u53ef\u76f4\u63a5\u4e22\u5f03\uff0c\u56e0\u4e3a\u5b83\u4eec\u65e0\u9700\u8fdb\u884c\u6e32\u67d3\u3002</li> <li>\u5f53\u56fe\u5143\u90e8\u5206\u4f4d\u4e8e\u89c6\u4f53\u5185\u90e8\uff0c\u5219\u9700\u8981\u5bf9\u90a3\u4e9b\u90e8\u5206\u4f4d\u4e8e\u89c6\u4f53\u5185\u7684\u56fe\u5143\u8fdb\u884c\u88c1\u526a\u5904\u7406</li> </ul>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#viewport","title":"viewport\u89c6\u53e3\u53d8\u6362","text":"<p>why\uff1a\u56fe\u5143\u6700\u7ec8\u8981\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\uff0c\u5de6\u4e0b\u89d2\u662f\u5750\u6807(x1,y1) \uff0cx1,y1&gt;0\uff0c\u4f46\u662f\u76ee\u524d\u56fe\u5143\u8fd8\u5728CVV\u7a7a\u95f4\\([-1,1]^3\\)\u4e2d\uff0c\u56e0\u6b64\u8981\u53d8\u6362\u5230\u5c4f\u5e55\u5750\u6807\u7cfb\u5185</p> <p>what\uff1a\u5c06\u56fe\u5143\u79fb\u52a8\u5230\u89c6\u53e3\u5185</p> <p>how\uff1a</p> <p>\u95ee\u9898\uff1a\u6574\u578b\u548c\u6d6e\u70b9\u578b\u7684\u70b9\u503c\u5982\u4f55\u4e0e\u50cf\u7d20\u5750\u6807(\u7eb9\u7406\u5750\u6807)\u76f8\u5173\u8054\uff1f</p> <p>\u6574\u578b-&gt;\u6d6e\u70b9\u578b\uff1a+0.5\uff1b\u6d6e\u70b9\u578b-&gt;\u6574\u578b\uff1afloor</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_6","title":"\u5149\u6805\u5316\u9636\u6bb5","text":"<p>why\uff1a\u5c4f\u5e55\u4e0a\u7684\u6bcf\u4e2a\u50cf\u7d20\u90fd\u662f\u6709\u989c\u8272\u4fe1\u606f\u7684\uff0c\u7136\u800c\u51e0\u4f55\u9636\u6bb5\u53ea\u5bf9\u9876\u70b9\u8fdb\u884c\u4e86\u5904\u7406\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u51e0\u4f55\u9636\u6bb5\u7684\u4fe1\u606f\u7c92\u5ea6\u662f\u4e09\u89d2\u5f62\u7684\u9876\u70b9\uff0c\u800c\u6700\u7ec8\u5448\u73b0\u5728\u5c4f\u5e55\u4e0a\u7684\u4fe1\u606f\u7c92\u5ea6\u662f\u50cf\u7d20\uff0c\u56e0\u6b64\u5c31\u8981\u8fdb\u884c\u4e09\u89d2\u5f62\u7684\u5149\u6805\u5316\u3002</p> <p>what\uff1a\u904d\u5386\u6574\u4e2a\u4e09\u89d2\u5f62\u5185\u90e8\u6240\u6709\u7684\u50cf\u7d20\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u50cf\u7d20\u7684\u989c\u8272</p> <p>how\uff1a</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_7","title":"\u4e09\u89d2\u5f62\u8bbe\u5b9a\u9636\u6bb5\uff08\u7eaf\u786c\u4ef6\u6267\u884c\uff09","text":""},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_8","title":"\u4e09\u89d2\u5f62\u904d\u5386\u9636\u6bb5\uff1a","text":"<p>what\uff1a\u5728\u4e09\u89d2\u5f62\u904d\u5386\u9636\u6bb5\u5c06\u8fdb\u884c\u9010\u50cf\u7d20\u68c0\u67e5\u64cd\u4f5c\uff0c\u68c0\u67e5\u8be5\u50cf\u7d20\u5904\u7684\u50cf\u7d20\u4e2d\u5fc3\u662f\u5426\u7531\u4e09\u89d2\u5f62\u8986\u76d6</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_9","title":"\u50cf\u7d20\u7740\u8272\uff1a","text":"<p>\u4efb\u52a1\uff1a\u5229\u7528\u4ece\u9876\u70b9\u7740\u8272\u5668\u91cc\u4f20\u6765\u7684\u4fe1\u606f\u8ba1\u7b97\u5f53\u524d\u7247\u6bb5\u7684\u989c\u8272\u3002</p> <p>what\uff1a\u662f\u9ad8\u7ea7\u5149\u7167\u4ea7\u751f\u7684\u5730\u65b9</p> <p>how\uff1aphong shading\uff0cblinn-phong shading</p>"},{"location":"CG/CGBasic/%E5%9B%BE%E5%BD%A2%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/#_10","title":"\u878d\u5408\uff1a","text":"<p>\u4efb\u52a1\uff1a</p> <ol> <li>\u5408\u6210\u5f53\u524d\u50a8\u5b58\u4e8e\u7f13\u51b2\u5668\u4e2d\u7684\u7531\u4e4b\u524d\u7684\u50cf\u7d20\u7740\u8272\u9636\u6bb5\u4ea7\u751f\u7684\u7247\u6bb5\u989c\u8272\uff1b</li> <li>\u8fd8\u8d1f\u8d23\u53ef\u89c1\u6027\u95ee\u9898\uff08Z \u7f13\u51b2\u76f8\u5173\uff09\u7684\u5904\u7406</li> </ol> <p>what\uff1a\u662f\u7ba1\u7ebf\u7684\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\uff0c\u5f53\u524d\u50cf\u7d20\u5bf9\u5e94\u7684\u591a\u4e2a\u7247\u6bb5\u7684\u989c\u8272\u7684\u878d\u5408\u7ed3\u679c\u3002</p> <p>how\uff1a\u6709\u4e00\u7cfb\u5217\u7684\u7f13\u51b2\u5668\u7528\u6765\u8fc7\u6ee4\u548c\u6355\u83b7\u7247\u6bb5\u4fe1\u606f</p> <ul> <li>alpha\u901a\u9053</li> <li>\u6a21\u677f\u7f13\u51b2\u5668\uff1a\u7c7b\u4f3c\u4e00\u4e2amask\u7684\u64cd\u4f5c</li> <li>\u5e27\u7f13\u51b2\u5668\uff1a\u989c\u8272+Z\u7f13\u51b2\u7684\u7ec4\u5408</li> <li>\u7d2f\u8ba1\u7f13\u51b2\u5668\uff1a\u7528\u6765\u4ea7\u751f\u8fd0\u52a8\u6a21\u7cca\uff0c\u666f\u6df1\uff0c\u53cd\u8d70\u6837\uff0c\u8f6f\u9634\u5f71</li> </ul>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/","title":"\u6297\u952f\u9f7f\u7b97\u6cd5","text":"<p>\u952f\u9f7f\u4ea7\u751f\u7684\u539f\u56e0\uff1a\u50cf\u7d20\u672c\u8eab\u6709\u4e00\u5b9a\u7684\u5927\u5c0f\uff0c\u5c06\u89c6\u53e3\u5185\u7684\u4e09\u89d2\u5f62\u5149\u6805\u5316\u7684\u65f6\u5019\uff0c\u6211\u4eec\u8981\u7528\u50cf\u7d20\u7684\u4e2d\u5fc3\u5bf9\u4e09\u89d2\u5f62\u8fdb\u884c\u4e00\u4e2a\u53ef\u89c1\u6027\u91c7\u6837\uff0c\u91c7\u6837\u7387\u5bf9\u4e8e\u4fe1\u53f7\u6765\u8bf4\u662f\u4e0d\u591f\u9ad8\u7684\uff0c\u6240\u4ee5\u4f1a\u4ea7\u751f\u4fe1\u53f7\u8d70\u6837\u7684\u95ee\u9898\u3002</p> <p>\u53cd\u8d70\u6837\u601d\u60f3\uff1a\u5148\u6a21\u7cca\u540e\u91c7\u6837\uff08\u4e0d\u53ef\u4ee5\u5148\u91c7\u6837\u540e\u6a21\u7cca\uff0c\u56e0\u4e3a\u91c7\u6837\u4e4b\u540e\u662f\u6709\u952f\u9f7f\u7684\uff0c\u518d\u6a21\u7cca\u4e5f\u8fd8\u662f\u6709\u952f\u9f7f\uff09</p>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/#ssaa","title":"SSAA","text":"<p>why\uff1a\u65e2\u7136\u952f\u9f7f\u7684\u51fa\u73b0\u662f\u56e0\u4e3a\u91c7\u6837\u7387\u8fc7\u4f4e\uff0c\u90a3\u4e48\u5c31\u63d0\u9ad8\u91c7\u6837\u7387</p> <p>what\uff1a\u5728\u4e00\u4e2a\u6bcd\u91c7\u6837\u70b9\u4e2d\u91c7\u6837\u591a\u6b21\uff0c\u6bcf\u4e2a\u5b50\u91c7\u6837\u70b9\u90fd\u4f1a\u91cd\u590d\u4e00\u904d\u6bcd\u91c7\u6837\u70b9\u7684\u6d41\u7a0b\uff0c\u5224\u5b9a\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u3001\u6df1\u5ea6\u68c0\u6d4b\u3001\u7740\u8272\uff0c\u6700\u540e\u6bcf\u4e2a\u5b50\u91c7\u6837\u70b9\u90fd\u4f1a\u5f97\u5230\u5404\u81ea\u7684\u989c\u8272\uff0c\u6bcd\u50cf\u7d20\u7684\u989c\u8272\u5c31\u662f\u5b50\u91c7\u6837\u70b9\u989c\u8272\u7684\u5e73\u5747</p> <p>SSAA\u7684\u5f00\u9500\uff1a</p> <ol> <li>\u539f\u59cb\u7684\u7b97\u6cd5\u4f1a\u4e3a\u50cf\u7d20\u70b9\u7ef4\u62a4depth_buffer\u548ccolor_buffer\uff0cn\u4e2a\u50cf\u7d20\u70b9\u5c31\u5206\u522b\u5bf9\u5e94n\u5927\u5c0f\u7684\u6570\u7ec4\uff0c\u4f7f\u7528SSAA\u540e\uff0c\u5b50\u91c7\u6837\u70b9\u7684\u6df1\u5ea6\u548c\u989c\u8272\u4e5f\u9700\u8981\u7ef4\u62a4\uff0c\u6240\u4ee5depth_buffer\u548ccolor_buffer\u7684\u6570\u7ec4\u5927\u5c0f\u5c31\u6269\u5145\u4e3a\\(k*n\\)\u3002</li> <li>SSAA\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u4e5f\u4f1a\u589e\u5927\uff0c\u5224\u5b9a\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u3001\u6df1\u5ea6\u68c0\u6d4b\u3001\u8ba1\u7b97\u7740\u8272\u7684\u64cd\u4f5c\u4e5f\u4f1a\u589e\u591a</li> </ol>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/#msaamultisample-antialiasing","title":"MSAA(Multisample Antialiasing)","text":"<p>why\uff1a\u4e3a\u4e86\u6297\u952f\u9f7f\uff0c\u60f3\u628a\u4e09\u89d2\u5f62\u8986\u76d6\u4e86\u4e00\u4e2a\u50cf\u7d20\u7684\u591a\u5c11\u8ba1\u7b97\u51fa\u6765\u3002\u8fd9\u5e76\u4e0d\u5bb9\u6613\uff0c\u4e14\u8ba1\u7b97\u91cf\u5f88\u5927\u3002MSAA\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fd1\u4f3c\u65b9\u6cd5\u3002</p> <p>what\uff1a\u662f\u4e00\u4e2a\u53cd\u8d70\u6837\u7684\u8fd1\u4f3c\uff0c\u4e25\u683c\u610f\u4e49\u4e0a\u5e76\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\u53cd\u8d70\u6837\u95ee\u9898</p> <p>how\uff1a\u5bf9\u4efb\u4e00\u50cf\u7d20\uff0c\u5212\u5206\u6210\u4e86\u5f88\u591a\u4e2a\u5b50\u50cf\u7d20\uff0c\u6bcf\u4e2a\u5b50\u50cf\u7d20\u6709\u4e00\u4e2a\u4e2d\u5fc3(\u91c7\u6837\u70b9)\uff0c\u8ba1\u7b97\u4e09\u89d2\u5f62\u8986\u76d6\u4e86\u591a\u5c11\u5b50\u50cf\u7d20\u3002</p> <p></p> <p>\u4ee5\u4e0a\u56fe\u4e3a\u4f8b\uff0cMSAA\u5177\u4f53\u7684\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li>\u5149\u6805\u5316\u9636\u6bb5\uff0c\u5bf9\u56db\u4e2aX\u4f4d\u7f6e\u7684Sample\u6267\u884c\u4e09\u89d2\u5f62\u8986\u76d6\u5224\u65ad\uff0c\u5728\u4e00\u4e2a\u56db\u500d\u5206\u8fa8\u7387\u5927\u5c0f\u7684coverage mask\u4e2d\u8bb0\u5f55\u6bcf\u4e2aSample\u88ab\u8986\u76d6\u7684\u60c5\u51b5\u3002</li> <li>\u50cf\u7d20\u7740\u8272\u9636\u6bb5\uff0c\u5728\u50cf\u7d20\u4e2d\u5fc3\u5706\u70b9\u5904\u6267\u884c\u50cf\u7d20\u7740\u8272\u5668\u3002\u8be5\u70b9\u7684\u4f4d\u7f6e\u3001\u6df1\u5ea6\u3001\u6cd5\u7ebf\u3001\u7eb9\u7406\u5750\u6807\u7b49\u4fe1\u606f\u7531\u4e09\u89d2\u5f62\u4e09\u4e2a\u9876\u70b9\u91cd\u5fc3\u63d2\u503c\u5f97\u5230\u3002\u56fe\u4e2d\u8ba1\u7b97\u5f97\u5230\u50cf\u7d20\u989c\u8272\u4e3a\u7d2b\u8272\u3002</li> <li>\u5bf9\u56db\u4e2aSample\u6267\u884c\u6a21\u677f\u6d4b\u8bd5\u4e0e\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u5e76\u5c06\u6d4b\u8bd5\u901a\u8fc7\u7684Sample\u6570\u636e\u5199\u5165\u56db\u500d\u5206\u8fa8\u7387\u7684\u6a21\u677f\u7f13\u51b2\u4e0e\u6df1\u5ea6\u7f13\u51b2\u3002\u6bcf\u4e2aSample\u90fd\u62e5\u6709\u81ea\u5df1\u7684\u6df1\u5ea6\u503c\uff0c\u4f9d\u7136\u662f\u91cd\u5fc3\u63d2\u503c\u5f97\u5230\u3002</li> <li>\u4e0a\u56fe\u4e2d\u5de6\u4e0b\u4e24\u4e2aSample\u901a\u8fc7\u4e86\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u5e76\u4e14coverage mask\u4e3a1\uff0c\u56e0\u6b64\u5c06\u7d2b\u8272\u590d\u5236\u5230\u8fd9\u4e24\u4e2aSample\u5bf9\u5e94\u7684\u989c\u8272\u7f13\u51b2\u4e2d\uff08\u4f9d\u7136\u662f\u6bcf\u4e2aSample\u4e00\u4e2a\u989c\u8272\uff0c\u5171\u56db\u500d\u5927\u5c0f\uff09\u3002\u5176\u4ed6\u4e24\u4e2aSample\u6682\u4e3a\u80cc\u666f\u8272\u3002</li> <li>\u91cd\u590d\u4e0a\u8ff0\u6d41\u7a0b\u7ed8\u5236\u7b2c\u4e8c\u4e2a\u9ec4\u8272\u4e09\u89d2\u5f62\uff0c\u5c06\u50cf\u7d20\u7740\u8272\u83b7\u5f97\u7684\u9ec4\u8272\u590d\u5236\u5230\u53f3\u4e0a\u89d2\u7684Sample\u4e2d\u3002</li> <li>\u6240\u6709\u7ed8\u5236\u7ed3\u675f\u4e4b\u540e\uff0c\u901a\u8fc7\u4e00\u4e2a\u5bf9\u9ad8\u5c42\u900f\u660e\u7684PASS\uff0c\u5c06\u56db\u4e2aSample\u7684\u989c\u8272\u63d2\u503c\u83b7\u5f97\u6700\u7ec8\u8f93\u51fa\u7684\u50cf\u7d20\u989c\u8272</li> </ol> <p>\u53ef\u4ee5\u770b\u5230\u5728MSAA\u6d41\u7a0b\u4e2d\u6240\u4f7f\u7528\u7684\u6240\u6709\u7f13\u51b2\u533a\u90fd\u53d8\u6210\u4e86\u539f\u6765\u7684\u56db\u500d\u5927\u5c0f\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48MSAA\u589e\u52a0\u4e86\u975e\u5e38\u591a\u7684\u663e\u5b58\u548c\u5e26\u5bbd\u6d88\u8017\u3002\u4e0a\u8ff0\u6d41\u7a0b\u4e2d\u7b2c4\u6b65\u5982\u679c\u6539\u6210\u5bf9\u6bcf\u4e2aSample\u8fd0\u884c\u50cf\u7d20\u7740\u8272\uff0cMSAA\u5c31\u53d8\u6210\u4e86SSAA\u3002</p>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/#fxaafast-approximate-aa","title":"FXAA\uff08Fast Approximate AA\uff09","text":"<p>what\uff1a\u548c\u589e\u52a0\u91c7\u6837\u70b9\u65e0\u5173\uff0c\u662f\u56fe\u50cf\u7684\u540e\u671f\u5904\u7406</p> <p>how\uff1a\u5f97\u5230\u6709\u952f\u9f7f\u7684\u56fe\u540e\uff0c\u7528\u56fe\u50cf\u5339\u914d\u7684\u65b9\u5f0f(\u8fb9\u7f18\u68c0\u6d4b\u7b97\u6cd5\uff1acanny\uff0csobel\uff0cLaplacian)\u627e\u5230\u56fe\u5f62\u8fb9\u754c\uff0c\u628a\u8fb9\u754c\u7528\u6ca1\u6709\u952f\u9f7f\u7684\u8fb9\u66ff\u6362\u6389</p>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/#taatemporal-aa","title":"TAA\uff08Temporal AA\uff09","text":"<p>what\uff1a\u4e0e\u65f6\u95f4\u76f8\u5173</p> <p>how\uff1a\u5bf9\u5f53\u524d\u5e27\u7684\u56fe\u50cf\u4fe1\u606f\uff0c\u590d\u7528\u4e0a\u4e00\u5e27\uff0c\u4e0a\u4e0a\u5e27\u3002\u3002\u3002\u628aMSAA\u7528\u7684\u91c7\u6837\u70b9\uff0c\u5206\u5e03\u5728\u65f6\u95f4\u4e0a\uff0c\u518d\u505a\u4e00\u4e2a\u5e73\u5747\u3002</p>"},{"location":"CG/CGBasic/%E6%8A%97%E9%94%AF%E9%BD%BF%E7%AE%97%E6%B3%95/#wu","title":"Wu\u6297\u952f\u9f7f\u7b97\u6cd5","text":"<p>Wu\u662f\u4e00\u79cd\u4e13\u95e8\u5bf9\u76f4\u7ebf\u8fdb\u884c\u6297\u952f\u9f7f\u7684\u7b97\u6cd5</p> <p>https://blog.csdn.net/m0_56494923/article/details/128516263</p>"},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/","title":"\u6b63\u5411\u6e32\u67d3\u548c\u5ef6\u8fdf\u6e32\u67d3","text":""},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/#_2","title":"\u6b63\u5411\u6e32\u67d3","text":"<p>\u6b63\u5411\u6e32\u67d3\u662f\u4f20\u7edf\u7684\u5149\u7167\u65b9\u5f0f\u3002\u7531\u9876\u70b9\u7740\u8272\u5668\u4f20\u5165\u9876\u70b9\u4fe1\u606f\uff0c\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u4f20\u5165\u5149\u6e90\u4fe1\u606f(\u53ef\u80fd\u6709\u591a\u4e2a\u5149\u6e90)\uff0c\u9010\u7247\u6bb5\u7684\u8ba1\u7b97\u989c\u8272\u3002\u591a\u5149\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u5229\u7528\u53ef\u52a0\u6027\uff0c\u904d\u5386\u7d2f\u52a0\u7247\u6bb5\u5728\u5149\u6e90\u4e0b\u7684\u989c\u8272\u3002\u518d\u8fdb\u884c\u540e\u9762\u7684\u6d4b\u8bd5\u878d\u5408\u9636\u6bb5\u3002\u56e0\u6b64\u4f20\u7edf\u7684\u6b63\u5411\u6e32\u67d3\u601d\u8def\u662f\uff0c\u5148\u8fdb\u884c\u7740\u8272\uff0c\u518d\u8fdb\u884c\u6df1\u5ea6\u6d4b\u8bd5\u3002\u5176\u7684\u4e3b\u8981\u7f3a\u70b9\u5c31\u662f\u5149\u7167\u8ba1\u7b97\u8ddf\u573a\u666f\u590d\u6742\u5ea6\u548c\u5149\u6e90\u4e2a\u6570\u6709\u5f88\u5927\u5173\u7cfb\u3002\u5047\u8bbe\u6709 n \u4e2a\u7269\u4f53\uff0cm \u4e2a\u5149\u6e90\uff0c\u4e14\u6bcf\u4e2a\u7269\u4f53\u53d7\u6240\u6709\u5149\u6e90\u7684\u5f71\u54cd\uff0c\u90a3\u4e48\u590d\u6742\u5ea6\u5c31\u662f O(m*n)\u3002</p> <p>\u4f18\u70b9\uff1a\u7b80\u5355\u76f4\u63a5\uff0c\u5bb9\u6613\u7406\u89e3\uff0c\u5bb9\u6613\u5b9e\u73b0\u3002 \u7f3a\u70b9\uff1a</p> <ol> <li>\u5982\u679c\u5149\u6e90\u7279\u522b\u591a\u7684\u60c5\u51b5\u4e0b(1000\u4e2a)\uff0c\u8fd9\u6837\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u4e0d\u53ef\u884c\u7684\u3002</li> <li>\u5927\u90e8\u5206\u7247\u6bb5\u4f1a\u5728\u4e4b\u540e\u7684\u6df1\u5ea6\u6d4b\u8bd5\u4e2d\u88ab\u4e22\u5f03\uff0c\u9020\u6210\u4e86\u6027\u80fd\u7684\u6d6a\u8d39\u3002</li> </ol>"},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/#_3","title":"\u5ef6\u8fdf\u6e32\u67d3","text":"<p>why\uff1a\u5ef6\u8fdf\u6e32\u67d3\u4e3a\u4e86\u89e3\u51b3\u591a\u5149\u6e90\u60c5\u51b5\u4e0b\uff0c\u6b63\u5411\u6e32\u67d3\u590d\u6742\u5ea6\u8fc7\u9ad8\u7684\u95ee\u9898\u3002 </p> <p>what\uff1a\u5728\u6df1\u5ea6\u6d4b\u8bd5\u4e4b\u540e\u505a\u989c\u8272\u8ba1\u7b97\uff0c\u4e5f\u5c31\u662f\u5c4f\u5e55\u7a7a\u95f4\uff0c\u4fdd\u8bc1\u4e86\u4e00\u4e2a\u50cf\u7d20\u53ea\u4f1a\u88ab\u6e32\u67d3\u4e00\u6b21\u3002\u6e32\u67d3\u6240\u9700\u7684\u4fe1\u606f\u6765\u6e90\u4e8eG-buffer\uff0c\u800c\u4e0d\u662f\u9876\u70b9\u7740\u8272\u5668\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(m+n);</p> <p>how\uff1a\u4e24\u4e2apass\u3002\u7b2c\u4e00\u4e2apass(Geometry Pass)\u8f93\u51fa\u51e0\u4f55\u4fe1\u606f\u5230G-buffer\u4e2d\uff0c\u6bd4\u5982position vector\uff0ccolor vector\uff0cnormal vector\uff0cspecular vector\uff1b\u7b2c\u4e8c\u4e2apass(Lighting Pass)\u6e32\u67d3\u7684\u662f\u4e00\u4e2a\u5c4f\u5e55\u5927\u5c0f\u7684\u4e8c\u7ef4\u77e9\u5f62\uff0c\u5728G-buffer\u4e2d\u5b58\u50a8\u7684\u6570\u636e\u5bf9\u6b64\u77e9\u9635\u7684\u6bcf\u4e00\u4e2a\u7247\u6bb5\u8ba1\u7b97\u573a\u666f\u7684\u5149\u7167\u3002</p> <p>\u4f18\u70b9\uff1a\u51cf\u5c11\u4e86\u6027\u80fd\u7684\u6d6a\u8d39\uff0c\u591a\u5149\u6e90\u6210\u4e3a\u4e86\u53ef\u80fd \u7f3a\u70b9\uff1a</p> <ol> <li>\u573a\u666f\u6570\u636e\u8f83\u5927\uff0c\u6d88\u8017\u5f88\u591a\u663e\u5b58\uff0c\u5c24\u5176\u662f\u9ad8\u7cbe\u5ea6\u7684\u573a\u666f\u6570\u636e\u6bd4\u5982position\uff1b</li> <li>\u4e0d\u652f\u6301\u6df7\u5408\uff0c\u4e0d\u80fd\u4f7f\u7528MSAA\u3002</li> <li>\u4e0d\u652f\u6301\u900f\u660e\u7269\u4f53\u7684\u6e32\u67d3\u3002Gbuffer\u53ea\u662f\u628a\u5f53\u524d\u80fd\u770b\u5230\u7684\u50cf\u7d20\u8bb0\u5f55\u4e0b\u6765\uff0c\u4f46\u662f\u900f\u660e\u7684\uff0c\u540c\u4e00\u4e2a\u50cf\u7d20\u70b9\uff0c\u53ef\u80fd\u9700\u8981\u8bb0\u5f55\u66f4\u591a\uff01\u6240\u4ee5\uff0c\u5ef6\u8fdf\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u4e00\u822c\u90fd\u662f\u5148\u6e32\u67d3\u975e\u900f\u660e\u7684Mesh\uff0c\u540e\u7eed\u518d\u5355\u72ec\u6e32\u67d3\u900f\u660eMesh\u3002</li> <li>\u8feb\u4f7f\u7f16\u7a0b\u8005\u5bf9\u5927\u90e8\u5206\u573a\u666f\u7684\u5149\u7167\u4f7f\u7528\u76f8\u540c\u7684\u5149\u7167\u7b97\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7\u5305\u542b\u66f4\u591a\u5173\u4e8e\u6750\u8d28\u7684\u6570\u636e\u5230G\u7f13\u51b2\u4e2d\u6765\u51cf\u8f7b\u8fd9\u4e00\u7f3a\u70b9</li> </ol>"},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/#g-buffer","title":"G-buffer","text":"<p>gbuffer\u4e2d\u5b58\u50a8\u4e86\u8ba1\u7b97\u4e00\u4e2a\u7247\u6bb5\u989c\u8272\u6240\u9700\u7684\u5168\u90e8\u6570\u636e\uff0c\u7528MRT(\u591a\u76ee\u6807\u6e32\u67d3)\uff0c\u5728geometry pass\u4e2d\u628a\u6570\u636e\u5199\u5165gbuffer\u3002\u5149\u7167\u8ba1\u7b97\u6240\u9700\u7684\u6570\u636e\u6709\uff1a</p> <ul> <li>\u4e00\u4e2a3D\u4f4d\u7f6e\u5411\u91cf(RGB,16F)\u6765\u8ba1\u7b97(\u63d2\u503c)\u7247\u6bb5\u4f4d\u7f6e\u53d8\u91cf\u4f9b<code>lightDir</code>\u548c<code>viewDir</code>\u4f7f\u7528</li> <li>\u4e00\u4e2aRGB\u6f2b\u53cd\u5c04\u989c\u8272\u5411\u91cf(\u6bcf\u5206\u91cf8\u4f4d)\uff0c\u4e5f\u5c31\u662f\u53cd\u7167\u7387(Albedo)</li> <li>\u4e00\u4e2a3D\u6cd5\u5411\u91cf(RGB,16F)\u6765\u5224\u65ad\u5e73\u9762\u7684\u659c\u7387</li> <li>\u4e00\u4e2a\u955c\u9762\u5f3a\u5ea6(Specular Intensity)\u6d6e\u70b9\u503c</li> <li>\u6240\u6709\u5149\u6e90\u7684\u4f4d\u7f6e\u548c\u989c\u8272\u5411\u91cf</li> <li>\u73a9\u5bb6\u6216\u8005\u89c2\u5bdf\u8005\u7684\u4f4d\u7f6e\u5411\u91cf</li> </ul>"},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/#msaa","title":"\u5ef6\u8fdf\u6e32\u67d3\u4e0eMSAA","text":""},{"location":"CG/CGBasic/%E6%AD%A3%E5%90%91%E6%B8%B2%E6%9F%93%E5%92%8C%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93/#_4","title":"\u5ef6\u8fdf\u6e32\u67d3\u548c\u6b63\u5411\u6e32\u67d3\u7684\u7ed3\u5408","text":""},{"location":"CG/CGBasic/%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/","title":"\u6e32\u67d3\u7ba1\u7ebf","text":"<p>\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf</p> <p>\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf\u662f\u903b\u8f91\u7ba1\u7ebf\uff0c\u63cf\u8ff0\u4e86\u4e00\u822c\u7ba1\u7ebf\u7684\u5927\u81f4\u601d\u60f3\u548c\u6d41\u7a0b\uff1b\u800cGPU\u6e32\u67d3\u7ba1\u7ebf\u662f\u7269\u7406\u7ba1\u7ebf\uff0c\u662fGPU\u4e2d\u771f\u5b9e\u5b58\u5728\u7684\u3002</p> <p></p> <p>GPU\u6e32\u67d3\u7ba1\u7ebf</p> <p></p> <p>\u5728GPU\u4e2d\u6ca1\u6709application\u9636\u6bb5\uff0c\u56e0\u6b64\u6b64\u5904\u53ea\u6709\u51e0\u4f55\u548c\u5149\u6805\u5316\u9636\u6bb5</p> <p>GPU\u6e32\u67d3\u7ba1\u7ebf\u53ea\u6bd4\u56fe\u5f62\u6e32\u67d3\u7ba1\u7ebf\u591a\u4e86\u66f2\u9762\u7ec6\u5206\u7740\u8272\u5668\u548c\u51e0\u4f55\u7740\u8272\u5668</p>"},{"location":"CG/CGBasic/%E8%BD%AF%E9%98%B4%E5%BD%B1/","title":"\u9634\u5f71","text":""},{"location":"CG/CGBasic/%E8%BD%AF%E9%98%B4%E5%BD%B1/#shadowmap","title":"ShadowMap","text":"<p>\u601d\u8def\uff1a2\u4e2apass\uff0c\u7b2c\u4e00\u4e2apass\u4ee5\u5149\u7684\u4f4d\u7f6e\u4e3a\u89c6\u89d2\u8fdb\u884c\u6e32\u67d3\u3002\u5e73\u884c\u5149\u6ca1\u6709\u4f4d\u7f6e\uff0c\u56e0\u4e3a\u5b83\u88ab\u5b9a\u4e49\u4e3a\u65e0\u7a77\u8fdc\uff0c\u4f46\u662f\u4e3a\u4e86\u5b9e\u73b0shadowmap\uff0c\u8981\u5728\u5149\u7684\u65b9\u5411\u4e0a\u9009\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5b9a\u4e49\u597d\u4e86\u5149\u6e90\u7684\u4f4d\u7f6e\u4ee5\u53ca\u65b9\u5411\u4e4b\u540e\uff0c\u53ef\u4ee5\u5efa\u7acblight\u5750\u6807\u7cfb\uff0c\u6295\u5f71\u7528\u6b63\u4ea4\u6295\u5f71\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230vp\u53d8\u6362\u77e9\u9635(\u4e0d\u9700\u8981model\u77e9\u9635)\u3002\u7ecf\u8fc7\u7ba1\u7ebf\u4e4b\u540e\u6211\u4eec\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6df1\u5ea6\u8d34\u56fe\uff1b</p> <p>\u7b2c\u4e8c\u4e2apass\u7528\u4e4b\u524d\u5f97\u5230\u7684vp\u77e9\u9635\u548c\u6df1\u5ea6\u8d34\u56fe\uff0c\u5c06\u5f85\u6e32\u67d3\u7247\u6bb5p\uff0c\u4e58vp\u77e9\u9635\uff0c\u53d8\u6362\u5230light\u5750\u6807\u7cfb\uff0cp\u7684z\u503c\u5c31\u662fp\u7684\u6df1\u5ea6\u503c\uff0c\u518d\u7528p\u7684\uff08x,y\uff09\u5750\u6807\u67e5\u8be2\u6df1\u5ea6\u8d34\u56fe\uff0c\u5f97\u5230depth\u3002\u82e5p.z=depth\uff0cp\u70b9\u80fd\u88ab\u7167\u4eae\uff0c\u8bbe\u4e3a1\uff1b\u82e5p.z&gt;depth\uff0cp\u70b9\u5728\u9634\u5f71\u4e2d\uff0c\u8bbe\u4e3a0\u3002</p> <p>\u9762\u5149\u6e90\u662f\u4e0d\u53ef\u80fd\u751f\u6210shadowmap\u7684</p>"},{"location":"CG/CGBasic/%E8%BD%AF%E9%98%B4%E5%BD%B1/#pcf","title":"PCF","text":"<p>why\uff1aPCF\u6700\u65e9\u7814\u53d1\u51fa\u6765\u662f\u4e3a\u4e86\u6297\u952f\u9f7f\uff0c\u7528\u5b83\u6765\u505a\u8f6f\u9634\u5f71\u662fPCSS\u3002\u56e0\u4e3ashadowmap\u91cc\u7684\u9634\u5f71\u503c\u975e0\u53731\uff0c\u5728\u7269\u4f53\u8fb9\u754c\u7531\u4e8e\u7cbe\u5ea6\u9650\u5236\u9634\u5f71\u4f1a\u4ea7\u751f\u952f\u9f7f\u3002</p> <p>what\uff1apcf\u5728\u9634\u5f71\u5224\u65ad\u7684\u65f6\u5019\u505afiltering\uff0c\u800c\u4e0d\u662f\u5bf9\u6700\u540e\u751f\u6210\u7684\u9634\u5f71\u7ed3\u679c\u505afiltering\uff0c\u4e5f\u4e0d\u662f\u5bf9\u6df1\u5ea6\u8d34\u56fe\u505afilter\u3002</p> <p>how\uff1a\u5bf9\u4e8e\u7b2c\u4e8c\u4e2apass\uff0cshading point\u4e0d\u6b62\u5bf9map\u91c7\u6837\u4e00\u6b21\uff0c\u800c\u662f\u91c7\u6837\u5468\u56f4\u4e00\u5708\uff08filter size\uff09\u7684\u50cf\u7d20\uff0c\u6bcf\u4e2a\u50cf\u7d20\u7684\u6df1\u5ea6\u503c\u4e0eshading point\u7684\u6df1\u5ea6\u503c\u4f5c\u6bd4\u8f83\uff0c\u5f97\u5230\u5f88\u591a1\u62160\u3002\u628a\u8fd9\u4e9b\u52a0\u8d77\u6765\u6c42\u5e73\u5747\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a0~1\u4e4b\u95f4\u7684\u6570\uff0c\u8fd9\u6837\u5728\u7269\u4f53\u8fb9\u7f18\u7684\u9634\u5f71 \u5c31\u4e0d\u4f1a\u90a3\u4e48\u786c\u3002</p> <p>filter size\u8d8a\u5c0f\uff0c\u9634\u5f71\u8d8a\u786c\uff1b\u8d8a\u5927\uff0c\u9634\u5f71\u8d8a\u8f6f\u3002\u4e8e\u662f\u4ecefilter size\u7684\u5927\u5c0f\u5165\u624b\uff0c\u53ef\u4ee5\u5f97\u5230\u8f6f\u9634\u5f71\uff0c\u4ece\u800c\u5f15\u51faPCSS</p>"},{"location":"CG/CGBasic/%E8%BD%AF%E9%98%B4%E5%BD%B1/#pcss","title":"PCSS","text":"<p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u5f97\u77e5\uff0cblocker\u79bb\u9634\u5f71\u8d8a\u8fd1\uff0c\u9634\u5f71\u8d8a\u786c\uff0c\u53cd\u4e4b\uff0c\u9634\u5f71\u8d8a\u8f6f\u3002\u6240\u4ee5\u9634\u5f71\u7684\u8f6f\u786c\u548c\u9634\u5f71\u4e0eblocker\u7684\u8ddd\u79bb\u6709\u5173\uff0c\u5728\u4e0d\u540c\u7684\u90e8\u4f4d\uff0cfilter size\u7684\u5927\u5c0f\u5e94\u8be5\u4e0d\u4e00\u6837\u3002</p> <p></p> <p></p> <p>\u8fd9\u91cc\u7684d_blocker \u6307\u7684\u662f\u4e00\u4e2a\u5e73\u5747\u7684blocker\u6df1\u5ea6\uff0c\u91c7\u6837shading point\u5468\u56f4\u4e00\u5708\uff0c\u82e5\u662fblocker \u5c31\u52a0\u8fdb\u6765\uff0c\u6700\u540e\u505a\u4e00\u4e2a\u5e73\u5747\uff0c\u5f97\u5230\u5e73\u5747\u6df1\u5ea6\u3002 \u901a\u8fc7\u4e0a\u5f0f\u8ba1\u7b97\u51faw_penumbra \u4f5c\u4e3a filter size\u3002\u63a5\u4e0b\u6765\u518d\u8fdb\u884cPCF\u5c31\u53ef\u4ee5\u4e86\u3002 </p> <p>\u5927\u4f53\u6b65\u9aa4\u662f\uff1a</p> <ol> <li>blocker search\uff1a\u5728\u7279\u5b9a\u533a\u57df\u5927\u5c0f\u8303\u56f4\u91c7\u6837\uff0c\u8ba1\u7b97\u4e00\u4e2a\u5e73\u5747\u6df1\u5ea6\uff1b</li> </ol> <p>\u95ee\u9898\uff1a\u8ba1\u7b97\u5e73\u5747\u6df1\u5ea6\u7684\u65f6\u5019\uff0c\u91c7\u6837\u8303\u56f4\u662f\u591a\u5927\u5462\uff1f\uff1f </p> <ol> <li> <p>\u7528\u4e00\u4e2a\u56fa\u5b9a\u7684\u5927\u5c0f\uff0c\u6bd4\u59825*5\uff1b </p> </li> <li> <p>\u4e00\u4e2a\u66f4\u597d\u7684\u65b9\u6cd5\uff1a\uff08\u5927\u6982\u8bf4\u4e00\u4e0b\uff09</p> <p></p> <p>\u548clight\u7684\u5927\u5c0f\u6709\u5173\uff0c\u4e5f\u548cshading point\u4e0elight\u7684\u8ddd\u79bb\u6709\u5173\u3002shading point\u4f5c\u4e3a\u89c6\u9525\u4f53\u7684\u9876\u70b9\uff0cshadowmap\u4f5c\u4e3a\u8fd1\u5e73\u9762\uff0c\u6211\u4eec\u770bshading point\u8fde\u5411light \u5728shadowmap\u4e0a\u8986\u76d6\u4e86\u591a\u5927\u533a\u57df\uff0c\u8fd9\u4e2a\u533a\u57df\u5c31\u662f\u8ba1\u7b97\u5e73\u5747\u6df1\u5ea6\u7684\u533a\u57df</p> </li> <li> <p>\u4f30\u8ba1penumbra\uff1b</p> </li> <li> <p>\u505aPCF\uff1a\u5728penumbra\u5927\u5c0f\u7684size\u5185\u91c7\u6837\uff0c\u83b7\u5f97\u4e00\u4e2a[0,1]\u4e4b\u95f4\u7684\u503c\u3002</p> </li> </ol> <p>\u6b65\u9aa41\u548c3\u6bd4\u8f83\u6162\uff0c\u56e0\u4e3a\u8981\u591a\u6b21\u91c7\u6837\u3002\u600e\u4e48\u89e3\u51b3\uff1f\u7a00\u758f\u91c7\u6837\uff0c\u53ea\u91c7\u6837\u4e00\u4e2a\u533a\u57df\u5185\u4e00\u4e9b\u968f\u673a\u7684\u70b9\u3002\u4f46\u8fd9\u6837\u4f1a\u51fa\u73b0\u566a\u70b9\uff0c\u8981\u91c7\u7528\u964d\u566a\u65b9\u6cd5\uff1a\u65f6\u95f4\u7a7a\u95f4\u4e0a\u505afilter\u3002\u53e6\u4e00\u4e2a\u89e3\u51b3\u601d\u8def\u662f\u7528VSSM(Variance Soft Shadow Mapping)</p>"},{"location":"CG/CGBasic/%E8%BD%AF%E9%98%B4%E5%BD%B1/#variance-soft-shadow-mappingvssm","title":"Variance Soft Shadow Mapping(VSSM)","text":""},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/","title":"\u91cd\u8981\u6027\u91c7\u6837","text":"<p>why\uff1a\u5bf9\u4e8e\u590d\u6742\u51fd\u6570\u7684\u79ef\u5206\u8981\u7528\u8499\u7279\u5361\u6d1b\u7684\u65b9\u6cd5\u6765\u8ba1\u7b97\uff0c\u8499\u7279\u5361\u6d1b\u6d89\u53ca\u5230\u91c7\u6837\u7684\u95ee\u9898\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\u91c7\u6837\u5bc6\u5ea6\u8d8a\u9ad8\u8499\u7279\u5361\u6d1b\u79ef\u5206\u7684\u7ed3\u679c\u8d8a\u51c6\u786e\uff0c\u4f46\u662f\u9ad8\u5bc6\u5ea6\u91c7\u6837\u4f1a\u5e26\u6765\u5927\u91cf\u7684\u8ba1\u7b97\u6d88\u8017\u3002\u4e8e\u662f\u601d\u8003\u6709\u4ec0\u4e48\u65b9\u6cd5\u80fd\u591f\u5728\u4e00\u5b9a\u7684\u91c7\u6837\u6570\u91cf\u57fa\u7840\u4e0a\u6765\u589e\u52a0\u51c6\u786e\u5ea6\uff0c\u51cf\u5c11\u65b9\u5dee\uff1f\u8fd9\u9700\u8981\u4eba\u4e3a\u7684\u5bf9\u91c7\u6837\u7684\u5206\u5e03\u8fdb\u884c\u5e72\u9884\uff0c\u56e0\u6b64\u5f15\u7533\u51fa\u91cd\u8981\u6027\u91c7\u6837\u3002\u53e6\u5916\uff0c\u91cd\u8981\u6027\u91c7\u6837\u7684\u53e6\u4e00\u4e2a\u5e94\u7528\u662f\u8def\u5f84\u8ffd\u8e2a\uff0c\u5bf9\u5149\u7ebf\u4e0b\u4e00\u6b21\u5f39\u5c04\u7684\u65b9\u5411\u8fdb\u884c\u91c7\u6837\u3002</p> <p>what\uff1a\u91cd\u8981\u6027\u91c7\u6837\u662f\u8499\u7279\u5361\u6d1b\u79ef\u5206\u7684\u4e00\u79cd\u91c7\u6837\u7b56\u7565\u3002</p> <p>how\uff1a</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_2","title":"\u8499\u7279\u5361\u6d1b\u7b97\u6cd5","text":""},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_3","title":"\u8499\u7279\u5361\u7f57\u7684\u6570\u5b66\u57fa\u7840\uff1a","text":"<p>\u5b9a\u7406\uff1a\u8bbe\\(y=g(x)\\)\u662f\u5b9a\u4e49\u5728\\(R\\)\u4e0a\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\\(X\\)\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u90a3\u4e48\\(Y=g(X)\\)\u4f5c\u4e3a\\(X\\)\u7684\u51fd\u6570\uff0c\u540c\u6837\u4e5f\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u3002\\(g(x)\\)\u662f\u4e25\u683c\u5355\u8c03\u51fd\u6570\uff0c\u968f\u673a\u53d8\u91cf\\(X\\)\u7684\u5206\u5e03\u51fd\u6570\\(F_X(x)\\)\u4e3a\u4e25\u683c\u5355\u8c03\u589e\u7684\u8fde\u7eed\u51fd\u6570\uff0c\u5176\u53cd\u51fd\u6570\\(F_X^{-1}(y)\\)\u5b58\u5728\uff0c\u5219\\(Y=F_X(X)\\)\u670d\u4ece\\((0,1)\\)\u4e0a\u7684\u5747\u5300\u5206\u5e03\\(U(0,1)\\)\u3002</p> <p>\u8fd9\u4e2a\u5b9a\u7406\u8868\u660e\uff1a\u5747\u5300\u5206\u5e03\u5728\u8fde\u7eed\u5206\u5e03\u7c7b\u4e2d\u5360\u6709\u7279\u6b8a\u5730\u4f4d\u3002\u4efb\u4e00\u4e2a\u8fde\u7eed\u968f\u673a\u53d8\u91cf\\(X\\)\u90fd\u53ef\u901a\u8fc7\u5176\u5206\u5e03\u51fd\u6570\\(F(x)\\)\u4e0e\u5747\u5300\u5206\u5e03\u968f\u673a\u53d8\u91cf\\(U\\)\u53d1\u751f\u5173\u7cfb\u3002\u6bd4\u5982\\(X\\)\u670d\u4ece\u6307\u6570\u5206\u5e03\\(Exp(\\lambda)\\)\uff0c\u5176\u5206\u5e03\u51fd\u6570\u4e3a\\(F(x)=1-e^{-\\lambda x}\\)\uff0c\u5f53\\(x\\)\u6362\u4e3a\\(X\\)\u540e\uff0c\u6709 $$ U=1-e^{-\\lambda x} \uff0cX=\\frac{1}{\\lambda}ln{\\frac{1}{1-U}} $$ \u540e\u4e00\u5f0f\u8868\u793a\uff1a\u7531\u5747\u5300\u5206\u5e03\\(U(1,0)\\)\u7684\u968f\u673a\u6570\uff08\u4f2a\u89c2\u5bdf\u503c\uff09\\(u_i\\)\u53ef\u5f97\u6307\u6570\u5206\u5e03\\(Exp(\\lambda)\\)\u7684\u968f\u673a\u6570\\(x_i=\\frac{1}{\\lambda}ln{\\frac{1}{1-u_i}},i=1,2,...,n,...\\)\u3002\u800c\u5747\u5300\u5206\u5e03\u968f\u673a\u6570\u4efb\u4f55\u4e00\u4e2a\u7edf\u8ba1\u8f6f\u4ef6\u4e2d\u90fd\u53ef\u4ee5\u4ea7\u751f\uff0c\u4ece\u800c\u6307\u6570\u5206\u5e03\uff08\u7ee7\u800c\u5176\u5b83\u5206\u5e03\uff09\u968f\u673a\u6570\u4e5f\u53ef\u4ee5\u83b7\u5f97\u3002\u540e\u4e00\u5f0f\u5b9e\u9645\u4e0a\u5728\u6c42\u5206\u5e03\u51fd\u6570\u7684\u53cd\u51fd\u6570\u3002</p> <p>\u8be5\u5b9a\u7406\u5728\uff08\u300a\u6982\u7387\u8bba\u4e0e\u6570\u7406\u6559\u7a0b\u7b2c\u4e09\u7248\u300b\u8306\u8bd7\u677e 112\u9875\u5b9a\u74062.6.5\uff09</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_4","title":"\u7528\u8499\u7279\u5361\u6d1b\u6c42\u79ef\u5206\uff1a","text":"<p>\u6c42\u51fd\u6570\\(f(x)\\)\u5728\u533a\u95f4\\([a,b]\\)\u4e0a\u7684\u79ef\u5206\uff0c\\(\\int_{a}^{b}f(x)dx\\)\uff0c\u5728\u533a\u95f4\\([a,b]\\)\u4e0a\u5bf9\u91c7\u6837\u70b9\u4ee5\u67d0\u79cd\u5206\u5e03\\(pdf(x)\\)\u91c7\u6837\uff0c\u5219\u79ef\u5206\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a</p> \\[\\int_{a}^{b}f(x)dx=\\frac{1}{N}\\sum_{i=1}^{N}\\frac{f(x_i)}{pdf(x_i)}\\] <p>\\(pdf(x)\\)\u6ee1\u8db3\uff1a\\(\\int_{-\\infty}^{+\\infty}pdf(x)dx=1\\)</p> <p>\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a\u5047\u8bbe\u73b0\u5728\u662f\u5747\u5300\u91c7\u6837\uff0c\u6837\u672c\u70b9\u4e3a\uff1a\\(\\left\\{x_1,x_2,\u2026\u2026,x_n\\right\\}\\),\u503c\u4e3a\\(\\left\\{f(x_1),f(x_2),\u2026\u2026,f(x_n)\\right\\}\\), \\(pdf(x)=\\frac{1}{b-a}\\)\uff0c\u5219\u53ef\u4ee5\u5f97\u5230\u8fd9\u6837\u7684\u4f30\u8ba1\uff1a</p> \\[\\int_{a}^{b}f(x)dx=\\frac{b-a}{N}\\sum_{i=1}^{N}f(x_i)\\] <p>\u8499\u7279\u5361\u6d1b\u662f\u65e0\u504f\u4f30\u8ba1</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#pdfx","title":"\u7ed9\u4e00\u4e2a\\(pdf(x)\\),\u5982\u4f55\u6309\u7167\u8fd9\u4e2a\u5206\u5e03\u751f\u6210\u6837\u672c\uff1f","text":""},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_5","title":"\u79bb\u6563\u5206\u5e03","text":"<p>\u628a\u6982\u7387\u5206\u5e03\u7d2f\u52a0\uff0c\u5f97\u5230\\([0,1]\\)\u4e0a\u7684\u591a\u4e2a\u533a\u95f4\uff0c\u5728\\([0,1]\\)\u4e0a\u5747\u5300\u53d6\u4e00\u4e2a\\(\\xi\\)\uff0c\u843d\u5728\u54ea\u4e2a\u533a\u95f4\u5c31\u53d6\u54ea\u4e2a\u503c\u3002\u5b9e\u9645\u4e0a\u5c31\u662f\u6c42\u5176\u53cd\u51fd\u6570\uff0c\u518d\u5728\u5b9a\u4e49\u57df(0,1)\u4e0a\u5747\u5300\u91c7\u6837\u3002</p> <p></p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_6","title":"\u8fde\u7eed\u5206\u5e03","text":"<p>\u548c\u79bb\u6563\u5206\u5e03\u7c7b\u4f3c\uff0c\u7528\u8fde\u7eed\u6982\u7387\u5206\u5e03</p> <p></p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_7","title":"\u91cd\u8981\u6027\u91c7\u6837","text":"<p>\\(pdf\\)\u53ef\u4ee5\u968f\u673a\u9009\u53d6\uff0c\u4f46\u662f\u6211\u4eec\u8981\u627e\u4e00\u4e2a\u201c\u6700\u5408\u9002\u7684\u201d\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5ea6\u91cf\u30021.\u5bf9\u4e8e\u76f8\u540c\u7684\u6837\u672c\u6570\u91cf\uff0c\\(pdf1\\)\u5df2\u7ecf\u6536\u655b\u4e86\uff0c\u4f46\u662f\\(pdf2\\)\u8fd8\u5728\u9707\u8361\uff0c\u6240\u4ee5\\(pdf1\\)\u66f4\u5408\u9002\u30022.\u5230\u6536\u655b\uff0c\u7528\u7684\u6837\u672c\u8d8a\u5c11\u8d8a\u5408\u9002\u3002</p> <p>\u7ed3\u8bba\uff1a\\(pdf(x)\\)\u7684\u56fe\u50cf\u548c\u88ab\u79ef\u51fd\u6570\\(f(x)\\)\u7684\u56fe\u50cf\u8d8a\u63a5\u8fd1\uff0c\\(pdf(x)\\)\u91c7\u6837\u7684\u6548\u679c\u8d8a\u597d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\\(f(x)\\)\u8f83\u5927\u7684\u533a\u95f4\uff0c\\(pdf(x)\\)\u4e5f\u5927\uff0c\u843d\u5728\u8be5\u533a\u95f4\u7684\u6837\u672c\u70b9\u8d8a\u591a\uff0c\u91c7\u6837\u6548\u679c\u8d8a\u597d\u3002\\(f(x)\\)\u5c0f\u7684\u533a\u95f4\uff0c\u4e0d\u5e94\u8be5\u6709\u5f88\u591a\u91c7\u6837\u70b9\uff0c\u56e0\u4e3a\u91c7\u4e86\u4e5f\u6ca1\u7528\uff0c\\(pdf(x)\\)\u5c0f\u6bd4\u8f83\u5408\u9002\u3002\\(pdf(x)\\)\u6700\u597d\u6b63\u6bd4\u4e8e\u88ab\u79ef\u51fd\u6570</p> <p></p> <p>\u95ee\u9898\uff1a\u6211\u4eec\u5f80\u5f80\u4e0d\u77e5\u9053\u88ab\u79ef\u51fd\u6570\u7684\u5f62\u72b6\uff0c\u5982\u4f55\u786e\u5b9apdf\u7684\u5f62\u72b6\uff1f</p> <p>\u53ef\u4ee5\u5148\u2f64\u5c11\u91cf\u7684\u6837\u672c\u8fdb\u2f8f\u2f00\u4e2a\u91c7\u6837\uff0c\u7136\u540e\u62df\u5408\u2f00\u4e2a\u7b80\u5355\u7684\u66f2\u7ebf\uff0c\u518d\u6839\u636e\u8be5\u66f2\u7ebf\u8fdb\u2f8f\u91c7\u6837\uff0c\u8fd9\u79cd\u2f45\u6cd5\u4e5f\u53eb\u505a adaptive sampling \u2f45\u6cd5</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_8","title":"\u591a\u91cd\u91cd\u8981\u6027\u91c7\u6837","text":"<p>\u5bf9\u4e8e\u590d\u6742\u88ab\u79ef\u51fd\u6570\uff0c\u5f80\u5f80\u9700\u8981\u4e0d\u540c\u7684\u91c7\u6837\u5206\u5e03\uff0c\u5982\u4f55\u628a\u591a\u79cd\u91c7\u6837\u65b9\u6cd5\u7ed3\u5408\u8d77\u6765\uff1f\u7b54\u6848\u662f\u53ef\u4ee5</p> <p>\u5bf9\u4e0b\u9762\u8fd9\u4e2a\u88ab\u79ef\u51fd\u6570\\(f(x)\\)\uff0c\\(p_1(x)\\)\u8986\u76d6\u4e86\u5176\u4e2d\u4e00\u4e2a\u5cf0\u503c\uff0c\\(p_2(x)\\)\u8986\u76d6\u4e86\u53e6\u4e00\u4e2a\u5cf0\u503c\u3002\u5f53\u6211\u4eec\u7528\\(p_1(x)\\)\u6765\u91c7\u6837\u7684\u65f6\u5019\u7167\u987e\u4e0d\u5230\u7b2c\u4e8c\u4e2a\u5cf0\u503c\uff0c\u53cd\u4e4b\u7528\\(p_2(x)\\)\u540c\u7406\u3002\u90a3\u6211\u4eec\u60f3\u529e\u6cd5\u628a\u4e24\u4e2apdf\u7ed3\u5408\u8d77\u6765\uff0c\u4f7f\u5f97\u62e5\u6709\u4e24\u8005\u5171\u540c\u7684\u4f18\u70b9\u3002</p> <p>\u5148\u7528\\(p_1(x)\\)\u91c7\u6837\u4e00\u4e2a\u6837\u672c\\(X_1\\)\uff0c\u518d\u7528\\(p_2(x)\\)\u91c7\u6837\u53e6\u4e00\u4e2a\u6837\u672c\\(X_2\\)\uff0c\u52a0\u6743\u5e73\u5747\u3002</p> <p></p> <p>\u4f46\u662f\u5982\u4f55\u786e\u5b9a\u6743\u91cd\uff1f\u80af\u5b9a\u4e0d\u662f0.5\uff0c0.5\u90a3\u4e48\u7b80\u5355\u3002\u5f53\u6211\u4eec\u91c7\u5230\u4e00\u4e2a\u6837\u672cX\uff0c\u8ba1\u7b97\u54ea\u4e2a\\(p_k(X)\\)\u5360\u603b\u4f53\u6bd4\u91cd\u5927\uff0c\u8c01\u5927\u5c31\u7528\u8c01\u3002\u56e0\u6b64\u53ef\u4ee5\u5f97\u5230\u6743\u91cd\u4e3a\uff1a</p> \\[\\omega_i(X)=\\frac{p_i(X)}{\\sum_{k}p_k(X)}\\]"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#ld-low-discrepancy","title":"\u6837\u672c\u9009\u62e9(LD: low discrepancy)","text":"<p>\u4f4e\u5dee\u5f02\u5316\u5e8f\u5217\u7684\u4f18\u70b9\uff1a</p> <ol> <li>\u53ef\u4ee5\u65e0\u9650\u53d6\u6837\u672c</li> <li>\u76f8\u6bd4\u4e8e\u7eaf\u968f\u673a\u975e\u5e38\u7684\u5747\u5300\uff1b</li> <li>\u76f8\u6bd4\u4e8e\u7eaf\u968f\u673a\uff0c\u6536\u655b\u901f\u5ea6\u975e\u5e38\u5feb</li> </ol> <p></p> <p>\u7f3a\u70b9\uff1aLD\u5e8f\u5217\u5728\u9ad8\u7ef4\u7684\u60c5\u51b5\u4e0b\u4f1a\u53d8\u5f97\u4e0dLD</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_9","title":"\u91cd\u8981\u6027\u91c7\u6837\u5728\u8def\u5f84\u8ffd\u8e2a\u4e2d\u7684\u5e94\u7528","text":""},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#_10","title":"\u91cd\u8981\u6027\u91c7\u6837\u5728\u6c42\u89e3\u6e32\u67d3\u65b9\u7a0b\u4e0a\u7684\u5e94\u7528","text":"<p>\u6e32\u67d3\u65b9\u7a0b\uff1a</p> \\[L_o(p,\\omega_o)=L_e(p,\\omega_o)+\\int_{\\Omega^+}L_i(p,\\omega_i)f_r(p,\\omega_i,\\omega_o)(n\u00b7\\omega_i)d\\omega_i\\] <p>\u4e0d\u770b\u81ea\u53d1\u5149\u9879\uff0c\u88ab\u79ef\u51fd\u6570\u5305\u62ec3\u4e2a\u90e8\u5206\uff0c\u5149\u6e90\\(L_i\\)\uff08\u662f\u9012\u5f52\u5b9a\u4e49\uff0c\u5305\u62ec\u76f4\u63a5\u5149\u7167\u548c\u95f4\u63a5\u5149\u7167\uff09\uff0cBRDF\u9879\u548ccos\u9879\u3002\u5bf9\u6574\u4e2a\u88ab\u79ef\u51fd\u6570\u8bbe\u8ba1\\(pdf\\)\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u8fd9\u4e09\u9879\u5206\u522b\u8bbe\u8ba1\\(pdf\\)</p>"},{"location":"CG/CGBasic/%E9%87%8D%E8%A6%81%E6%80%A7%E9%87%87%E6%A0%B7/#cos-weighted","title":"cos-weighted\u91cd\u8981\u6027\u91c7\u6837","text":""},{"location":"CG/experience/%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%A4%9A%E8%BE%B9%E5%BD%A2%E6%98%AF%E5%90%A6%E6%98%AF%E5%87%B8%E5%A4%9A%E8%BE%B9%E5%BD%A2/","title":"\u5224\u65ad\u4e00\u4e2a\u591a\u8fb9\u5f62\u662f\u5426\u662f\u51f8\u591a\u8fb9\u5f62","text":"<p>\u51f8\u591a\u8fb9\u5f62\u662f\u4e00\u4e2a\u5185\u90e8\u4e3a\u51f8\u96c6\u7684\u7b80\u5355\u591a\u8fb9\u5f62\u3002\u51f8\u591a\u8fb9\u5f62\uff08Convex Polygon\uff09\u6307\u5982\u679c\u628a\u4e00\u4e2a\u591a\u8fb9\u5f62\u7684\u6240\u6709\u8fb9\u4e2d\uff0c\u4efb\u610f\u4e00\u6761\u8fb9\u5411\u4e24\u65b9\u65e0\u9650\u5ef6\u957f\u6210\u4e3a\u4e00\u76f4\u7ebf\u65f6\uff0c\u5176\u4ed6\u5404\u8fb9\u90fd\u5728\u6b64\u76f4\u7ebf\u7684\u540c\u65c1\uff0c\u90a3\u4e48\u8fd9\u4e2a\u591a\u8fb9\u5f62\u5c31\u53eb\u505a\u51f8\u591a\u8fb9\u5f62\uff0c\u5176\u5185\u89d2\u5e94\u8be5\u5168\u4e0d\u662f\u4f18\u89d2\uff0c\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u95f4\u7684\u7ebf\u6bb5\u4f4d\u4e8e\u591a\u8fb9\u5f62\u7684\u5185\u90e8\u6216\u8fb9\u4e0a\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u5206\u6790\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u51fa\u5224\u65ad\u51f8\u591a\u8fb9\u5f62\u7684\u601d\u8def\uff1a</p> <ol> <li>\u76f8\u90bb\u4e24\u4e2a\u9876\u70b9\u7ec4\u6210\u4e00\u6761\u76f4\u7ebf\uff0c\u5f97\u5230\u8be5\u6761\u76f4\u7ebf\u7684\u8868\u8fbe\u5f0f</li> <li>\u8ba1\u7b97\u7ec4\u6210\u9876\u70b9\u5916\u7684\u5176\u4f59\u9876\u70b9\u52301\u4e2d\u76f4\u7ebf\u7684\u8ddd\u79bb</li> <li>\u5224\u65ad2\u4e2d\u7684\u6240\u6709\u8ddd\u79bb\u662f\u5426\u5747\u4e3a\u76f8\u540c\u7b26\u53f7\uff0c\u82e5\u4e3a\u76f8\u540c\u7b26\u53f7\u5219\u4e3a\u51f8\u591a\u8fb9\u5f62\uff0c\u5426\u5219\u4e3a\u51f9\u591a\u8fb9\u5f62</li> </ol> <p>\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u6784\u6210\u591a\u8fb9\u5f62\u7684\u70b9\u8981\u6309\u7167\u987a\u65f6\u9488\u6216\u8005\u9006\u65f6\u9488\u7684\u987a\u5e8f\u4f9d\u6b21\u6392\u5217\uff0c\u5176\u987a\u5e8f\u4e0d\u80fd\u6709\u8df3\u8dc3\uff0c\u5426\u5219\u4f1a\u9020\u6210\u8bef\u5224\u3002\u56e0\u6b64\u5728\u8f93\u5165\u591a\u8fb9\u5f62\u6240\u6709\u9876\u70b9\u5750\u6807\u524d\uff0c\u5fc5\u987b\u5148\u786e\u4fdd\u5176\u5b9a\u70b9\u987a\u5e8f\u4f9d\u6b21\u6392\u5217\u3002</p>"},{"location":"CG/experience/%E5%88%A4%E6%96%AD%E7%82%B9%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E5%86%85/","title":"\u5224\u65ad\u70b9\u5728\u4e09\u89d2\u5f62\u5185","text":""},{"location":"CG/experience/%E5%88%A4%E6%96%AD%E7%82%B9%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E5%86%85/#1","title":"1.\u7528\u91cd\u5fc3\u5750\u6807","text":"<p>\u5f97\u5230\u4e09\u89d2\u5f62ABC\u7684\u5750\u6807\u548cp\u7684\u5750\u6807\uff0c\u8ba1\u7b97p\u7684\u91cd\u5fc3\u5750\u6807\\(ahpha\\),\\(beta\\),\\(gamma\\)\u3002\u82e5\\(ahpha\\),\\(beta\\),\\(gamma\\)\u5747\u5927\u4e8e0\uff0c\u8bf4\u660ep\u5728\u4e09\u89d2\u5f62\u5185\u3002</p>"},{"location":"CG/experience/%E5%88%A4%E6%96%AD%E7%82%B9%E5%9C%A8%E4%B8%89%E8%A7%92%E5%BD%A2%E5%86%85/#2","title":"2.\u540c\u4fa7\u6cd5","text":"<p>\u7528\u53c9\u4e58\u5224\u65adp\u662f\u5426\u5728AB,BC,CA\u7684\u540c\u4fa7\u3002\u662f\u5219\u5728\u4e09\u89d2\u5f62\u5185\u3002\u5426\u5219\u4e0d\u5728\u4e09\u89d2\u5f62\u5185\u3002</p>"},{"location":"CG/experience/%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%B0%84%E7%BA%BF%E4%B8%8E%E7%90%83%E4%BD%93%E7%9B%B8%E4%BA%A4/","title":"\u5982\u4f55\u5224\u65ad\u5c04\u7ebf\u4e0e\u7403\u4f53\u76f8\u4ea4","text":"<p>\u7403\u4f53\u8868\u9762\u7684\u8868\u8fbe\u5f0f\uff1a\\((x-c)*(x-c)=r^2\\)\uff0c\u5c04\u7ebf\u8868\u8fbe\u5f0f\uff1a\\(x(t)=o+dt\\)\u3002\u628a\u5c04\u7ebf\u8868\u8fbe\u5f0f\u4ee3\u5165\u7403\u9762\u8868\u8fbe\u5f0f\uff1a\\(((o+dt)-c)*((o+dt)-c)=r^2\\)\uff0c\u5316\u7b80\u4e4b\u540e\u5f97\u5230\u5173\u4e8et\u7684\u4e00\u5143\u4e8c\u6b21\u65b9\u7a0b\uff0c\u82e5\u65b9\u7a0b\u6709\u89e3\uff0c\u8bf4\u660e\u6709\u4ea4\u70b9\u3002</p> <p></p> <p>\u5de6\uff1a\\(b^2-4ac&lt;0\\)                   \u4e2d\uff1a\\(b^2-4ac&gt;0\\)                      \u53f3\uff1a\\(b^2-4ac=0\\)</p> <p>\u901a\u8fc7\u5224\u65ad\u7b26\u53f7\u5373\u53ef\u5224\u65ad\u662f\u5426\u4e0e\u7403\u4f53\u76f8\u4ea4</p> <p>\u4f18\u5316\u540e\u7684\u65b9\u6cd5\uff1a</p> <p></p> <p>\u8ba1\u7b97\u5411\u91cf\\(l=c-o\\)\uff0c\u8ba1\u7b97\\(l\\)\u5728\\(d\\)\u4e0a\u7684\u6295\u5f71\\(S=l*d\\)\u3002</p> <p>\u82e5\\(S&lt;0\\)(\u5bf9\u5e94\u4e0a\u56fe\u7684\u4e2d\u95f4\u60c5\u51b5)\uff0c\u6ca1\u6709\u4ea4\u70b9</p> <p>\u82e5\\(l*l &lt; r*r\\)\uff08\u5bf9\u5e94\u4e0a\u56fe\u7684\u53f3\u8fb9\u60c5\u51b5\uff09\uff0c\u90a3\u4e48\u5c04\u7ebf\u51fa\u53d1\u70b9\u5728\u5706\u5185\uff0c\u4e00\u5b9a\u6709\u4ea4\u70b9\u3002</p> <p>\u5bf9\u5de6\u8fb9\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\\(l\\)\u548c\\(S\\)\u7684\u957f\u5ea6\uff0c\u5148\u7528\u7528\u52fe\u80a1\u5b9a\u7406\u8ba1\u7b97\u51fa\\(m\\)\uff0c\\(m&lt;r\\) \u8bf4\u660e\u6709\u4ea4\u70b9\u3002</p> <p>\u82e5\u8fd8\u8981\u8ba1\u7b97\u4ea4\u70b9\u662f\u591a\u5c11\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>\\(q^2=r^2-m^2\\)\uff0c\u6240\u4ee5\u4ea4\u70b9\u4e3a\\(s-q\\)\u548c\\(s+q\\)\u3002</p>"},{"location":"CG/experience/%E5%B7%B2%E7%9F%A5%E5%85%A5%E5%B0%84%E5%90%91%E9%87%8F%E5%92%8C%E6%B3%95%E7%BA%BF%E6%B1%82%E5%8F%8D%E5%B0%84%E5%90%91%E9%87%8F/","title":"\u5df2\u77e5\u5165\u5c04\u5411\u91cf\u548c\u6cd5\u7ebf\u6c42\u53cd\u5c04\u5411\u91cf","text":"<p>\u5e73\u79fbR\u5230\u865a\u7ebf\u5904\uff0cI+R=N\uff0cN=2S\uff0cS\u662fI\u5230\u6cd5\u7ebfN\u7684\u6295\u5f71\uff0c\u56e0\u6b64\uff0cR=2S-I\uff1bS=-(I*N)N</p>"},{"location":"CG/experience/%E7%BB%99%E5%AE%9A%E7%82%B9%E9%9B%86%E6%B1%82%E5%87%B8%E5%8C%85/","title":"\u7ed9\u5b9a\u70b9\u96c6\u6c42\u51f8\u5305","text":""},{"location":"CG/experience/%E7%BB%99%E5%AE%9A%E7%82%B9%E9%9B%86%E6%B1%82%E5%87%B8%E5%8C%85/#1","title":"1.\u66b4\u529b\u6cd5","text":"<p>\u601d\u8def\uff1a\u4e24\u70b9\u786e\u5b9a\u4e00\u6761\u76f4\u7ebf\uff0c\u5982\u679c\u5269\u4f59\u7684\u5176\u5b83\u70b9\u90fd\u5728\u8fd9\u6761\u76f4\u7ebf\u7684\u540c\u4e00\u4fa7\uff0c\u5219\u8fd9\u4e24\u4e2a\u70b9\u662f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u5426\u5219\u5c31\u4e0d\u662f\u3002\\(O(n^3)\\)</p> <p>\\(n\\)\u4e2a\u9876\u70b9\u6709\\(\\frac{n(n-1)}{2}\\)\u6761\u8fb9\uff0c\u5bf9\u6bcf\u6761\u76f4\u7ebf\uff0c\u68c0\u67e5\u5269\u4f59n-2\u4e2a\u70b9\u662f\u5426\u5728\u76f4\u7ebf\u7684\u540c\u4e00\u4fa7\u3002</p> <p>\u7b54\uff1a\u7528\u53c9\u4e58\u3002\\(p_1\\)\uff0c\\(p_2\\)\u8fde\u6210\u7684\u76f4\u7ebf\uff0c\u7528\\(p_1p_3\\)\u53c9\u4e58\\(p_1p_2\\)\uff0c\u82e5\u7b26\u53f7\u5747\u76f8\u540c\uff0c\u8bf4\u660e\u5168\u5728\u540c\u4e00\u4fa7</p>"},{"location":"CG/experience/%E7%BB%99%E5%AE%9A%E7%82%B9%E9%9B%86%E6%B1%82%E5%87%B8%E5%8C%85/#2","title":"2.\u5206\u6cbb\u6cd5","text":"<p>O\uff08nlogn\uff09</p> <ol> <li>\u628a\u6240\u6709\u7684\u70b9\u90fd\u653e\u5728\u4e8c\u7ef4\u5750\u6807\u7cfb\u91cc\u9762\u3002\u90a3\u4e48\u6a2a\u5750\u6807\u6700\u5c0f\u548c\u6700\u5927\u7684\u4e24\u4e2a\u70b9p1,pn\u4e00\u5b9a\u662f\u51f8\u5305\u4e0a\u7684\u70b9\u3002\u76f4\u7ebfp1pn\u628a\u70b9\u96c6\u5206\u6210\u4e86\u4e24\u90e8\u5206\uff0c\u5373X\u8f74\u4e0a\u9762\u548c\u4e0b\u9762\u4e24\u90e8\u5206\uff0c\u5206\u522b\u53eb\u505a\u4e0a\u5305\u548c\u4e0b\u5305\u3002</li> <li>\u5bf9\u4e0a\u5305\uff1a\u6c42\u8ddd\u79bb\u76f4\u7ebf\\(p_1p_n\\)\u6700\u8fdc\u7684\u70b9\uff0c\u5047\u8bbe\u4e3a\u70b9 \\(p_{max}\\)\u3002</li> <li>\u4f5c\u76f4\u7ebf  \\(p_1p_{max}\\) \u3001\\(p_np_{max}\\)\uff0c\u628a\u76f4\u7ebf \\(p_1p_{max}\\) \u5de6\u4fa7\u7684\u70b9\u5f53\u6210\u662f\u4e0a\u5305\uff0c\u628a\u76f4\u7ebf  \\(p_np_{max}\\)  \u53f3\u4fa7\u7684\u70b9\u4e5f\u5f53\u6210\u662f\u4e0a\u5305\u3002</li> <li>\u91cd\u590d\u6b65\u9aa4 2\u30013\u3002</li> <li>\u5bf9\u4e0b\u5305\u4e5f\u4f5c\u7c7b\u4f3c\u64cd\u4f5c\u3002</li> </ol> <p>\u5982\u4f55\u6c42\u8ddd\u79bb\u76f4\u7ebf  \\(p_1p_n\\)  \u6700\u8fdc\u7684\u70b9\uff1f\u904d\u5386\u76f4\u7ebf\u4e0a\u65b9\u7684\u70b9\uff0c\u8ba1\u7b97\u70b9\u5230\u76f4\u7ebf\u7684\u8ddd\u79bb\u5373\u53ef\u3002</p>"},{"location":"CG/experience/%E7%BB%99%E5%AE%9A%E7%82%B9%E9%9B%86%E6%B1%82%E5%87%B8%E5%8C%85/#3javis","title":"3.Javis\u6b65\u8fdb\u6cd5","text":"<p>O(nH)\uff0cH\u4e3a\u51f8\u5305\u4e0a\u7684\u70b9\u7684\u4e2a\u6570</p> <p>\u601d\u8def\uff1a\u7eb5\u5750\u6807\u6700\u5c0f\u7684\u90a3\u4e2a\u70b9\u4e00\u5b9a\u662f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u4f8b\u5982p0\u3002\u4ecep0\u5f00\u59cb\uff0c\u6309\u9006\u65f6\u9488\u7684\u65b9\u5411\uff0c\u9010\u4e2a\u627e\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u6bcf\u524d\u8fdb\u4e00\u6b65\u627e\u5230\u4e00\u4e2a\u70b9\uff0c\u6240\u4ee5\u53eb\u4f5c\u6b65\u8fdb\u6cd5\u3002</p> <p>\u5047\u8bbe\u73b0\u5728\u5df2\u7ecf\u627e\u5230\u4e86p0,p1,p2\u4e3a\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u8981\u627e\u4e0b\u4e00\u4e2a\u70b9\uff0c\u5269\u4e0b\u7684\u70b9\u5206\u522b\u548cp2\u7ec4\u6210\u5411\u91cf\uff0c\u8bbe\u8fd9\u4e2a\u5411\u91cf\u4e0e\u5411\u91cfp1p2\u7684\u5939\u89d2\u4e3a \u03b2\u3002\u03b2\u6700\u5c0f\u5c31\u662f\u6240\u6c42\u7684\u4e0b\u4e00\u4e2a\u70b9\u3002</p> <p>\u5728\u627ep1\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u53ea\u6709p0\uff0c\u53ea\u80fd\u4e0ep0\u6240\u5728\u7684\u6c34\u5e73\u7ebf\u505a\u5939\u89d2\u3002</p>"},{"location":"CG/experience/%E7%BB%99%E5%AE%9A%E7%82%B9%E9%9B%86%E6%B1%82%E5%87%B8%E5%8C%85/#4graham","title":"4.Graham(\u683c\u62c9\u7ff0)\u626b\u63cf\u6cd5","text":"<p>\u7eb5\u5750\u6807\u6700\u5c0f\u7684\u90a3\u4e2a\u70b9\u4e00\u5b9a\u662f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u8bb0\u4e3ap0\uff0c\u5e73\u79fb\u6240\u6709\u5750\u6807\u70b9\uff0c\u4f7fp0\u5728\u539f\u70b9\u3002</p> <p>\u8ba1\u7b97\u5404\u4e2a\u70b9\u76f8\u5bf9\u4e8ep0\u7684\u5e45\u89d2 \u03b1\uff0c\u6309\u03b1\u6392\u5e8f\uff0c\u03b1\u76f8\u540c\u6309\u4e0ep0\u7684\u8ddd\u79bb\u6392\u5e8f\u3002 </p> <p>\u6392\u597d\u5e8f\u540e\uff0c\u7b2c\u4e00\u4e2a\u70b9p1\u4e0e\u6700\u540e\u4e00\u4e2a\u70b9p8\u4e00\u5b9a\u5728\u51f8\u5305\u4e0a\u3002</p> <ol> <li>\u4ee5\u4e0a\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u51f8\u5305\u4e0a\u7684\u7b2c\u4e00\u4e2a\u70b9p0\u548c\u7b2c\u4e8c\u4e2a\u70b9p1\uff0c\u6211\u4eec\u628a\u5b83\u4eec\u653e\u5728\u6808\u91cc\u9762\u3002\u73b0\u5728\u4ece\u6b65\u9aa43\u6c42\u5f97\u7684\u90a3\u4e2a\u7ed3\u679c\u91cc\uff0c\u628ap1\u540e\u9762\u7684\u90a3\u4e2a\u70b9\u62ff\u51fa\u6765\u505a\u5f53\u524d\u70b9\uff0c\u5373p2\u3002\u63a5\u4e0b\u6765\u5f00\u59cb\u627e\u7b2c\u4e09\u4e2a\u70b9\u3002</li> <li>\u8fde\u63a5\u6808\u6700\u4e0a\u9762\u7684\u4e24\u4e2a\u5143\u7d20\uff0c\u5f97\u5230\u76f4\u7ebfL\u3002\u770b\u5f53\u524d\u70b9\u662f\u5728\u76f4\u7ebfL\u7684\u53f3\u8fb9\u8fd8\u662f\u5de6\u8fb9\u3002\u5982\u679c\u5728\u76f4\u7ebf\u7684\u53f3\u8fb9\u5c31\u6267\u884c\u6b65\u9aa43\uff1b\u5982\u679c\u5728\u76f4\u7ebf\u4e0a\uff0c\u6216\u8005\u5728\u76f4\u7ebf\u7684\u5de6\u8fb9\u5c31\u6267\u884c\u6b65\u9aa44\u3002</li> <li>\u5982\u679c\u5728\u53f3\u8fb9\uff0c\u5219\u6808\u9876\u7684\u90a3\u4e2a\u5143\u7d20\u4e0d\u662f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u628a\u6808\u9876\u5143\u7d20\u51fa\u6808\u3002\u6267\u884c\u6b65\u9aa42\u3002</li> <li>\u5f53\u524d\u70b9\u662f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u628a\u5b83\u538b\u5165\u6808\uff0c\u6267\u884c\u6b65\u9aa45\u3002</li> <li>\u68c0\u67e5\u5f53\u524d\u7684\u70b9\u662f\u4e0d\u662f\u6b65\u9aa4\u6392\u5e8f\u540e\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u8bdd\u5c31\u7ed3\u675f\u3002\u5982\u679c\u4e0d\u662f\u7684\u8bdd\u5c31\u628a\u5f53\u524d\u70b9\u540e\u9762\u90a3\u4e2a\u70b9\u505a\u5f53\u524d\u70b9\uff0c\u8fd4\u56de\u6b65\u9aa42\u3002</li> <li>\u6700\u540e\uff0c\u6808\u4e2d\u7684\u5143\u7d20\u5c31\u662f\u51f8\u5305\u4e0a\u7684\u70b9\u4e86\u3002</li> </ol>"},{"location":"CG/pbrt/install/","title":"Install","text":""},{"location":"CG/pbrt/install/#vs2019","title":"\u7528vs2019\u7f16\u8bd1","text":""},{"location":"CG/pbrt/install/#mingw-makefiles","title":"\u7528MinGW Makefiles\u7f16\u8bd1","text":""},{"location":"CG/pbrt/install/#_1","title":"\u4e0b\u8f7d","text":"<pre><code>$ git clone --recursive https://github.com/mmp/pbrt-v3/\n</code></pre>"},{"location":"CG/pbrt/install/#build","title":"build","text":"<p>\u8fdb\u5165pbrt-v3\u6587\u4ef6\u5939\uff0c\u5728\u547d\u4ee4\u884c</p> <pre><code>cmake -B build\n</code></pre> <p>ming32\u6709\u4e24\u79cd\u7248\u672c\uff0cposix\u548cwin32\uff0c\u6211\u4f7f\u7528\u7684\u662fclion\uff0cclion\u9ed8\u8ba4\u5b89\u88c5\u7684\u662fposix\u7248\u672c\u7684ming32\uff0c\u8fd9\u548cpthread\u51b2\u7a81\uff0c\u4f1a\u62a5\u5982\u4e0b\u9519\u8bef</p> <p></p> <p>\u7ed9\u7cfb\u7edf\u5b89\u88c5win32\u7248\u672c\u7684ming32\u5c31\u80fd\u89e3\u51b3\u3002</p>"},{"location":"CG/pbrt/systemOverview/","title":"\u7cfb\u7edf\u6982\u8ff0","text":"<p>pbrt\u662f\u4f7f\u7528\u6807\u51c6\u7684\u9762\u5411\u5bf9\u8c61\u6280\u672f\u6784\u9020\u7684:\u62bd\u8c61\u57fa\u7c7b\u662f\u4e3a\u91cd\u8981\u7684\u5b9e\u4f53\u5b9a\u4e49\u7684(\u4f8b\u5982\uff0c\u4e00\u4e2aShape\u62bd\u8c61\u57fa\u7c7b\u5b9a\u4e49\u4e86\u6240\u6709\u51e0\u4f55\u5f62\u72b6\u5fc5\u987b\u5b9e\u73b0\u7684\u63a5\u53e3\uff0cLight\u62bd\u8c61\u57fa\u7c7b\u5bf9\u706f\u5149\u7684\u884c\u4e3a\u7c7b\u4f3c\uff0c\u7b49\u7b49)\u3002\u7cfb\u7edf\u7684\u5927\u90e8\u5206\u5b9e\u73b0\u7eaf\u7cb9\u662f\u57fa\u4e8e\u8fd9\u4e9b\u62bd\u8c61\u57fa\u7c7b\u63d0\u4f9b\u7684\u63a5\u53e3;\u4f8b\u5982\uff0c\u68c0\u67e5\u5149\u6e90\u548c\u9634\u5f71\u70b9\u4e4b\u95f4\u906e\u6321\u7269\u4f53\u7684\u4ee3\u7801\u8c03\u7528Shape intersection\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u8003\u8651\u573a\u666f\u4e2d\u51fa\u73b0\u7684\u7279\u5b9a\u5f62\u72b6\u7c7b\u578b\u3002\u8fd9\u79cd\u65b9\u6cd5\u4f7f\u5f97\u6269\u5c55\u7cfb\u7edf\u53d8\u5f97\u5f88\u5bb9\u6613\uff0c\u56e0\u4e3a\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5f62\u72b6\u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u5b9e\u73b0shape\u63a5\u53e3\u7684\u7c7b\uff0c\u5e76\u5c06\u5176\u94fe\u63a5\u5230\u7cfb\u7edf\u4e2d\u3002</p> <p>pbrt\u603b\u5171\u4f7f\u752810\u4e2a\u5173\u952e\u62bd\u8c61\u57fa\u7c7b\u7f16\u5199\uff0c\u5982\u88681.1\u6240\u793a\u3002\u5411\u7cfb\u7edf\u4e2d\u6dfb\u52a0\u8fd9\u4e9b\u7c7b\u578b\u4e2d\u7684\u4e00\u79cd\u7684\u65b0\u5b9e\u73b0\u662f\u5f88\u7b80\u5355\u7684;\u5b9e\u73b0\u5fc5\u987b\u4ece\u9002\u5f53\u7684\u57fa\u7c7b\u7ee7\u627f\uff0c\u88ab\u7f16\u8bd1\u5e76\u94fe\u63a5\u5230\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\uff0c\u5e76\u4e14\u5fc5\u987b\u4fee\u6539\u9644\u5f55B\u4e2d\u7684\u5bf9\u8c61\u521b\u5efa\u4f8b\u7a0b\uff0c\u4ee5\u4fbf\u5728\u89e3\u6790\u573a\u666f\u63cf\u8ff0\u6587\u4ef6\u65f6\u6839\u636e\u9700\u8981\u521b\u5efa\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u7b2cA.4\u8282\u66f4\u8be6\u7ec6\u5730\u8ba8\u8bba\u4e86\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u6269\u5c55\u7cfb\u7edf\u3002</p> <p>\u88681.1:\u4e3b\u8981\u63a5\u53e3\u7c7b\u578b\u3002\u5927\u591a\u6570pbrt\u662f\u6839\u636e10\u4e2a\u5173\u952e\u62bd\u8c61\u57fa\u7c7b\u5b9e\u73b0\u7684\uff0c\u5217\u5728\u8fd9\u91cc\u3002\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5c06\u8fd9\u4e9b\u5b9e\u73b0\u6dfb\u52a0\u5230\u7cfb\u7edf\u4e2d\uff0c\u4ee5\u6269\u5c55\u5176\u529f\u80fd\u3002</p> <p></p> <p>pbrt\u6e90\u4ee3\u7801\u53ef\u4ecehttp://pbrt.org\u83b7\u5f97\u3002(\u5927\u91cf\u7684\u793a\u4f8b\u573a\u666f\u4e5f\u53ef\u4ee5\u5355\u72ec\u4e0b\u8f7d\u3002)pbrt\u6838\u5fc3\u7684\u6240\u6709\u4ee3\u7801\u90fd\u5728src/core\u76ee\u5f55\u4e2d\uff0cmain()\u51fd\u6570\u5305\u542b\u5728\u7b80\u77ed\u6587\u4ef6main/pbrt.cpp\u4e2d\u3002\u62bd\u8c61\u57fa\u7c7b\u5b9e\u4f8b\u7684\u5404\u79cd\u5b9e\u73b0\u90fd\u5728\u4e0d\u540c\u7684\u76ee\u5f55\u4e2d:src/shapes\u5b9e\u73b0\u4e86Shape\u57fa\u7c7b\uff0csrc/materials\u5b9e\u73b0\u4e86Material\uff0c\u7b49\u7b49\u3002</p>"},{"location":"CG/pbrt/systemOverview/#_2","title":"\u6267\u884c\u9636\u6bb5","text":"<p>PBRT\u5728\u6982\u5ff5\u4e0a\u53ef\u4ee5\u5206\u4e3a\u4e24\u4e2a\u6267\u884c\u9636\u6bb5\u3002\u9996\u5148\uff0c\u5b83\u89e3\u6790\u7528\u6237\u63d0\u4f9b\u7684\u573a\u666f\u63cf\u8ff0\u6587\u4ef6\u3002\u573a\u666f\u63cf\u8ff0\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u6307\u5b9a\u4e86\u6784\u6210\u573a\u666f\u7684\u51e0\u4f55\u5f62\u72b6\u3001\u5b83\u4eec\u7684\u6750\u8d28\u5c5e\u6027\u3001\u7167\u4eae\u5b83\u4eec\u7684\u706f\u5149\u3001\u865a\u62df\u6444\u50cf\u673a\u5728\u573a\u666f\u4e2d\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6574\u4e2a\u7cfb\u7edf\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u5355\u72ec\u7b97\u6cd5\u7684\u53c2\u6570\u3002\u8f93\u5165\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e2a\u8bed\u53e5\u90fd\u76f4\u63a5\u6620\u5c04\u5230\u9644\u5f55a\u4e2d\u7684\u4e00\u4e2a\u4f8b\u7a0b;\u8fd9\u4e9b\u4f8b\u7a0b\u7ec4\u6210\u4e86\u63cf\u8ff0\u573a\u666f\u7684\u7a0b\u5e8f\u63a5\u53e3\u3002\u573a\u666f\u6587\u4ef6\u683c\u5f0f\u8bb0\u5f55\u5728pbrt\u7f51\u7ad9pbrt-v3 Input File Format\u4e0a\u3002</p> <p>\u89e3\u6790\u9636\u6bb5\u7684\u6700\u7ec8\u7ed3\u679c\u662fScene\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u548cIntegrator\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u3002\u573a\u666f\u5305\u542b\u573a\u666f\u5185\u5bb9\u7684\u8868\u793a(\u51e0\u4f55\u5bf9\u8c61\u3001\u706f\u5149\u7b49)\uff0c\u79ef\u5206\u5668\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b97\u6cd5\u6765\u6e32\u67d3\u5b83\u3002\u79ef\u5206\u5668\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a\u79ef\u5206\u5668\uff0c\u662f\u56e0\u4e3a\u5b83\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u8ba1\u7b97\u516c\u5f0f(1.1)\u7684\u79ef\u5206\u3002</p> <p>\u4e00\u65e6\u573a\u666f\u88ab\u6307\u5b9a\uff0c\u7b2c\u4e8c\u9636\u6bb5\u7684\u6267\u884c\u5c31\u5f00\u59cb\u4e86\uff0c\u4e3b\u6e32\u67d3\u5faa\u73af\u5c31\u4f1a\u6267\u884c\u3002\u8fd9\u4e2a\u9636\u6bb5\u662fpbrt\u901a\u5e38\u82b1\u8d39\u5927\u90e8\u5206\u8fd0\u884c\u65f6\u95f4\u7684\u5730\u65b9\uff0c\u672c\u4e66\u7684\u5927\u90e8\u5206\u5185\u5bb9\u63cf\u8ff0\u4e86\u5728\u8fd9\u4e2a\u9636\u6bb5\u6267\u884c\u7684\u4ee3\u7801\u3002\u5448\u73b0\u5faa\u73af\u662f\u901a\u8fc7\u6267\u884cIntegrator::Render()\u65b9\u6cd5\u7684\u5b9e\u73b0\u6765\u6267\u884c\u7684\uff0c\u8fd9\u662f\u7b2c1.3.4\u8282\u7684\u91cd\u70b9\u3002</p> <p>\u672c\u7ae0\u5c06\u63cf\u8ff0\u4e00\u4e2a\u53eb\u505aSamplerIntegrator\u7684\u7279\u6b8a\u7684\u79ef\u5206\u5668\u5b50\u7c7b\uff0c\u7528\u6765\u6e32\u67d3\u6b21\u8868\u9762\u6563\u5c04\u73b0\u8c61\u7684pathIntegrator\u5c31\u662fSamplerIntegrator\u7684\u5b50\u7c7b\uff0cSamplerIntegrator\u7684Render()\u65b9\u6cd5\u51b3\u5b9a\u4e86\u5230\u8fbe\u4e00\u4e2a\u865a\u62df\u76f8\u673a\u5e73\u9762\u7684\u5927\u91cf\u5149\u7ebf\uff0c\u8fd9\u4e9b\u5149\u7ebf\u6a21\u62df\u4e86\u56fe\u50cf\u5f62\u6210\u7684\u8fc7\u7a0b\u3002\u5728\u8ba1\u7b97\u6240\u6709\u8fd9\u4e9b\u80f6\u7247\u6837\u672c\u7684\u8d21\u732e\u540e\uff0c\u6700\u7ec8\u7684\u56fe\u50cf\u88ab\u5199\u5165\u4e00\u4e2a\u6587\u4ef6\u3002\u5185\u5b58\u4e2d\u7684\u573a\u666f\u63cf\u8ff0\u6570\u636e\u88ab\u91ca\u653e\uff0c\u7136\u540e\u7cfb\u7edf\u7ee7\u7eed\u5904\u7406\u573a\u666f\u63cf\u8ff0\u6587\u4ef6\u4e2d\u7684\u8bed\u53e5\uff0c\u76f4\u5230\u6ca1\u6709\u5269\u4f59\u7684\u8bed\u53e5\u4e3a\u6b62\uff0c\u5141\u8bb8\u7528\u6237\u6307\u5b9a\u53e6\u4e00\u4e2a\u8981\u5448\u73b0\u7684\u573a\u666f(\u5982\u679c\u9700\u8981)\u3002</p>"},{"location":"CG/pbrt/systemOverview/#_3","title":"\u573a\u666f\u8868\u793a","text":"<p>Pbrt\u7684main()\u51fd\u6570\u53ef\u4ee5\u5728main/ Pbrt .cpp\u6587\u4ef6\u4e2d\u627e\u5230\u3002\u8fd9\u4e2a\u51fd\u6570\u975e\u5e38\u7b80\u5355;\u5b83\u9996\u5148\u5faa\u73afargv\u4e2d\u63d0\u4f9b\u7684\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u521d\u59cb\u5316Options\u7ed3\u6784\u4e2d\u7684\u503c\uff0c\u5e76\u5b58\u50a8\u53c2\u6570\u4e2d\u63d0\u4f9b\u7684\u6587\u4ef6\u540d\u3002\u4f7f\u7528-help\u4f5c\u4e3a\u547d\u4ee4\u884c\u53c2\u6570\u8fd0\u884cpbrt\u5c06\u6253\u5370\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0a\u6307\u5b9a\u7684\u6240\u6709\u9009\u9879\u3002\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570&lt;&gt;\u7684\u7247\u6bb5\u5f88\u7b80\u5355\uff0c\u56e0\u6b64\u4e0d\u5728\u672c\u4e66\u4e2d\u3002 <p>\u7136\u540e\u5c06\u9009\u9879\u7ed3\u6784\u4f20\u9012\u7ed9pbrtInit()\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u6267\u884c\u7cfb\u7edf\u8303\u56f4\u7684\u521d\u59cb\u5316\u3002\u7136\u540emain()\u51fd\u6570\u89e3\u6790\u7ed9\u5b9a\u7684\u573a\u666f\u63cf\u8ff0\uff0c\u4ece\u800c\u521b\u5efa\u4e00\u4e2a\u573a\u666f\u548c\u4e00\u4e2a\u79ef\u5206\u5668\u3002\u5728\u6240\u6709\u5448\u73b0\u5b8c\u6210\u4e4b\u540e\uff0cpbrtCleanup()\u5728\u7cfb\u7edf\u9000\u51fa\u4e4b\u524d\u8fdb\u884c\u6700\u540e\u7684\u6e05\u7406\u3002</p> <p>pbrtInit()\u548cpbrtCleanup()\u51fd\u6570\u51fa\u73b0\u5728\u9875\u8fb9\u8ddd\u7684\u8ff7\u4f60\u7d22\u5f15\u4e2d\uff0c\u4ee5\u53ca\u5b83\u4eec\u5b9e\u9645\u5b9a\u4e49\u7684\u9875\u6570\u3002\u8ff7\u4f60\u7d22\u5f15\u5177\u6709\u6307\u5411\u51e0\u4e4e\u6240\u6709\u5728\u6bcf\u4e2a\u9875\u9762\u4e0a\u4f7f\u7528\u6216\u5f15\u7528\u7684\u51fd\u6570\u3001\u7c7b\u3001\u65b9\u6cd5\u548c\u6210\u5458\u53d8\u91cf\u5b9a\u4e49\u7684\u6307\u9488\u3002</p> <pre><code>&lt;&lt;Main program&gt;&gt;= \nint main(int argc, char *argv[]) {\n    Options options;\n    std::vector&lt;std::string&gt; filenames;\n    &lt;&lt;Process command-line arguments&gt;&gt; \n    pbrtInit(options);\n    &lt;&lt;Process scene description&gt;&gt; \n    pbrtCleanup();\n    return 0;\n}\n</code></pre> <p>\u5982\u679c\u8fd0\u884cpbrt\u65f6\u6ca1\u6709\u63d0\u4f9b\u8f93\u5165\u6587\u4ef6\u540d\uff0c\u5219\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u573a\u666f\u63cf\u8ff0\u3002\u5426\u5219\uff0c\u5b83\u5c06\u904d\u5386\u6240\u63d0\u4f9b\u7684\u6587\u4ef6\u540d\uff0c\u4f9d\u6b21\u5904\u7406\u6bcf\u4e2a\u6587\u4ef6\u3002</p> <pre><code>&lt;&lt;Process scene description&gt;&gt;= \nif (filenames.size() == 0) {\n    &lt;&lt;Parse scene from standard input&gt;&gt; \n\n} else {\n    &lt;&lt;Parse scene from input files&gt;&gt; \n}\n</code></pre>"},{"location":"CG/pbrt/systemOverview/#_4","title":"\u79ef\u5206\u5668\u63a5\u53e3\u548c\u91c7\u6837\u79ef\u5206\u5668","text":"<p>\u573a\u666f\u56fe\u50cf\u7684\u5448\u73b0\u7531\u5b9e\u73b0Integrator\u63a5\u53e3\u7684\u7c7b\u7684\u5b9e\u4f8b\u5904\u7406\u3002Integrator\u662f\u4e00\u4e2a\u62bd\u8c61\u57fa\u7c7b\uff0c\u5b83\u5b9a\u4e49\u4e86\u6240\u6709\u79ef\u5206\u5668\u5fc5\u987b\u63d0\u4f9b\u7684Render()\u65b9\u6cd5\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u5b9a\u4e49\u4e00\u4e2aIntegrator\u5b9e\u73b0\uff0cSamplerIntegrator\u3002\u79ef\u5206\u5668\u7684\u57fa\u672c\u63a5\u53e3\u5b9a\u4e49\u5728core/integrator.h\u4e2d\uff0c\u96c6\u6210\u5668\u4f7f\u7528\u7684\u4e00\u4e9b\u5b9e\u7528\u51fd\u6570\u5728core/integrator.cpp\u4e2d\u3002\u5404\u79cd\u79ef\u5206\u5668\u7684\u5b9e\u73b0\u5728integrators\u76ee\u5f55\u4e2d\u3002</p> <p>Integrator\u63a5\u53e3\u7684\u7c7b\u5185\u90e8\u53ea\u6709\u4e00\u4e2a\u7eaf\u865a\u51fd\u6570\u2014\u2014Render()</p> <pre><code>&lt;&lt;Integrator Declarations&gt;&gt;= \nclass Integrator {\npublic:\n    // Integrator Interface\n    virtual ~Integrator();\n    virtual void Render(const Scene &amp;scene) = 0;\n};\n</code></pre> <p>Integrators\u5fc5\u987b\u63d0\u4f9b\u7684\u65b9\u6cd5\u662fRender();\u5b83\u88ab\u4f20\u9012\u7ed9\u573a\u666f\u6765\u8ba1\u7b97\u573a\u666f\u7684\u56fe\u50cf\uff0c\u6216\u8005\u66f4\u4e00\u822c\u5730\u8bf4\uff0c\u4e00\u7ec4\u573a\u666f\u7167\u660e\u7684\u6d4b\u91cf\u503c\u3002\u8fd9\u4e2a\u63a5\u53e3\u6709\u610f\u5730\u4fdd\u6301\u975e\u5e38\u901a\u7528\uff0c\u4ee5\u5141\u8bb8\u5e7f\u6cdb\u7684\u5b9e\u73b0\u2014\u2014\u4f8b\u5982\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u79ef\u5206\u5668\uff0c\u53ea\u5728\u5206\u5e03\u5728\u573a\u666f\u4e2d\u7684\u7a00\u758f\u4f4d\u7f6e\u96c6\u8fdb\u884c\u6d4b\u91cf\uff0c\u800c\u4e0d\u662f\u751f\u6210\u4e00\u4e2a\u5e38\u89c4\u76842D\u56fe\u50cf\u3002</p> <p>\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u91cd\u70b9\u5173\u6ce8SamplerIntegrator\uff0c\u5b83\u662fIntegrator\u7684\u5b50\u7c7b\uff0c\u4ee5\u53ca\u5b9e\u73b0SamplerIntegrator\u63a5\u53e3\u7684whitteintegrator\u3002(\u5176\u4ed6samplerintegrator\u7684\u5b9e\u73b0\u5c06\u5728\u7b2c14\u548c15\u7ae0\u4ecb\u7ecd;\u7b2c16\u7ae0\u4e2d\u7684\u79ef\u5206\u5668\u76f4\u63a5\u7ee7\u627f\u81eaIntegrator\u3002)SamplerIntegrator\u7684\u540d\u79f0\u6e90\u4e8e\u5b83\u7684\u5448\u73b0\u8fc7\u7a0b\u662f\u7531\u6765\u81eaSampler\u7684\u6837\u672c\u6d41\u9a71\u52a8\u7684\u8fd9\u4e00\u4e8b\u5b9e;\u6bcf\u4e2a\u8fd9\u6837\u7684\u6837\u672c\u8bc6\u522b\u56fe\u50cf\u4e0a\u7684\u4e00\u4e2a\u70b9\uff0c\u79ef\u5206\u5668\u5e94\u8be5\u5728\u8fd9\u4e2a\u70b9\u8ba1\u7b97\u5230\u8fbe\u7684\u5149\u6765\u5f62\u6210\u56fe\u50cf\u3002</p> <pre><code>// SamplerIntegrator Declarations\nclass SamplerIntegrator : public Integrator {\n  public:\n    // SamplerIntegrator Public Methods\n    SamplerIntegrator(std::shared_ptr&lt;const Camera&gt; camera,\n                      std::shared_ptr&lt;Sampler&gt; sampler,\n                      const Bounds2i &amp;pixelBounds)\n        : camera(camera), sampler(sampler), pixelBounds(pixelBounds) {}\n\n    //Preprocess\u51fd\u6570\u5728\u573a\u666f\u5b9a\u4e49\u4e4b\u540e\uff0c\u6e32\u67d3\u5f00\u59cb\u4e4b\u524d\u505a\u4e00\u4e9b\u989d\u5916\u7684\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u6bd4\u5982\u5bf9light\u8fdb\u884c\u521d\u59cb\u5316\u3002\n    virtual void Preprocess(const Scene &amp;scene, Sampler &amp;sampler) {}\n\n    void Render(const Scene &amp;scene);\n\n    //Li()\u65b9\u6cd5\u786e\u5b9a\u6cbf\u5c04\u7ebf\u5230\u8fbe\u56fe\u50cf\u5e73\u9762\u4e0a\u7684\u5149\u91cf\u3002\n    virtual Spectrum Li(const RayDifferential &amp;ray, const Scene &amp;scene,\n                        Sampler &amp;sampler, MemoryArena &amp;arena,\n                        int depth = 0) const = 0;\n    Spectrum SpecularReflect(const RayDifferential &amp;ray,\n                             const SurfaceInteraction &amp;isect,\n                             const Scene &amp;scene, Sampler &amp;sampler,\n                             MemoryArena &amp;arena, int depth) const;\n    Spectrum SpecularTransmit(const RayDifferential &amp;ray,\n                              const SurfaceInteraction &amp;isect,\n                              const Scene &amp;scene, Sampler &amp;sampler,\n                              MemoryArena &amp;arena, int depth) const;\n\n  protected:\n    // SamplerIntegrator Protected Data\n    std::shared_ptr&lt;const Camera&gt; camera;\n\n  private:\n    // SamplerIntegrator Private Data\n    std::shared_ptr&lt;Sampler&gt; sampler;\n    const Bounds2i pixelBounds;\n};\n</code></pre> <p>SamplerIntegrator\u5b58\u50a8\u4e00\u4e2a\u6307\u5411Sampler\u7684\u6307\u9488\u3002\u91c7\u6837\u5668\u7684\u4f5c\u7528\u662f\u5fae\u5999\u7684\uff0c\u4f46\u5b83\u7684\u5b9e\u73b0\u53ef\u4ee5\u5b9e\u8d28\u4e0a\u5f71\u54cd\u7cfb\u7edf\u751f\u6210\u7684\u56fe\u50cf\u7684\u8d28\u91cf\u3002\u9996\u5148\uff0c\u91c7\u6837\u5668\u8d1f\u8d23\u9009\u62e9\u56fe\u50cf\u5e73\u9762\u4e0a\u7684\u70b9\uff0c\u4ece\u8fd9\u4e9b\u70b9\u53ef\u4ee5\u8ffd\u8e2a\u5149\u7ebf\u3002\u5176\u6b21\uff0c\u5b83\u8d1f\u8d23\u63d0\u4f9b\u79ef\u5206\u5668\u7528\u4e8e\u4f30\u8ba1\u79ef\u5206(\u516c\u5f0f(1.1))\u503c\u7684\u6837\u672c\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u4e00\u4e9b\u79ef\u5206\u5668\u9700\u8981\u5728\u5149\u6e90\u4e0a\u968f\u673a\u9009\u62e9\u70b9\u6765\u8ba1\u7b97\u9762\u5149\u6e90\u7684\u7167\u5ea6\u3002\u751f\u6210\u8fd9\u4e9b\u6837\u672c\u7684\u826f\u597d\u5206\u5e03\u662f\u6e32\u67d3\u8fc7\u7a0b\u7684\u4e00\u4e2a\u91cd\u8981\u90e8\u5206\uff0c\u5b83\u53ef\u4ee5\u6781\u5927\u5730\u5f71\u54cd\u6574\u4f53\u6548\u7387;\u8fd9\u4e2a\u4e3b\u9898\u662f\u7b2c\u4e03\u7ae0\u7684\u91cd\u70b9\u3002</p> <p>Camera\u5bf9\u8c61\u63a7\u5236\u89c2\u770b\u548c\u955c\u5934\u53c2\u6570\uff0c\u5982\u4f4d\u7f6e\u3001\u65b9\u5411\u3001\u805a\u7126\u548c\u89c6\u573a\u3002Camera\u7c7b\u4e2d\u7684Film\u6210\u5458\u53d8\u91cf\u5904\u7406\u56fe\u50cf\u5b58\u50a8\u3002Camera\u7c7b\u5728\u7b2c6\u7ae0\u63cf\u8ff0\uff0cFilm\u5728\u7b2c7.9\u8282\u63cf\u8ff0\u3002Film\u8d1f\u8d23\u5c06\u6700\u7ec8\u56fe\u50cf\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u53ef\u80fd\u5728\u8ba1\u7b97\u65f6\u5c06\u5176\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\u3002</p> <p>SamplerIntegrator\u6784\u9020\u51fd\u6570\u5c06\u6307\u5411\u8fd9\u4e9b\u5bf9\u8c61\u7684\u6307\u9488\u5b58\u50a8\u5728\u6210\u5458\u53d8\u91cf\u4e2d\u3002SamplerIntegrator\u662f\u5728RenderOptions::MakeIntegrator()\u65b9\u6cd5\u4e2d\u521b\u5efa\u7684\uff0c\u8be5\u65b9\u6cd5\u7531pbrtWorldEnd()\u8c03\u7528\uff0c\u5f53\u4ece\u8f93\u5165\u6587\u4ef6\u89e3\u6790\u573a\u666f\u63cf\u8ff0\u5e76\u51c6\u5907\u5448\u73b0\u573a\u666f\u65f6\uff0c\u8f93\u5165\u6587\u4ef6\u89e3\u6790\u5668\u5c06\u8c03\u7528\u8be5\u65b9\u6cd5\u3002</p>"},{"location":"CG/pbrt/systemOverview/#_5","title":"\u4e3b\u6e32\u67d3\u5faa\u73af","text":"<p>\u5728\u5206\u914d\u548c\u521d\u59cb\u5316\u573a\u666f\u548c\u79ef\u5206\u5668\u4e4b\u540e\uff0c\u5c06\u8c03\u7528Integrator::Render()\u65b9\u6cd5\uff0c\u542f\u52a8pbrt\u6267\u884c\u7684\u7b2c\u4e8c\u4e2a\u9636\u6bb5:\u4e3b\u6e32\u67d3\u5faa\u73af\u3002SamplerIntegrator\u7684\u5b9e\u65bd\u8fd9\u79cd\u65b9\u6cd5,\u5728\u6bcf\u4e00\u4e2a\u56fe\u50cf\u5e73\u9762\u4e0a\u7684\u4e00\u7cfb\u5217\u4f4d\u7f6e,\u8be5\u65b9\u6cd5\u4f7f\u7528\u76f8\u673a\u548c\u53d6\u6837\u5668\u6765\u5728\u573a\u666f\u4e2d\u751f\u6210\u4e00\u6761\u5c04\u7ebf ,\u7136\u540e\u4f7f\u7528Li()\u65b9\u6cd5\u6765\u786e\u5b9a\u6cbf\u5c04\u7ebf\u5230\u8fbe\u56fe\u50cf\u5e73\u9762\u4e0a\u7684\u5149\u91cf\u3002\u8fd9\u4e2a\u503c\u88ab\u4f20\u9012\u7ed9Film\uff0c\u5b83\u8bb0\u5f55\u5149\u7684\u8d21\u732e\u3002\u56fe1.17\u603b\u7ed3\u4e86\u6b64\u65b9\u6cd5\u4e2d\u4f7f\u7528\u7684\u4e3b\u8981\u7c7b\u4ee5\u53ca\u5176\u4e2d\u7684\u6570\u636e\u6d41\u3002</p> <p></p> <p>\u56fe1.17:core/integrator.cpp\u4e2d\u7684SamplerIntegrator::Render()\u65b9\u6cd5\u4e2d\u4e3b\u5448\u73b0\u5faa\u73af\u7684\u7c7b\u5173\u7cfb\u3002\u91c7\u6837\u5668\u63d0\u4f9b\u4e86\u4e00\u4e2a\u91c7\u6837\u503c\u5e8f\u5217\uff0c\u6bcf\u4e2a\u91c7\u6837\u503c\u5bf9\u5e94\u4e00\u4e2a\u8981\u91c7\u96c6\u7684\u56fe\u50cf\u6837\u672c\u3002Camera\u5c06\u6837\u672c\u8f6c\u6362\u4e3a\u6765\u81eaFilm\u5e73\u9762\u7684\u76f8\u5e94\u5c04\u7ebf\uff0cLi()\u65b9\u6cd5\u5b9e\u73b0\u8ba1\u7b97\u6cbf\u5230\u8fbeFilm\u7684\u5c04\u7ebf\u7684\u4eae\u5ea6\u3002\u91c7\u6837\u53ca\u5176\u4eae\u5ea6\u88ab\u8d4b\u7ed9Film\uff0cFilm\u5c06\u5b83\u4eec\u7684\u8d21\u732e\u5b58\u50a8\u5728\u56fe\u50cf\u4e2d\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e0d\u65ad\u91cd\u590d\uff0c\u76f4\u5230\u91c7\u6837\u5668\u63d0\u4f9b\u4e86\u751f\u6210\u6700\u7ec8\u56fe\u50cf\u6240\u9700\u7684\u8db3\u591f\u591a\u7684\u6837\u672c\u3002</p>"},{"location":"OSG/ViewerBaseframe/","title":"ViewerBase::frame()","text":"<ol> <li>\u82e5\u662f\u7b2c\u4e00\u5e27\uff0c\u5c31\u521d\u59cb\u5316viewer\u3002</li> <li>\u6267\u884cadvance</li> <li>event\u904d\u5386</li> <li>\u66f4\u65b0\u904d\u5386\uff1b</li> <li>\u6e32\u67d3\u904d\u5386</li> </ol>"},{"location":"OSG/ViewerBaseframe/#viewerinit","title":"\u521d\u59cb\u5316\uff1aviewerInit()","text":"<p>viewerInit()\u51fd\u6570\u53ea\u8c03\u7528\u4e86View::init()\u51fd\u6570\u3002\u8be5\u51fd\u6570\u51fa\u73b0\u4e86\u4e24\u4e2a\u91cd\u8981\u7684\u7c7b\u6210\u5458\u53d8\u91cf\uff1a_eventQueue \u548c  _cameraManipulator\u3002</p> <p>_eventQueue \u521b\u5efa\u51fa\u4e86\u4e00\u4e2a\u5e27\u7c7b\u578b\u7684\u4e8b\u4ef6(FRAME\u4e8b\u4ef6)\uff0c\u5373\u6bcf\u4e00\u5e27\u90fd\u4f1a\u89e6\u53d1\u7684\u4e8b\u4ef6\u3002</p> <pre><code>osg::ref_ptr&lt;osgGA::GUIEventAdapter&gt; initEvent = _eventQueue-&gt;createEvent();\ninitEvent-&gt;setEventType(osgGA::GUIEventAdapter::FRAME);\n</code></pre> <p>osgGA::GUIEventAdapter\u4ee3\u8868\u4e8b\u4ef6\uff0c\u8868\u8fbe\u4e86\u5404\u7c7b\u578b\u9f20\u6807\u952e\u76d8\u7b49\u4e8b\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627fosgGA::GUIEventHandler\u7c7b\u5e76\u91cd\u5199handle\u65b9\u6cd5\uff0c\u6765\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5904\u7406\u4e8b\u4ef6\u3002</p> <p>_cameraManipulator\u662fview\u6240\u7528\u7684\u6f2b\u6e38\u5668\u7684\u5b9e\u4f8b\uff0c\u901a\u5e38\u7528setCameraManipulator\u6765\u8bbe\u7f6e\u8fd9\u4e2a\u53d8\u91cf\u7684\u5185\u5bb9\u3002\u6f2b\u6e38\u5668\u5728osgGA\u5e93\u4e2d\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u5e93\u4e3b\u8981\u662f\u7528\u6765\u5904\u7406\u7528\u6237\u4e0e\u4e09\u7ef4\u573a\u666f\u7684\u4ea4\u4e92\uff08\u5305\u62ec\u9f20\u6807\u3001\u952e\u76d8\u3001\u624b\u52bf\u3001\u64cd\u7eb5\u6746\u7b49\uff09\uff0cosg\u4e2d\u5b9e\u73b0\u4e86\u5f88\u591a\u7c7b\u6f2b\u6e38\u5668\uff0c\u8fd9\u4e9b\u6f2b\u6e38\u5668\u90fd\u7ee7\u627f\u81eaosgGA::CameraManpualtor\u3002</p> <p></p> <p>osgGA::CameraManpualtor\u7ee7\u627f\u81eaosgGA::GUIEventHandler\uff0cGUIEventHandler\u662f\u7528\u6765\u5904\u7406\u4e8b\u4ef6\u7684\u7c7b\uff0c\u6240\u4ee5\u6f2b\u6e38\u5668\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u4ea4\u4e92\u64cd\u4f5c\u4fee\u6539\u573a\u666f\u4e2d\u8282\u70b9\u4f4d\u7f6e\u548c\u59ff\u6001\u7684\u7c7b\uff0c\u53ea\u4e0d\u8fc7\u5b83\u4fee\u6539\u7684\u662f\u6700\u9876\u5c42\u7684\u76f8\u673a\u8282\u70b9\u3002\u8bf4\u767d\u4e86\uff0c\u6f2b\u6e38\u5668\u4fee\u6539\u7684\u662fOpenGL\u4e2d\u7684view\u77e9\u9635\u3002</p> <p>View::init()\u5904\u7406\u5b8c _eventQueue \u4e4b\u540e\uff0c\u8981\u628aFRAME\u4e8b\u4ef6\u548cviewer\u5bf9\u8c61\u672c\u8eab\u4f20\u9012\u7ed9_cameraManipulator\u7684init\u51fd\u6570</p> <pre><code>if (_cameraManipulator.valid()){\n    _cameraManipulator-&gt;init(*initEvent, *this);\n}\n</code></pre>"},{"location":"OSG/ViewerBaseframe/#osgviewerviewerrealize","title":"osgViewer::Viewer::realize()","text":"<p>\u7531\u7b2c\u4e00\u5f20\u56fe\u53ef\u77e5\u8be5\u51fd\u6570\u53ea\u5728\u7b2c\u4e00\u5e27\u7684\u65f6\u5019\u6267\u884c\u3002\u5176\u529f\u80fd\u662f\u5b8c\u6210\u7a97\u53e3\u548c\u573a\u666f\u7684\u201c\u8bbe\u7f6e\u201d\u5de5\u4f5c\u3002realize\u9996\u5148\u5b8c\u6210\u7684\u5de5\u4f5c\u5c31\u662f\u83b7\u53d6\u56fe\u5f62\u4e0a\u4e0b\u6587osg::GraphicsContext\u3002Contexts\u662f\u4fdd\u5b58\u4e86\u6307\u9488osg::ref_ptr\\\u7684\u6570\u7ec4\u3002getContexts\u83b7\u53d6\u4e86\u4e3b\u76f8\u673a\u548c\u6240\u6709\u4ece\u76f8\u673a\u7684\u56fe\u5f62\u4e0a\u4e0b\u6587\uff0c\u6392\u5e8f\u4e4b\u540eset\u5230contexts\u91cc\u3002 <pre><code>void Viewer::realize()\n{\n    //OSG_INFO&lt;&lt;\"Viewer::realize()\"&lt;&lt;std::endl;\n\n    Contexts contexts;\n    getContexts(contexts);\n\n    //\u5982\u679cgetContexts\u6ca1\u83b7\u5f97\u4efb\u4f55\u56fe\u5f62\u4e0a\u4e0b\u6587\uff0c\u90a3\u4e48\u5c31\u521b\u5efa\u7f3a\u7701GraphicsContext\n    if (contexts.empty())\n    {\n        OSG_INFO&lt;&lt;\"Viewer::realize() - No valid contexts found, setting up view across all screens.\"&lt;&lt;std::endl;\n\n        // no windows are already set up so set up a default view\n\n        std::string value;\n        if (osg::getEnvVar(\"OSG_CONFIG_FILE\", value)) //1.\u4ece\u73af\u5883\u53d8\u91cfOSG_CONFIG_FILE\u8bfb\u53d6\u6587\u4ef6\u8def\u5f84\n        {\n            //1.\u8c03\u7528 osgDB::readObjectFile \u51fd\u6570\u8bfb\u53d6\u6587\u4ef6\uff0c\u7528\u63d2\u4ef6\u89e3\u6790\n            //2.\u82e5\u6210\u529f\uff0c\u8c03\u7528take\u51fd\u6570\u8bbe\u7f6e\u5f53\u524d\u7684viewer\n            readConfiguration(value);\n        }\n        else\n        {\n            int screenNum = -1;\n            osg::getEnvVar(\"OSG_SCREEN\", screenNum);\n\n            int x = -1, y = -1, width = -1, height = -1;\n            osg::getEnvVar(\"OSG_WINDOW\", x, y, width, height);\n\n            if (osg::getEnvVar(\"OSG_BORDERLESS_WINDOW\", x, y, width, height))//2.\u4ece\u73af\u5883\u53d8\u91cfOSG_BORDERLESS_WINDOW\u8bfb\u53d6\n            {\n                osg::ref_ptr&lt;osgViewer::SingleWindow&gt; sw = new osgViewer::SingleWindow(x, y, width, height, screenNum);\n                sw-&gt;setWindowDecoration(false);\n                apply(sw.get());\n            }\n            else if (width&gt;0 &amp;&amp; height&gt;0)//3.\u4eceOSG_WINDOW\u8bfb\u53d6\n            {\n                //\u5982\u679c\u8bbe\u7f6e\u4e86OSG_WINDOW\u7684\u540c\u65f6\u4e5f\u8bbe\u7f6e\u4e86OSG_SCREEN\uff0c\u8c03\u7528setUpViewInWindow\u51fd\u6570\n                if (screenNum&gt;=0) setUpViewInWindow(x, y, width, height, screenNum);\n                else setUpViewInWindow(x,y,width,height); //\u6ca1\u8bbe\u7f6eOSG_SCREEN\uff0c\u5219\u8c03\u7528setUpViewInWindow\u51fd\u6570\n            }\n            else if (screenNum&gt;=0) //4.\u4eceOSG_SCREEN\u8bfb\u53d6\uff0c\u8c03\u7528setUpViewOnSingleScreen\u51fd\u6570\n            {\n                setUpViewOnSingleScreen(screenNum);\n            }\n            else  //5.\u4e0a\u8ff0\u73af\u5883\u53d8\u91cf\u90fd\u6ca1\u8bbe\u7f6e\n            {\n                setUpViewAcrossAllScreens();\n            }\n        }\n        getContexts(contexts);\n    }\n\n    //\u5982\u679c\u521b\u5efa\u7f3a\u7701GraphicsContext\u5931\u8d25\uff0c\u9000\u51fa\u7a0b\u5e8f\n    if (contexts.empty())\n    {\n        OSG_NOTICE&lt;&lt;\"Viewer::realize() - failed to set up any windows\"&lt;&lt;std::endl;\n        _done = true;\n        return;\n    }\n    ......\n}\n</code></pre> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662fsetUpViewInWindow()\u51fd\u6570\uff0c\u7b2c\u4e00\u6b65\u662f\u65b0\u5efa\u4e00\u4e2a\u663e\u793a\u8bbe\u5907\u7279\u6027\u5b9e\u4f8b</p> <pre><code>osg::ref_ptr&lt;osg::GraphicsContext::Traits&gt; traits = new osg::GraphicsContext::Traits;\n</code></pre> <p>\u4e2atraits\u91cc\u9762\u7684\u6210\u5458\u53d8\u91cf\u8bbe\u7f6e\u60f3\u8981\u7684\u503c\u3002</p> <p>2.\u521b\u5efaGraphicsContext\uff0c\u628atraits\u4f5c\u4e3a\u53c2\u6570\u4f20\u8fdb\u53bb\u3002\u628a\u8fd9\u4e2a\u65b0\u5efa\u7684GraphicsContext\u4f20\u7ed9camera</p> <pre><code>osg::ref_ptr&lt;osg::GraphicsContext&gt; gc = osg::GraphicsContext::createGraphicsContext(traits.get());\n_camera-&gt;setGraphicsContext(gc.get());\n</code></pre> <p>\u6ce8\u610f\u4e0d\u8981\u7528new\u6765\u521b\u5efaosg::GraphicsContext\uff0c\u56e0\u4e3acreateGraphicsContext\u51fd\u6570\u8fd8\u505a\u4e86\uff1a1.\u83b7\u53d6\u7a97\u53e3\u7cfb\u7edfapi\u63a5\u53e32.\u82e5\u7528\u6237\u6ca1\u8bbe\u7f6e\u5c4f\u5e55\u6570\uff0c\u7f3a\u7701\u4e3a0\uff1b3.\u8fd4\u56de\u5b9e\u4f8b</p> <p>3.\u8c03\u7528 osgGA::GUIEventAdapter::setWindowRectangle \u8bb0\u5f55\u65b0\u5efa\u7acb\u7684\u7a97\u53e3\u8bbe\u5907\u7684\u5927\u5c0f\uff0c\u56e0\u800c\u8fd9\u4e2a\u8bbe\u5907\u4e0a\u4ea7\u751f\u7684\u952e\u76d8\u548c\u9f20\u6807\u4e8b\u4ef6\u53ef\u4ee5\u4ee5\u6b64\u4e3a\u4f9d\u636e\u3002</p> <p>4.\u8bbe\u7f6e\u4e3b\u6444\u50cf\u673a_camera \u7684\u900f\u89c6\u6295\u5f71\u53c2\u6570\uff0c\u5e76\u8bbe\u7f6e\u65b0\u7684 Viewport \u89c6\u53e3\u3002</p> <p>5.\u6267\u884c osg::Camera::setDrawBuffer \u548c\u6267\u884c osg::Camera:: setReadBuffer \u51fd\u6570\u3002</p> <p></p> <pre><code>void Viewer::realize()\n{\n\n    ......\n\n    // get the display settings that will be active for this viewer\n    osg::DisplaySettings* ds = _displaySettings.valid() ? _displaySettings.get() : osg::DisplaySettings::instance().get();\n    osg::GraphicsContext::WindowingSystemInterface* wsi = osg::GraphicsContext::getWindowingSystemInterface();\n\n    // pass on the display settings to the WindowSystemInterface.\n    if (wsi &amp;&amp; wsi-&gt;getDisplaySettings()==0) wsi-&gt;setDisplaySettings(ds);\n\n    unsigned int maxTexturePoolSize = ds-&gt;getMaxTexturePoolSize();\n    unsigned int maxBufferObjectPoolSize = ds-&gt;getMaxBufferObjectPoolSize();\n\n    for(Contexts::iterator citr = contexts.begin();\n        citr != contexts.end();\n        ++citr)\n    {\n        osg::GraphicsContext* gc = *citr;\n\n        if (ds-&gt;getSyncSwapBuffers()) gc-&gt;setSwapCallback(new osg::SyncSwapBuffersCallback);\n\n        // set the pool sizes, 0 the default will result in no GL object pools.\n        gc-&gt;getState()-&gt;setMaxTexturePoolSize(maxTexturePoolSize);\n        gc-&gt;getState()-&gt;setMaxBufferObjectPoolSize(maxBufferObjectPoolSize);\n\n        gc-&gt;realize();\n\n        if (_realizeOperation.valid() &amp;&amp; gc-&gt;valid())\n        {\n            gc-&gt;makeCurrent();\n\n            (*_realizeOperation)(gc);\n\n            gc-&gt;releaseContext();\n        }\n    }\n</code></pre> <p>realize\u51fd\u6570\u7684\u5269\u4e0b\u90e8\u5206\u5148\u8df3\u8fc7\u5427\uff0c\u770b\u4e0d\u61c2\u4e86\u3002\u3002\u3002</p>"},{"location":"OSG/ViewerBaseframe/#_1","title":"\u771f\u6b63\u7684\u4e00\u5e27\u7ec4\u6210\u90e8\u5206","text":"<p>advance\uff0ceventTraversal\uff0cupdateTraversal \u548c renderingTraversals \u51fd\u6570</p> <p>advance\u4e3b\u8981\u662f\u7528\u6765\u8ba1\u7b97\u5e27\u7387\u7684\uff1b</p> <p>osg::ref_ptr\\\u91c7\u7528\u5f15\u7528\u8ba1\u6570\u3002osg\u7684\u667a\u80fd\u6307\u9488\u4e0d\u80fd\u7528delete\u65b9\u6cd5\u6765\u5220\u9664\uff0c\u56e0\u4e3aOSG\u91c7\u7528\u591a\u7ebf\u7a0b\u66f4\u65b0/\u6e32\u67d3\u7684\u65b9\u5f0f\uff0c\u6240\u4ee5\u5b58\u5728\u201c\u4e0a\u6b21\u7684\u6e32\u67d3\u5de5\u4f5c\u4e0e\u4e0b\u6b21\u7684\u66f4\u65b0\u5de5\u4f5c\u4ea4\u53e0\u201d\u8fd9\u79cd\u60c5\u5f62\uff0c\u5982\u679c\u5728\u66f4\u65b0\u5de5\u4f5c\u4e2d\u5c31\u628a\u8282\u70b9\u5220\u9664\uff0c\u800c\u4e0a\u6b21\u7684\u8282\u70b9\u6e32\u67d3\u5de5\u4f5c\u6b63\u8981\u9001\u5230OpenGL\uff0c\u8fd9\u65f6\u5c31\u4f1a\u51fa\u9519\u3002\u89e3\u51b3\u529e\u6cd5\u662f\u5728\u6e32\u67d3\u540e\u53f0\u4e5f\u4f7f\u7528 ref_ptr\u6765\u5f15\u7528\uff08ref\uff09\u56fe\u5f62\u8282\u70b9\uff0c\u7136\u540e\u5728\u6e32\u67d3\u7ed3\u675f\u53d6\u6d88\u5f15\u7528\uff08unref\uff09\u3002\u4f46\u662f\u6bcf\u4e2a\u8282\u70b9\u7684\u6e32\u67d3\u90fd\u8981\u591a\u6267\u884c\u4e00\u6b21 ref/unref \u7684\u8bdd\uff0c\u6548\u7387\u4f1a\u4e0b\u964d\u5f88\u591a\uff0c\u56e0\u6b64\u65b0\u7248OSG\u63d0\u51fa\u4e86 DeleteHandler \u7684\u6982\u5ff5\uff0c\u4e5f\u5c31\u662f\u201c\u5783\u573e\u6536\u96c6\u201d\uff0c\u628a\u90a3\u4e9b\u5f15\u7528\u8ba1\u6570\u5df2\u7ecf\u4e3a\u96f6\u7684\u5bf9\u8c61\u7edf\u4e00\u6536\u96c6\u8d77\u6765\uff0c\u786e\u4fdd\u5b83\u4eec\u4e0d\u4f1a\u518d\u88ab\u6e32\u67d3\u7ebf\u7a0b\u7528\u5230\u4e4b\u540e\uff0c\u518d\u5728\u9002\u5f53\u7684\u5730\u65b9\u4e88\u4ee5\u91ca\u653e\u3002DeleteHandler \u6709\u4e00\u4e2a\u91cd\u8981\u7684\u53c2\u6570_numFramesToRetainObjects\uff0c\u5b83\u7684\u610f\u4e49\u662f\uff0c\u5783\u573e\u5bf9\u8c61\u88ab\u6536\u96c6\u4e4b\u540e\uff0c\u518d\u7ecf\u8fc7\u591a\u5c11\u5e27\uff08\u9ed8\u8ba4\u8bbe\u7f6e\u662f 2\uff09\uff0c\u65b9\u4e88\u4ee5\u91ca\u653e\u3002"},{"location":"OSG/ViewerBaseframe/#viewercamerascene","title":"viewer\u3001camera\u548cscene\u7684\u5173\u7cfb","text":"<p>eventTraversal\u7684\u4e3b\u8981\u4efb\u52a1\uff1a\u5b83\u5fc5\u987b\u5728\u6bcf\u4e00\u5e27\u7684\u4eff\u771f\u8fc7\u7a0b\u4e2d\uff0c\u53d6\u51fa\u5df2\u7ecf\u53d1\u751f\u7684\u6240\u6709\u4e8b\u4ef6\uff0c\u6452\u5f03\u90a3\u4e9b\u5bf9\u573a\u666f\u4e0d\u4f1a\u6709\u52a9\u76ca\u7684\uff08\u4f8b\u5982\uff0c\u5728\u89c6\u53e3\u4ee5\u5916\u53d1\u751f\u7684\u9f20\u6807\u79fb\u52a8\u4e8b\u4ef6\u548c\u80e1\u4e71\u70b9\u51fb\uff09\uff0c\u4f9d\u6b21\u4ea4\u4ed8\u7ed9\u5404\u4e2a\u4e8b\u4ef6\u5904\u7406\u5668\uff0c\u6700\u540e\u6e05\u7a7a\u73b0\u6709\u7684\u4e8b\u4ef6\u961f\u5217\uff0c\u7b49\u5f85\u4e0b\u4e00\u5e27\u7684\u5230\u6765\u3002\u4e8b\u4ef6\u904d\u5386\uff0c\u9664\u4e86\u53ef\u4ee5\u6267\u884c\u7528\u6237\u8bbe\u7f6e\u7684\u4e8b\u4ef6\u56de\u8c03\uff08EventCallback\uff09\u4e4b\u5916\uff0c\u66f4\u91cd\u8981\u7684\u5de5\u4f5c\u662f\u4e3a\u6240\u6709\u7684\u7528\u6237\u4ea4\u4e92\u548c\u7cfb\u7edf\u4e8b\u4ef6\u63d0\u4f9b\u4e00\u4e2a\u54cd\u5e94\u7684\u673a\u5236\u3002</p>"},{"location":"OpenGL/VAO%2CVBO%E5%92%8CEBO/","title":"VAO,VBO\u548cEBO","text":"<p>VBO\uff1avertex buffer object\u3002\u662f\u4e00\u4e2a\u7eaf\u6570\u636e\u7f13\u51b2\u533a\uff0c\u5b58\u653e\u9876\u70b9\u7684\u4fe1\u606f\u6570\u636e\uff0c\u6bd4\u5982\u9876\u70b9\u5750\u6807\uff0c\u9876\u70b9\u989c\u8272\u3002\u4e0d\u540c\u79cd\u7c7b\u7684\u4fe1\u606f\u53ef\u4ee5\u653e\u5728\u4e00\u4e2aVBO\u4e5f\u53ef\u4ee5\u5206\u5f00\u653e\u5728\u591a\u4e2aVBO\uff0c\u5168\u770bVAO\u600e\u4e48\u89e3\u6790\u3002</p> <p>VAO\uff1avertex array object\u3002VAO\u89c4\u5b9a\u4e86VBO\u4e2d\u6570\u636e\u7684\u683c\u5f0f\uff0c\u6bd4\u5982\u5f53\u524d\u9876\u70b9\u7684\u8d77\u59cb\u5730\u5740\u548c\u4e0b\u4e00\u4e2a\u9876\u70b9\u7684\u8d77\u59cb\u5730\u5740\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u6b64\u5916\uff0c\u6e32\u67d3\u7ba1\u7ebf\u5728 \u9876\u70b9\u83b7\u53d6\u9636\u6bb5 \u4f7f\u7528\u7684object\uff0cVAO\u8d1f\u8d23\u628a\u9876\u70b9\u4fe1\u606f\u8f93\u5165\u5230shader\u4e2d\u3002</p> <p>EBO\uff1a</p>"},{"location":"OpenGL/1_getStart/Camera/","title":"Camera","text":"<p>\u6539\u53d8camera\u7684\u4f4d\u7f6e\uff0c\u4f7f\u76f8\u673a\u79fb\u52a8\u8d77\u6765</p> <pre><code>auto view = glm::lookAt(glm::vec3(sin(glfwGetTime())*10.0f,0.f,cos(glfwGetTime())*10.0f),center,up);\nshader.setMat4(\"view\",view);\n</code></pre> <p>\u6539\u53d8x\uff0cz\u7684\u503c\uff0cx\uff0cz\u6ee1\u8db3\\(x^2+z^2=r^2\\)\u8fd9\u91cc\\(r=10\\)\uff0c\u8ba9\u76f8\u673a\u7ed5\u7740y\u8f74\u65cb\u8f6c\u3002\u4f46\u662f\u95ee\u9898\u6765\u4e86\uff0c\u5982\u679c\u8ba9\u76f8\u673a\u7ed5\u7740x\u8f74\u65cb\u8f6c\u6216\u8005z\u8f74\u65cb\u8f6c</p> <pre><code>auto view = glm::lookAt(glm::vec3(0.f,sin(glfwGetTime())*10.0f,cos(glfwGetTime())*10.0f),center,up);//\u7ed5x\u8f74\nshader.setMat4(\"view\",view);\n</code></pre> <p>\u4f1a\u51fa\u73b0\u95f4\u65ad\u7684 \u56fe\u50cf\u4e0d\u8fde\u7eed\u7684\u73b0\u8c61\uff0c\u6682\u65f6\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u539f\u56e0</p> <p>Camera\u672c\u8d28\u4e0a\u64cd\u4f5c\u7684\u662fview\u7a7a\u95f4\u3002\u8981\u5b9e\u73b0\u81ea\u7531\u79fb\u52a8\u548c\u89c6\u89d2\u79fb\u52a8\uff0c\u81ea\u7531\u79fb\u52a8\u6307\u7684\u662f\u6444\u50cf\u673a\u7684\u524d\u540e\u3001\u5de6\u53f3\u3001\u4e0a\u4e0b\u79fb\u52a8\uff1b\u89c6\u89d2\u79fb\u52a8\u6307\u7684\u662f\u76f8\u673a\u4f4d\u7f6e\u4e0d\u53d8\uff0c\u76f8\u673a\u770b\u5411\u7684\u65b9\u5411\u6539\u53d8\u3002\u89c6\u89d2\u79fb\u52a8\u6709\u4e09\u79cd\u65b9\u5f0f\uff1apitch\u3001yaw\u548croll\u3002</p> <p></p> <p>\u65e2\u7136\u64cd\u4f5c\u7684\u662fview\u7a7a\u95f4\uff0c\u90a3\u4e48\u7c7b\u4e2d\u5fc5\u987b\u8981\u5b58\u539f\u70b9\u4f4d\u7f6e(cameraPos)\u548c\u4e09\u6839\u5750\u6807\u8f74\u3002\u5b9a\u4e49\u8fd9\u4e2a\u7a7a\u95f4\u9700\u89813\u4e2a\u53c2\u6570\uff1acameraPos\uff0ccenter(\u76f8\u673a\u770b\u5411\u7684\u70b9)\uff0cup\u5411\u91cf\u3002</p> <p>\u6784\u5efa\u5750\u6807\u7cfb\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ol> <li>center-cameraPos\u5f97\u5230front\u5411\u91cf</li> <li>up\u5411\u91cf\u548cfront\u5411\u91cf\u53c9\u4e58\u5f97\u5230right\u5411\u91cf</li> <li>front \u548c right\u53c9\u4e58\u5f97\u5230up\u5411\u91cf\u3002\u9700\u8981\u6b64\u6b65\u8ba1\u7b97\u662f\u56e0\u4e3a\u4e00\u5f00\u59cb\u7684front\u548cup\u53ef\u80fd\u5e76\u4e0d\u5782\u76f4\uff01</li> </ol>"},{"location":"OpenGL/1_getStart/Camera/#_1","title":"\u81ea\u7531\u79fb\u52a8","text":"<p>\u81ea\u7531\u79fb\u52a8\u53ef\u4ee5\u7528\u76f8\u673a\u4f4d\u7f6e\u6cbf\u4e09\u6839\u5750\u6807\u8f74\u7684\u6b63/\u53cd\u5411\u79fb\u52a8\u4e00\u4e2aspeed\u6765\u5b9e\u73b0\u3002</p> <pre><code>//\u5411\u5de6\u79fb\u52a8\ncameraPos += cameraSpeed * (-right);\n//\u5411\u53f3\u79fb\u52a8\ncameraPos += cameraSpeed * right;\n//\u5176\u4f59\u540c\u7406\u3002\u3002\u3002\u3002\u3002\n</code></pre>"},{"location":"OpenGL/1_getStart/Camera/#_2","title":"\u89c6\u89d2\u79fb\u52a8","text":"<p>\u89c6\u89d2\u79fb\u52a8\u9700\u8981\u6539\u53d8front\u5411\u91cf\u548cup\u5411\u91cf\u3002\u4ece\u56fe\u4e2d\u53ef\u770b\u51fapitch\u76f8\u5f53\u4e8efront\u5728\u7ed5\u7740right\u5411\u91cf\u8f6c\uff1byaw\u76f8\u5f53\u4e8efront\u5728\u7ed5\u7740up\u5411\u91cf\u8f6c\uff1broll\u76f8\u5f53\u4e8eup\u5728\u7ed5\u7740front\u8f6c(roll\u5f88\u5c11\u4f7f\u7528)\uff0c\u4f46\u662f\u6211\u4eec\u73b0\u5728\u4e0d\u8003\u8651roll\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u6539\u53d8front\u5411\u91cf</p> <p>\u5982\u679c\u6211\u4eec\u6309\u7167\u65cb\u8f6c\u7684\u601d\u8def\uff0c\u8981\u8fd9\u4e48\u5199</p> <pre><code>    //\u6b64\u8ba1\u7b97\u65b9\u5f0f\u4e0d\u53ef\uff0c\u56e0\u4e3a\u6bcf\u79fb\u52a8\u4e00\u6b21\uff0c\u5c31\u8981\u7b97\u51fa\u79fb\u52a8\u7684\u89d2\u5ea6\uff0c\u8fd9\u8981\u7528\u5230\u53cd\u4e09\u89d2\u51fd\u6570\n    void pitch(float angle){\n        glm::mat4 pitch = glm::rotate(glm::mat4(1.f),glm::radians(angle),right);\n        front = glm::normalize(pitch*glm::vec4(front,0.f));\n        up = glm::normalize(glm::cross(right,front));\n\n        view = glm::lookAt(cameraPos,cameraPos-front,up);\n    }\n\n    void yaw(float angle){\n        glm::mat4 yaw = glm::rotate(glm::mat4(1.f),glm::radians(angle),up);\n        front = glm::normalize(yaw*glm::vec4(front,0.f));\n        right = glm::normalize(glm::cross(front,up));\n\n        view = glm::lookAt(cameraPos,cameraPos-front,up);\n    }\n</code></pre> <p>\u8fd9\u4e48\u5199\u663e\u7136\u662f\u4e0d\u5408\u9002\u7684\uff0c\u51b5\u4e14\u6839\u636e\u540e\u9762\u7684\u77e5\u8bc6\uff0c\u8ba9\u9f20\u6807\u79fb\u52a8\u7684\u65f6\u5019\u8981\u5b8c\u6210\u89c6\u89d2\u79fb\u52a8\uff0c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f\u5c4f\u5e55\u5750\u6807(xpos,ypos)\uff0c\u6839\u636e\u5c4f\u5e55\u5750\u6807\u5dee\u8ba1\u7b97angle\u597d\u50cf\u4e5f\u6709\u70b9\u56f0\u96be\u3002\u4e8e\u662f\u60f3\u5230\u7403\u5750\u6807\uff0c\u628a x \u65b9\u5411\u4e0a\u7684\u5c4f\u5e55\u5750\u6807\u5dee\u770b\u4f5c \\(\u0394\u03c6\\)\uff1by \u65b9\u5411\u4e0a\u7684\u5c4f\u5e55\u5750\u6807\u5dee\u770b\u4f5c\\(\u0394\u03b8\\)\u3002</p> <p></p> <p>\u518d\u628a\u7403\u5750\u6807\u8f6c\u6362\u5230\u76f4\u89d2\u5750\u6807\uff0c\u5c31\u80fd\u5f97\u5230\u66f4\u65b0\u540e\u7684front\u7684\u503c\u3002</p> <p>\u6211\u4eec\u9700\u8981\u7528\u4e24\u4e2a\u6210\u5458\u53d8\u91cfYaw\u548cPitch\u6765\u8bb0\u5f55\u5939\u89d2\u7684\u5927\u5c0f\u3002\u521d\u59cb\u76f8\u673a\u770b\u5411-z\u8f74\uff0cYaw\u521d\u59cb\u503c\u4e3a-90\u00b0\uff0c</p> <pre><code>    glm::vec3 front;\n    front.x = cos(glm::radians(Yaw)) * cos(glm::radians(Pitch));  //Yaw\u8bb0\u5f55x\u65b9\u5411\u4e0a\u7684\u4f4d\u79fb\uff0cpitch\u8bb0\u5f55y\u65b9\u5411\u4e0a\u7684\u4f4d\u79fb\n    front.y = sin(glm::radians(Pitch));\n    front.z = sin(glm::radians(Yaw)) * cos(glm::radians(Pitch));\n    Front = glm::normalize(front);\n</code></pre> <p>front\u66f4\u65b0\u4e4b\u540e\u518d\u66f4\u65b0right\u5411\u91cf\u548cup\u5411\u91cf</p> <pre><code>// also re-calculate the Right and Up vector\n        Right = glm::normalize(glm::cross(Front, WorldUp));  // normalize the vectors, because their length gets closer to 0 the more you look up or down which results in slower movement.\n        Up    = glm::normalize(glm::cross(Right, Front));\n</code></pre>"},{"location":"OpenGL/1_getStart/Camera/#_3","title":"\u89c6\u91ce\u7f29\u8fdb","text":"<p>\u6839\u636eCoordinateSystem\u90a3\u4e00\u8282\u53ef\u4ee5\u5f97\u77e5\uff0c\u51b3\u5b9a\u89c6\u91ce\u8303\u56f4\u7684\u53c2\u6570\u662ffovy\uff0c\u56e0\u6b64\u6539\u53d8\u89c6\u91ce\u8981\u4fee\u6539\u7684\u662fperspective()\u51fd\u6570\u7684\u53c2\u6570\u3002\u6eda\u8f6e\u7684\u56de\u8c03\u51fd\u6570\u662f\uff1a</p> <pre><code>void ScrollCallback(GLFWwindow* window, double xoffset, double yoffset){}\n</code></pre> <p>xoffset\u59cb\u7ec8\u4e3a0\uff1b\u6eda\u8f6e\u5f80\u4e0b\u6edayoffset=-1\uff1b\u5f80\u4e0a\u6eda\u4e3a1\u3002\u7528\u4e00\u4e2a\u6210\u5458\u53d8\u91cfzoom\u63a7\u5236fovy\uff0czoom\u521d\u59cb\u503c\u4e3a45(\u968f\u4fbf\u8bbe)\uff0c\u6bcf\u6b21\u8ba9zoom -= yoffset\uff0c\u8be5zoom\u4f5c\u4e3a\u65b0\u7684fovy\u7684\u503c\u3002\u4e3a\u9632\u6b62\u7ffb\u8f6c\uff0c\u7ed9zoom\u8bbe\u4e00\u4e2a\u8303\u56f4\u3002</p> <pre><code>zoom -= yOffset;\nzoom = max(1.0f,zoom);\nzoom = min(90.0f,zoom);\n</code></pre>"},{"location":"OpenGL/1_getStart/Camera/#camera_1","title":"Camera\u7c7b","text":"<pre><code>//\n// Created by ql on 2023/10/29.\n//\n\n#ifndef LEARNOPENGL_CAMERA_H\n#define LEARNOPENGL_CAMERA_H\n\n#include &lt;glm/glm.hpp&gt;\n#include &lt;glm/gtc/matrix_transform.hpp&gt;\n#include &lt;glm/gtc/type_ptr.hpp&gt;\n\nenum cameraMovement{\n    FORWARD,\n    BACKWARD,\n    LEFT,\n    RIGHT,\n    UP,\n    DOWN\n};\n\nconst float YAW = -90.0f;\nconst float PITCH = 0.0f;\nconst float SPEED  = 2.5f;\nconst float SENSITIVITY = 0.05f;\nconst float ZOOM = 45.0f;\n\nclass Camera{\npublic:\n    Camera(glm::vec3 _pos=glm::vec3(0.f,0.f,3.0f),\n           glm::vec3 _up=glm::vec3(0.f,1.f,0.f))\n           :cameraPos(_pos),worldUp(_up),\n           yaw(YAW),pitch(PITCH),\n           speed(SPEED),sensitivity(SENSITIVITY),zoom(ZOOM){\n\n        front = glm::vec3(0.f,0.f,-1.f);\n        updateCameraVectors();\n    }\n\n    void processKeyPress(cameraMovement direction,float deltaTime){\n//        speed *= deltaTime;                       //\u4e0d\u80fd\u8fd9\u6837\u5199\uff0cspeed\u6bcf\u6b21\u90fd\u4e580.013 \u4f1a\u8fc5\u901f\u53d8\u5c0f\u7684\uff01\n        float velocity = deltaTime*speed;\n        if(direction == RIGHT){\n            cameraPos += velocity*(right);\n        }\n        if(direction == LEFT){\n            cameraPos += velocity*(-right);\n        }\n        if(direction == FORWARD){\n            cameraPos += velocity*(front);\n        }\n        if(direction == BACKWARD){\n            cameraPos += velocity*(-front);\n        }\n        if(direction == UP){\n            cameraPos += velocity*(up);\n        }\n        if(direction == DOWN){\n            cameraPos += velocity*(-up);\n        }\n    }\n\n    //\u5728\u8fd9\u91cc\u9762\u7d2f\u52a0yaw\u548cpitch\u5c31\u597d\u4e86\uff0c\u66f4\u65b0 \u8f74 \u653e\u5230update\u4e2d\n    void processMouseMovement(float xoffset,float yoffset){\n        yaw += sensitivity*xoffset;\n        pitch += sensitivity*yoffset;\n        pitch = min(pitch,89.0f);\n        pitch = max(pitch,-89.0f);\n\n        updateCameraVectors();\n    }\n\n    float getZoom(){\n        return zoom;\n    }\n\n    void processMouseScroll(float yOffset){\n        zoom -= yOffset;\n        zoom = max(1.0f,zoom);\n        zoom = min(90.0f,zoom);\n    }\n\n    //\u7c7b\u5185\u90e8\u53ea\u8981\u7ef4\u62a4view\u7a7a\u95f4\u7684\u4e09\u4e2a\u8f74\u5c31\u597d\uff0c\u8981\u7528\u65f6\u5019\u624d\u7528lookAt\u751f\u6210\n    glm::mat4 getViewMatrix(){\n        return glm::lookAt(cameraPos,cameraPos+front,up);\n    }\n\n\nprivate:\n    //view\u5750\u6807\u7cfb\n    glm::vec3 cameraPos;\n    glm::vec3 front;\n    glm::vec3 up;\n    glm::vec3 right;\n    glm::vec3 worldUp;\n\n    //\u89c6\u89d2\u79fb\u52a8\n    float yaw;\n    float pitch;\n    float sensitivity;\n    //\u81ea\u7531\u79fb\u52a8\n    float speed;\n\n    //\u89c6\u91ce\u7f29\u653e\n    float zoom;\n\n    void updateCameraVectors(){\n        glm::vec3 tmpFront;\n        tmpFront.x = cos(glm::radians(yaw))*cos(glm::radians(yaw));\n        tmpFront.y = sin(glm::radians(pitch));\n        tmpFront.z = sin(glm::radians(yaw))*cos(glm::radians(pitch));\n        front = glm::normalize(tmpFront);\n\n        right = glm::normalize(glm::cross(front,worldUp));\n        up = glm::normalize(glm::cross(right,front));\n\n    }\n};\n\n#endif //LEARNOPENGL_CAMERA_H\n</code></pre> <p>\u6700\u540e\u4e00\u4e2a\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1a\u9f20\u6807\u7684\u521d\u59cb\u4f4d\u7f6e\u6211\u4eec\u8bbe\u7f6e\u4e3a\u5c4f\u5e55\u91cd\u5fc3(w/2\uff0ch/2)\uff1b\u9f20\u6807\u521a\u8fdb\u5165\u5c4f\u5e55\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u8ddf\u521d\u59cb\u503c\u76f8\u5dee\u5f88\u5927\uff0cyaw\u548cpitch\u53d1\u751f\u5267\u70c8\u53d8\u5316\u5bfc\u81f4\u753b\u9762\u65ad\u4e86\u4e00\u5e27\uff0c\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u529e\u6cd5\u5c31\u662f\u7528\u4e00\u4e2abool\u53d8\u91cf\uff0c\u5224\u65ad\u5f53\u524d\u662f\u4e0d\u662f\u7b2c\u4e00\u6b21\u8fdb\u5165\u5c4f\u5e55\u3002</p> <pre><code>    void mouse_callback(GLFWwindow* window,double xposIn,double yposIn){\n\n    float xpos = static_cast&lt;float&gt;(xposIn);\n    float ypos = static_cast&lt;float&gt;(yposIn);\n\n    //\u8981\u5224\u65ad\u4e00\u4e0b\n    if(firstMouse){\n        lastXpos=xpos;\n        lastYpos=ypos;\n        firstMouse=false;\n    }\n\n    float xOffset = xpos-lastXpos;\n    float yOffset = lastYpos-ypos;   //\u6ce8\u610f\uff01glfwSetCursorPosCallback\u8fd4\u56de\u7ed9mouse_callback\u51fd\u6570\u7684 (x,y) \u662f\u9f20\u6807\u76f8\u5bf9\u4e8e\u7a97\u53e3\u5de6\u3010\u4e0a\u3011\u89d2\u7684\u4f4d\u7f6e\uff0c\u6240\u4ee5\u9700\u8981\u5c06 (ypos - lastY) \u53d6\u53cd\n    lastXpos=xpos;\n    lastYpos=ypos;\n\n    camera.processMouseMovement(xOffset,yOffset);\n}\n</code></pre>"},{"location":"OpenGL/1_getStart/CoordinateSystem/","title":"CoordinateSystem","text":"<p>\u4efb\u52a1\uff1a</p> <ul> <li>\u751f\u6210\u5e76\u914d\u7f6emodel\uff0cview\uff0cprojection\u77e9\u9635</li> <li>\u5f00\u542f\u6df1\u5ea6\u6d4b\u8bd5</li> </ul>"},{"location":"OpenGL/1_getStart/CoordinateSystem/#modelviewprojection","title":"model\uff0cview\uff0cprojection\u77e9\u9635","text":""},{"location":"OpenGL/1_getStart/CoordinateSystem/#model","title":"\u751f\u6210model\u77e9\u9635\uff1a","text":"<ul> <li>\u8c03\u7528glm::rotate\u51fd\u6570\uff0cglm::translate\u51fd\u6570\u7b49\u3002\u60f3\u600e\u4e48model\u5c31\u600e\u4e48model</li> </ul> <pre><code>    glm::mat4 model,view,projection;\n    {\n        model=glm::mat4(1.0f);\n        model=glm::rotate(model,glm::radians(-55.0f),glm::vec3(1.f,0.f,0.f));//\u8fd9\u91cc\u8ba9\u7269\u4f53\u7ed5(1.f,0.f,0.f)\u65cb\u8f6c-55\u5ea6\n\n        view=glm::mat4(1.f);\n        glm::vec3 CameraPos=glm::vec3(0.f,-1.f,3.f);\n        view=glm::translate(view,-CameraPos);\n        view=glm::lookAt(CameraPos,glm::vec3(0.f,0.f,0.f),glm::vec3(0.f,1.0f,0.f));\n\n        projection=glm::perspective(glm::radians(45.0f),(float)SCR_WIDTH/SCR_HEIGHT,0.1f,100.0f);\n\n    }\n</code></pre> <ul> <li>\u53ef\u4ee5\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u7528(float)glfwGetTime()\u51fd\u6570\u6765\u83b7\u53d6\u65f6\u95f4\uff0c\u52a8\u6001\u7684\u4fee\u6539model\u77e9\u9635\uff0c\u79fb\u52a8\u573a\u666f\u4e2d\u7269\u4f53\u7684\u4f4d\u7f6e\u3002\u6ce8\u610f\uff1a\u6bcf\u6b21\u5faa\u73af\u8981\u628amodel\u91cd\u65b0\u7f6e\u4e3a\u5355\u4f4d\u9635\uff0c\u514d\u5f97\u65cb\u8f6c/\u79fb\u52a8\u7684\u901f\u5ea6\u8d8a\u6765\u8d8a\u5feb\u3002</li> </ul> <pre><code>while (!glfwWindowShouldClose(window)){\n        processInput();\n        glClear(GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT);\n\n        shader.use();\n        model=glm::mat4(1.f); //\u6ce8\u610f\uff01\n        model=glm::rotate(model,(float)glfwGetTime()*glm::radians(50.0f),glm::vec3(0.5f,1.f,0.f));\n        shader.setMat4(\"model\",model);\n\n        glBindVertexArray(VAO);\n        glDrawArrays(GL_TRIANGLES,0,36);\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n    }\n</code></pre>"},{"location":"OpenGL/1_getStart/CoordinateSystem/#view","title":"\u751f\u6210view\u77e9\u9635\uff1a","text":"<ul> <li> <p>\u5148\u5e73\u79fb\u518d\u65cb\u8f6c</p> </li> <li> <p>\u5e73\u79fb\u7684\u65f6\u5019\u4f7f\u7528glm::translate()\u51fd\u6570\uff0c\u53c2\u6570\u4e3a\u6444\u50cf\u673a\u7684\u4f4d\u7f6e\u3002\u56e0\u4e3a\u662f\u8981\u628a\u6444\u50cf\u673a\u79fb\u52a8\u5230\u539f\u70b9\uff0c\u6240\u4ee5\u8fd9\u91cc\u662f\u79fb\u52a8 -CameraPos\u3002</p> </li> <li> <p>\u65cb\u8f6c\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528lookAt()\u77e9\u9635\uff0c\u8bbe\u7f6e\u76f8\u673a\u4f4d\u7f6e\u3001\u76f8\u673a\u770b\u5411\u7684\u70b9\u7684\u4f4d\u7f6e\u4ee5\u53caup\u65b9\u5411\u4e4b\u540e\uff0c\u8be5\u77e9\u9635\u5c31\u80fd\u751f\u6210view\u5750\u6807\u7cfb\uff0c\u8fd4\u56de\u4e00\u4e2a\u89c6\u56fe\u53d8\u6362\u77e9\u9635\u3002</p> </li> </ul> <pre><code>    glm::mat4 model,view,projection;\n    {\n        model=glm::mat4(1.0f);\n        model=glm::rotate(model,glm::radians(-55.0f),glm::vec3(1.f,0.f,0.f));//\u8fd9\u91cc\u8ba9\u7269\u4f53\u7ed5(1.f,0.f,0.f)\u65cb\u8f6c-55\u5ea6\n\n        view=glm::mat4(1.f);\n        glm::vec3 CameraPos=glm::vec3(0.f,-1.f,3.f);\n        view=glm::translate(view,-CameraPos);\n        view=glm::lookAt(CameraPos,glm::vec3(0.f,0.f,0.f),glm::vec3(0.f,1.0f,0.f));\n\n        projection=glm::perspective(glm::radians(45.0f),(float)SCR_WIDTH/SCR_HEIGHT,0.1f,100.0f);\n\n    }\n</code></pre>"},{"location":"OpenGL/1_getStart/CoordinateSystem/#projection","title":"\u751f\u6210\u900f\u89c6\u6295\u5f71\u77e9\u9635projection\uff1a","text":"<p>\u8fd9\u91cc\u5206\u4e3a\u900f\u89c6\u6295\u5f71\u548c\u6b63\u4ea4\u6295\u5f71\u3002\u900f\u89c6\u6295\u5f71\u77e9\u9635\u4f7f\u7528glm::perspective()\u51fd\u6570\u3002\u53c2\u6570\uff1afovy\uff0cy\u65b9\u5411\u89c6\u9525\u4f53\u5f20\u5f00\u7684\u89d2\u5ea6\uff1baspect-ratio\uff1bznear\uff1bzfar</p> <p>\u6b63\u4ea4\u6295\u5f71\uff1a\u4f7f\u7528glm::ortho()\u51fd\u6570\uff0c\u53c2\u6570\u4e3aleft\uff0cright\uff0cbottom\uff0ctop\uff0cnear\uff0cfar6\u4e2afloat</p> <p>\u5bf9\u8fd9\u4e9bfovy\u4e0easpect-ratio\u8fdb\u884c\u5b9e\u9a8c\uff0c\u770b\u770b\u5b83\u4eec\u662f\u5982\u4f55\u5f71\u54cd\u900f\u89c6\u5e73\u622a\u5934\u4f53\u7684\u3002</p> <p>fovy\u4e0d\u4f1a\u5f71\u54cd\u7269\u4f53\u7684\u5f62\u72b6\uff0c\u5f53fovy\u5f88\u5c0f\u7684\u65f6\u5019\u6709\u70b9\u50cf\u671b\u8fdc\u955c\uff0c\u7269\u4f53\u79bb\u5f97\u5f88\u8fd1\uff0c\u7ec6\u8282\u663e\u793a\u5f97\u5f88\u6e05\u695a\u3002fovy\u5f88\u5927\u7684\u65f6\u5019\uff0c\u611f\u89c9\u5f97\u5230\u76f8\u673a\u79bb\u7269\u4f53\u5f88\u8fdc\uff0c\u7269\u4f53\u5f88\u5c0f</p> <p>aspect-ratio\u4f1a\u6539\u53d8\u7269\u4f53\u7684\u5f62\u72b6\uff0c\u5f53aspect-ratio\u53d8\u5927\uff0c\u7269\u4f53\u88ab\u5de6\u53f3\u538b\u7f29\uff1b\u5f53aspect-ratio\u53d8\u5c0f\uff0c\u7269\u4f53\u88ab\u4e0a\u4e0b\u538b\u7f29</p> <p>\u6ce8\u610f\uff1afovy\u4e00\u5b9a\u8981\u628a\u89d2\u5ea6\u8f6c\u4e3a\u5f27\u5ea6\uff01\uff01\uff01\u4e5f\u5c31\u662f\u8981\u7528glm::radians()\u51fd\u6570\u3002\u5982\u679c\u5fd8\u8bb0\u8f6c\u6362\u76f4\u63a5\u586b\u89d2\u5ea6\u7684\u8bdd\uff0c\u6eda\u8f6e\u5f80\u4e0b\u6eda1\u683c\uff0c\u573a\u666f\u5c31\u4f1a\u50cf\u4e0b\u9762\u8fd9\u6837\u5f88\u7578\u5f62</p> <p></p> <p>\u5f27\u5ea6\u5b9a\u4e49\uff1a \u4e24\u6761\u5c04\u7ebf\u4ece\u5706\u5fc3\u5411\u5706\u5468\u5c04\u51fa\uff0c\u5f62\u6210\u4e00\u4e2a\u5939\u89d2\u548c\u5939\u89d2\u6b63\u5bf9\u7684\u4e00\u6bb5\u5f27\u3002\u5f53\u8fd9\u6bb5\u5f27\u957f\u6b63\u597d\u7b49\u4e8e\u5706\u7684\u534a\u5f84\u65f6\uff0c\u4e24\u6761\u5c04\u7ebf\u7684\u5939\u89d2\u5927\u5c0f\u4e3a1\u5f27\u5ea6\u3002\u5f27\u5ea6 = \u5f27\u957f / \u534a\u5f84</p> <p>\u89d2\u5ea6\u8f6c\u5f27\u5ea6\uff1a\u89d2\u5ea6 * (\u03c0 / 180\uff09 = \u5f27\u5ea6</p> <p>\u5f27\u5ea6\u8f6c\u89d2\u5ea6\uff1a \u5f27\u5ea6 * (180 / \u03c0\uff09 = \u89d2\u5ea6</p>"},{"location":"OpenGL/1_getStart/CoordinateSystem/#_1","title":"\u6df1\u5ea6\u6d4b\u8bd5","text":"<p>OpenGL\u91cc\u7684\u6df1\u5ea6\u6d4b\u8bd5\u5c31\u5f88\u7b80\u5355\u4e86\u3002</p> <ul> <li>\u5f00\u542f\u6df1\u5ea6\u6d4b\u8bd5\u3002</li> <li>\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u6bcf\u6b21\u6e05\u7a7a\u6df1\u5ea6buffer\u3002</li> </ul> <pre><code>glEnable(GL_DEPTH_TEST);  \n\nwhile(1){   //\u6e32\u67d3\u5faa\u73af\n    glClear(GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT);\n}\n</code></pre>"},{"location":"OpenGL/1_getStart/Transformations/","title":"Transformations","text":"<p>\u53d8\u6362\uff1a\u6307\u7f29\u653e\uff0c\u4f4d\u79fb\uff0c\u65cb\u8f6c\uff0c\u5207\u53d8\uff0c\u4eff\u5c04\u53d8\u6362\u7b49\u7b49\u3002\u9700\u8981\u7528\u77e9\u9635\u548c\u5411\u91cf\u7684\u6982\u5ff5\u548c\u77e5\u8bc6\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8bb2\u77e9\u9635\u548c\u5411\u91cf\u4e86\u3002</p> <p>\u7b2c\u4e09\u65b9\u5e93\uff1aGLM\uff0c\u4e0b\u8f7d\u89e3\u538b\u4e4b\u540e\u628a\u4e0b\u56fe\u6587\u4ef6\u5939\u590d\u5236\u5230include\u6587\u4ef6\u5939\u4e0b\u5c31\u80fd\u4f7f\u7528\u4e86</p> <p></p> <p>\u5927\u591a\u6570\u529f\u80fd\u90fd\u5728\u4e0b\u9762\u8fd93\u4e2a\u5934\u6587\u4ef6\u4e2d\u627e\u5230</p> <pre><code>#include &lt;glm/glm.hpp&gt;\n#include &lt;glm/gtc/matrix_transform.hpp&gt;\n#include &lt;glm/gtc/type_ptr.hpp&gt;\n</code></pre>"},{"location":"OpenGL/1_getStart/Transformations/#_1","title":"\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u4fee\u6539\u9876\u70b9\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5176\u65cb\u8f6c\u79fb\u52a8","text":"<p>\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\uff0c\u6bcf\u4e2a\u9876\u70b9\u5750\u6807\u90fd\u9700\u8981\u4e58\u4e00\u4e2a\u53d8\u6362\u77e9\u9635\uff0c\u56e0\u6b64\u8981\u7528uniform\uff0c\u628a\u4e00\u4e2a4*4\u7684\u77e9\u9635\u4f20\u8fdb\u53bb</p> <pre><code>uniform mat4 trans;\n</code></pre> <p>shader\u7c7b\u4e2d\u8981\u6dfb\u52a0\u4f20\u53c2\u8fdb\u53bb\u7684\u51fd\u6570</p> <pre><code>    void setMat4(const char* name,glm::mat4 value){\n        int location = glGetUniformLocation(ID,name);\n        if(location==-1){\n            cout&lt;&lt;\"DO NOT FIND LOCATION\"&lt;&lt;endl;\n            return;\n        }\n        glUniformMatrix4fv(location,1,GL_FALSE,glm::value_ptr(value));\n    }\nvoid glUniformMatrix4fv(GLint location,GLsizei count,GLboolean transpose,const GLfloat *value);\n//count:\u8981\u4f20\u5165\u7684\u77e9\u9635\u7684\u6570\u91cf\uff0c\u5927\u4e8e1\u7684\u65f6\u5019\uff0cvalue\u8981\u4e3a\u77e9\u9635\u6570\u7ec4\u6307\u9488\n//transpose:\u662f\u5426\u8981\u5c06\u77e9\u9635\u8f6c\u7f6e\n</code></pre> <p>\u751f\u6210\u4e00\u4e2a\u53d8\u6362\u77e9\u9635</p> <pre><code>    //\u53d8\u6362\u77e9\u9635\n    glm::mat4 trans = glm::mat4(1.0f);   //\u4e00\u5b9a\u8981\u7ed9trans\u521d\u59cb\u5316\u4e3a\u5355\u4f4d\u9635\uff01\u4e0d\u7136\u9ed8\u8ba4\u662f0\u77e9\u9635\uff0c\u505a\u4efb\u4f55\u64cd\u4f5c\u90fd\u662f0\uff01\n    trans = glm::rotate(trans,glm::radians(90.0f),glm::vec3(0.0,0.0,1.0));\n    trans = glm::scale(trans,glm::vec3(0.5,0.5,0.5));\n    //\u4f20\u5165shader\n    shader.use();\n    shader.setMat4(\"transform\",trans);\n</code></pre> <p>\u5199\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\uff0c\u53ef\u4ee5\u52a0\u4e00\u4e9b\u968f\u65f6\u95f4\u53d8\u5316\u7684\u91cf\uff0c\u4f7f\u5f97\u7269\u4f53\u79fb\u52a8\u8d77\u6765</p>"},{"location":"OpenGL/1_getStart/VAO%2CVBO%E5%92%8CEBO/","title":"VAO,VBO\u548cEBO","text":"<p>VBO\uff1avertex buffer object\u3002\u662f\u4e00\u4e2a\u7eaf\u6570\u636e\u7f13\u51b2\u533a\uff0c\u5b58\u653e\u9876\u70b9\u7684\u4fe1\u606f\u6570\u636e\uff0c\u6bd4\u5982\u9876\u70b9\u5750\u6807\uff0c\u9876\u70b9\u989c\u8272\u3002\u4e0d\u540c\u79cd\u7c7b\u7684\u4fe1\u606f\u53ef\u4ee5\u653e\u5728\u4e00\u4e2aVBO\u4e5f\u53ef\u4ee5\u5206\u5f00\u653e\u5728\u591a\u4e2a\uff0c\u60f3\u600e\u4e48\u653e\u5c31\u600e\u4e48\u653e\u3002</p> <p>VBO\u7684\u7528\u6cd5\uff1a</p> <pre><code>    unsigned int VBO;\n    glGenBuffers(1,&amp;VBO);\n    glBindBuffer(GL_ARRAY_BUFFER,VBO);\n    glBufferData(GL_ARRAY_BUFFER,sizeof(vertices),vertices,GL_STATIC_DRAW);\n//\u6ce8\u610f\uff0c\u662fbind\u5230GL_ARRAY_BUFFER\u4e0a\n</code></pre> <p>glBufferData\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u6765\u628a\u7528\u6237\u5b9a\u4e49\u7684\u6570\u636e\u590d\u5236\u5230\u5f53\u524d\u7ed1\u5b9a\u7f13\u51b2\u7684\u51fd\u6570\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u76ee\u6807\u7f13\u51b2\u7684\u7c7b\u578b\uff1a\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61\u5f53\u524d\u7ed1\u5b9a\u5230GL_ARRAY_BUFFER\u76ee\u6807\u4e0a\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u4f20\u8f93\u6570\u636e\u7684\u5927\u5c0f(\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d)\uff1b\u7528\u4e00\u4e2a\u7b80\u5355\u7684<code>sizeof</code>\u8ba1\u7b97\u51fa\u9876\u70b9\u6570\u636e\u5927\u5c0f\u5c31\u884c\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u6211\u4eec\u5e0c\u671b\u53d1\u9001\u7684\u5b9e\u9645\u6570\u636e\u3002</p> <p>\u7b2c\u56db\u4e2a\u53c2\u6570\u6307\u5b9a\u4e86\u6211\u4eec\u5e0c\u671b\u663e\u5361\u5982\u4f55\u7ba1\u7406\u7ed9\u5b9a\u7684\u6570\u636e\u3002\u5b83\u6709\u4e09\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li> <p>GL_STATIC_DRAW \uff1a\u6570\u636e\u4e0d\u4f1a\u6216\u51e0\u4e4e\u4e0d\u4f1a\u6539\u53d8\u3002</p> </li> <li> <p>GL_DYNAMIC_DRAW\uff1a\u6570\u636e\u4f1a\u88ab\u6539\u53d8\u5f88\u591a\u3002</p> </li> <li> <p>GL_STREAM_DRAW \uff1a\u6570\u636e\u6bcf\u6b21\u7ed8\u5236\u65f6\u90fd\u4f1a\u6539\u53d8\u3002</p> </li> </ul> <p>\u6570\u636e\u586b\u5145\u8fdb\u53bb\u4e4b\u540e\u5c31\u8981\u89e3\u6790\u6570\u636e\u7684\u54ea\u4e00\u90e8\u5206\u5bf9\u5e94\u9876\u70b9\u7740\u8272\u5668\u7684\u54ea\u4e2a\u9876\u70b9\u5c5e\u6027\u4e86\uff0c\u8fd9\u91cc\u4f7f\u7528glVertexAttribPointer\u51fd\u6570</p> <pre><code>//glVertexAttribPointer\u51fd\u6570\u91cd\u4e2d\u4e4b\u91cd\uff01\uff01\uff01\nvoid glVertexAttribPointer(GLuint index,GLint size,GLenum type,GLboolean normalized,GLsizei stride,const void * pointer);\n//\u53c2\u65701\uff1a\u8981\u914d\u7f6e\u7684\u662f\u54ea\u4e2a\u9876\u70b9\u5c5e\u6027\uff0c\u5bf9\u5e94\u7740\u8272\u5668\u4e2d\u7684layout(location = X)\n//\u53c2\u65702\uff1a\u8be5\u9876\u70b9\u5c5e\u6027\u6709\u51e0\u4e2a\u5206\u91cf\n//3\uff1a\u6570\u636e\u7c7b\u578b\n//4\uff1a\u662f\u5426\u81ea\u52a8\u8fdb\u884c\u5355\u4f4d\u5316\n//5\uff1a\u76f8\u90bb\u4e24\u4e2a\u5c5e\u6027\u4e4b\u95f4\u7684\u6b65\u957f\n//6\uff1a\u504f\u79fb\u91cf\uff0c\u8868\u793a\u4f4d\u7f6e\u6570\u636e\u5728\u7f13\u51b2\u4e2d\u8d77\u59cb\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf(Offset)\n</code></pre> <p>\u89e3\u6790\u597d\u6570\u636e\u4e4b\u540e\uff0c\u8fd8\u8981\u663e\u5f0f\u7684\u542f\u7528\u5b83\u3002\u56e0\u4e3a\u9876\u70b9\u5c5e\u6027\u9ed8\u8ba4\u662f\u7981\u7528\u7684</p> <pre><code>glEnableVertexAttribArray(X);\n</code></pre> <p>VAO\uff1avertex array object\u3002why\uff1a\u5047\u8bbe\u73b0\u5728\u573a\u666f\u4e2d\u6709\u591a\u4e2a\u7269\u4f53\u8981\u7ed8\u5236\uff0c\u6709\u4e86vao\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6e32\u67d3\u5faa\u73af\u524d\u9762\u53ea\u8fdb\u884c\u4e00\u6b21\u6570\u636e\u89e3\u6790\u64cd\u4f5c\uff0c\u4ea4\u66ff\u7ed8\u5236\u53ea\u9700\u8981\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u4ea4\u66ff\u7ed1\u5b9avao\u5c31\u884c\u3002</p> <p>\u6211\u7406\u89e3\u7684\u662fVAO\u6253\u5305\u4e86\u7ed9VBO\u586b\u5165\u5e76\u89e3\u6790\u6570\u636e\uff0c\u7ed9EBO\u586b\u5165\u5e76\u89e3\u6790\u6570\u636e\u8fd9\u4e00\u7cfb\u5217\u7684\u52a8\u4f5c\u3002\u8981\u6362\u7269\u4f53\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u53ea\u9700\u6362\u7ed1\u5b9a\u7684vao\u5373\u53ef</p> <pre><code>    float vertices[]={\n            //position\n        -0.5f, -0.5f, 0.0f,\n        0.5f, -0.5f, 0.0f,\n        0.0f,  0.5f, 0.0f\n    };\n\n    float colors[]={\n            1.0f, 0.0f, 0.0f,\n            0.0f, 1.0f, 0.0f,\n            0.0f, 0.0f, 1.0f\n    };\n\n    float vertices2[]={\n        -0.5f, 0.5f, 0.0f,\n        0.5f, 0.5f, 0.0f,\n        0.0f,  -0.5f, 0.0f\n    };\n\n    //\u7b2c\u4e00\u4e2avao\u548c\u5b83\u7ed1\u5b9a\u7684vbo\n    unsigned int VAO,VBO;\n    glGenVertexArrays(1,&amp;VAO);\n    glBindVertexArray(VAO);\n    glGenBuffers(1,&amp;VBO);\n    glBindBuffer(GL_ARRAY_BUFFER,VBO);\n    glBufferData(GL_ARRAY_BUFFER,sizeof(vertices),vertices,GL_STATIC_DRAW);\n    glVertexAttribPointer(0,3,GL_FLOAT,GL_FALSE,3*sizeof(float),(void*)0);\n    glEnableVertexAttribArray(0);\n    unsigned int VBO1;\n    glGenBuffers(1,&amp;VBO1);\n    glBindBuffer(GL_ARRAY_BUFFER,VBO1);\n    glBufferData(GL_ARRAY_BUFFER,sizeof(colors),colors,GL_STATIC_DRAW);\n    glVertexAttribPointer(1,3,GL_FLOAT,GL_FALSE,3*sizeof(float),(void*)0);\n    glEnableVertexAttribArray(1);\n\n    //\u7b2c\u4e8c\u4e2avao\u548c\u5b83\u7ed1\u5b9a\u7684vbo\n    unsigned int vao,vbo;\n    glGenVertexArrays(1,&amp;vao);\n    glBindVertexArray(vao);\n    glGenBuffers(1,&amp;vbo);\n    glBindBuffer(GL_ARRAY_BUFFER,vbo);\n    glBufferData(GL_ARRAY_BUFFER,sizeof(vertices2),vertices2,GL_STATIC_DRAW);\n    glVertexAttribPointer(0,3,GL_FLOAT,GL_FALSE,3*sizeof(float),(void*)0);\n    glEnableVertexAttribArray(0);\n\n    Shader shader(\"1_getStart/hello.vert\",\"1_getStart/hello.frag\");\n\n    int i=0;\n    while (!glfwWindowShouldClose(window)){\n        processInput(window);\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        //\u89c6\u53e3\u4e2d\u4ea4\u66ff\u663e\u793aVAO\u548cvao\u4e2d\u7684\u6570\u636e\u7ed8\u5236\u51fa\u6765\u7684\u56fe\u50cf\n        if(i%2==0){\n            glBindVertexArray(VAO);\n        }else{\n            glBindVertexArray(vao);\n        }\n        ++i;\n\n        //vao\u7684\u7ed1\u5b9a\u5fc5\u987b\u5728\u7740\u8272\u5668\u7684use\u4e4b\u524d\n        shader.use();\n        glDrawArrays(GL_TRIANGLES,0,3);\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n    }\n</code></pre> <p>EBO\uff1aelement buffer object</p> <p>why\uff1a\u5f53\u573a\u666f\u4e2d\u6709\u5f88\u591a\u4e2a\u4e09\u89d2\u5f62\uff0c\u4e09\u89d2\u5f62\u4e4b\u95f4\u51fa\u73b0\u4e86\u9876\u70b9\u590d\u7528\u7684\u60c5\u51b5\u3002\u6839\u636e\u4e4b\u524d\u505a\u6cd5\uff0c\u6211\u4eec\u53ea\u80fd\u5728\u6570\u7ec4\u4e2d\u91cd\u590d\u5b58\u50a8\u8fd9\u4e9b\u9876\u70b9\u6765\u8868\u793a\u54ea\u4e09\u4e2a\u9876\u70b9\u7ec4\u6210\u4e86\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u663e\u7136\u8fd9\u662f\u975e\u5e38\u6d6a\u8d39\u663e\u5b58\u7684\u3002\u73b0\u5728\u6211\u4eec\u5e0c\u671b\uff0c\u53ea\u5b58\u50a8\u4e0d\u540c\u7684\u9876\u70b9\u5750\u6807\uff0c\u5e76\u8bbe\u5b9a\u7ed8\u5236\u8fd9\u4e9b\u9876\u70b9\u7684\u987a\u5e8f\u3002\u56e0\u6b64\u5f15\u51faEBO</p> <p>what\uff1a\u7531\u540d\u5b57\u53ef\u77e5\uff0cEBO\u4e5f\u662f\u4e00\u4e2a\u6570\u636e\u7f13\u51b2\u533a\uff0c\u5b83\u5b58\u50a8 OpenGL \u7528\u6765\u51b3\u5b9a\u8981\u7ed8\u5236\u54ea\u4e9b\u9876\u70b9\u7684\u7d22\u5f15\u3002FBO\u4e2d\u7684\u9876\u70b9\u7528\u4e0b\u6807\u6765\u7f16\u53f7\uff0cEBO\u4e2d\u5b58\u50a8\u4e86\u6bcf\u4e2a\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u7684\u7f16\u53f7\u3002</p> <p>how\uff1a\u548cVBO\u7c7b\u4f3c\uff0c\u5148\u7ed1\u5b9aEBO\u7136\u540e\u7528glBufferData\u628a\u7d22\u5f15\u590d\u5236\u5230\u7f13\u51b2\u91cc</p> <pre><code>    unsigned int EBO;\n    glGenBuffers(1,&amp;EBO);\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,EBO);    //\u6ce8\u610f\uff1a\u76ee\u6807\u662fGL_ELEMENT_ARRAY_BUFFER\n    glBufferData(GL_ELEMENT_ARRAY_BUFFER,sizeof(index),index,GL_STATIC_DRAW);\n</code></pre> <p>\u6ce8\u610f\uff1a\u5728\u6e32\u67d3\u5faa\u73af\u91cc\u7528glDrawElements\u51fd\u6570\uff0c\u800c\u4e0d\u662fglDrawArrays\u51fd\u6570</p> <pre><code>while (!glfwWindowShouldClose(window)){\n        processInput(window);\n        glClear(GL_COLOR_BUFFER_BIT);\n\n        glBindVertexArray(VAO);\n        shader.use();\n//        glDrawArrays(GL_TRIANGLES,0,6);\n        glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n    }\n</code></pre> <pre><code>void glDrawElements(GLenum mode,GLsizei count,GLenum type,const void * indices);\n//\u53c2\u65702\uff1a\u8981\u7ed8\u5236\u591a\u5c11\u4e2a\u70b9\uff1b3\uff1a\u6570\u636e\u662f\u4ec0\u4e48\u7c7b\u578b\uff0c\u53ea\u80fd\u662fGL_UNSIGNED_BYTE, GL_UNSIGNED_SHORT, or GL_UNSIGNED_INT.\u4e4b\u4e00\uff1b4\uff1a\u5148\u586b0\n</code></pre>"},{"location":"OpenGL/1_getStart/shader/","title":"Shader","text":"<p>\u7ed9\u7740\u8272\u5668\u4f20uniform\u53c2\u6570</p> <ul> <li>\u7528\u51fd\u6570glGetUniformLocation\uff0c\u6839\u636e\u53c2\u6570\u540d\u79f0\u83b7\u53d6\u4f4d\u7f6e\u503c</li> <li>\u7528glUniformXX\u51fd\u6570\uff0c\u6839\u636e\u83b7\u53d6\u5230\u7684location\u4f20\u5165\u6570\u636e</li> <li>\u66f4\u65b0\u4e00\u4e2auniform\u4e4b\u524d\u4f60\u5fc5\u987b\u5148\u4f7f\u7528\u7a0b\u5e8f\uff08\u8c03\u7528glUseProgram)</li> </ul> <pre><code>//\u4f8b\u5b50\n    void setUniform3f(const char* name,float x,float y,float z){\n        int location = glGetUniformLocation(ID,name);\n        if(location==-1){                       //\u6ca1\u627e\u5230location\n            cout&lt;&lt;\"DO NOT FIND LOCATION\"&lt;&lt;endl;\n            return;\n        }\n        glUseProgram(ID);\n        glUniform3f(location,x,y,z);\n    }\n</code></pre>"},{"location":"OpenGL/1_getStart/start/","title":"Start","text":""},{"location":"OpenGL/1_getStart/start/#_1","title":"\u7a97\u53e3","text":"<p>OpenGL\u7684\u521d\u59cb\u5316\u9700\u8981\u4e24\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff1aglfw\u548cglad</p> <p>glfw\u7528\u4e8e\u7a97\u53e3\u7684\u521b\u5efa\u3002  #include&lt;GLFW/glfw.h&gt;</p> <p>glad\u7528\u4e8e\u5728\u8fd0\u884c\u65f6\u786e\u5b9aOpenGL\u7684\u51fd\u6570\u5730\u5740\u3002\u56e0\u4e3aOpenGL\u53ea\u662f\u4e00\u4e2a\u6807\u51c6/\u89c4\u8303\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u662f\u7531\u9a71\u52a8\u5f00\u53d1\u5546\u9488\u5bf9\u7279\u5b9a\u663e\u5361\u5b9e\u73b0\u7684\u3002\u7531\u4e8eOpenGL\u9a71\u52a8\u7248\u672c\u4f17\u591a\uff0c\u5b83\u5927\u591a\u6570\u51fd\u6570\u7684\u4f4d\u7f6e\u90fd\u65e0\u6cd5\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u4e0b\u6765\uff0c\u9700\u8981\u5728\u8fd0\u884c\u65f6\u67e5\u8be2\u3002\u6240\u4ee5\u4efb\u52a1\u5c31\u843d\u5728\u4e86\u5f00\u53d1\u8005\u8eab\u4e0a\uff0c\u5f00\u53d1\u8005\u9700\u8981\u5728\u8fd0\u884c\u65f6\u83b7\u53d6\u51fd\u6570\u5730\u5740\u5e76\u5c06\u5176\u4fdd\u5b58\u5728\u4e00\u4e2a\u51fd\u6570\u6307\u9488\u4e2d\u4f9b\u4ee5\u540e\u4f7f\u7528\u3002glad\u4f7f\u7528\u4e86\u4e00\u4e2a\u5728\u7ebf\u670d\u52a1\uff0c\u6211\u4eec\u80fd\u591f\u544a\u8bc9GLAD\u9700\u8981\u5b9a\u4e49\u7684OpenGL\u7248\u672c\uff0c\u5e76\u4e14\u6839\u636e\u8fd9\u4e2a\u7248\u672c\u52a0\u8f7d\u6240\u6709\u76f8\u5173\u7684OpenGL\u51fd\u6570\u3002</p> <p>#include&lt;glad/glad.h&gt;</p> <p>\u6ce8\u610f\uff01\uff01\u5fc5\u987b\u8981\u5728include glfw\u4e4b\u524dinclude glad\uff0c\u56e0\u4e3aglad\u7684\u5934\u6587\u4ef6\u5305\u542b\u4e86\u6b63\u786e\u7684OpenGL\u5934\u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u5728\u5176\u5b83\u4f9d\u8d56\u4e8eOpenGL\u7684\u5934\u6587\u4ef6\u4e4b\u524d\u5305\u542bGLAD\u3002</p> <pre><code>    //\u5728\u8c03\u7528OpenGL\u51fd\u6570\u4e4b\u524d\u8981\u5148\u521d\u59cb\u5316glad\n    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress))\n    {\n        std::cout &lt;&lt; \"Failed to initialize GLAD\" &lt;&lt; std::endl;\n        return -1;\n    }\n</code></pre> <p>\u6539\u53d8\u7a97\u53e3\u5927\u5c0f\u65f6\uff0c\u89c6\u53e3\u4e5f\u5e94\u8be5\u88ab\u8c03\u6574\u3002\u5bf9\u7a97\u53e3\u6ce8\u518c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570</p> <pre><code>void framebuffer_size_callback(GLFWwindow* window,int w,int h){\n    glViewport(0,0,w,h);\n}\n</code></pre> <p>\u56de\u8c03\u51fd\u6570\u53ea\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u8981\u6ce8\u518c\u8fd9\u4e2a\u51fd\u6570\uff0c\u901a\u8fc7glfwSetFramebufferSizeCallback()\u3002</p> <p></p> <p>\u53ef\u4ee5\u770b\u51faframebuffer_size_callback\u88ab\u5b9a\u4e49\u4e3aGLFWframebuffersizefun \u7c7b\u578b\u7684\u53c2\u6570\u3002GLFWframebuffersizefun \u7684\u5b9a\u4e49\u5982\u4e0b\uff0c\u5176\u662f\u4e00\u4e2a\u51fd\u6570\u6307\u9488\uff0c\u51fd\u6570\u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0eframebuffer_size_callback\u5bf9\u5e94\uff0c\u56e0\u6b64\u5f53\u5c06framebuffer_size_callback\u4f5c\u4e3aGLFWframebuffersizefun\u7c7b\u578b\u4f20\u9012\u7ed9glfwSetFramebufferSizeCallback\u65f6\uff0c\u5c31\u5b9e\u73b0\u4e86glfwSetFramebufferSizeCallback\u5bf9\u4e8eframebuffer_size_callback\u51fd\u6570\u7684\u8c03\u7528\uff0c\u800c\u4e14\u540e\u671f\u9700\u8981\u6539\u53d8\u529f\u80fd\u53ea\u9700\u8981\u4f20\u5165\u5176\u4ed6\u53c2\u6570\u548c\u8fd4\u56de\u503c\u7c7b\u578b\u76f8\u540c\u7684\u51fd\u6570\u5373\u53ef\u3002</p> <pre><code>typedef void(* GLFWframebuffersizefun) (GLFWwindow *, int, int)\n</code></pre> <p>\u6dfb\u52a0\u4e00\u4e2a\u6e32\u67d3\u5faa\u73af\uff0c\u5e76\u80fd\u63a5\u53d7\u7528\u6237\u8f93\u5165</p> <pre><code>while (!glfwWindowShouldClose(window)){\n    //\u53cc\u7f13\u51b2\uff0c\u907f\u514d\u590d\u6742\u7ed8\u56fe\u64cd\u4f5c\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u660e\u663e\u7684\u95ea\u70c1\u3002\u7a0b\u5e8f\u5728\u540e\u53f0\u5c06\u56fe\u50cf\u5b8c\u6574\u7684\u7ed8\u5236\u5230\u540e\u7f13\u51b2\uff0c\u518d\u4ea4\u6362\u524d\u540e\u7f13\u51b2\u7684\u6307\u9488\n    glfwSwapBuffers(window);\n    glfwPollEvents();\n}\n</code></pre> <p>\u8f93\u5165\u63a7\u5236</p> <p>\u601d\u60f3\uff1a\u4f7f\u7528glfwGetKey\u51fd\u6570\uff0c\u53c2\u6570\u4e3awindow\u548c\u6309\u952e\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u503c=GLFW_PRESS\uff0c\u8bf4\u660e\u8fd9\u4e2a\u6309\u952e\u6b63\u5728\u88ab\u6309\u4e0b\uff0c\u653e\u5728\u6e32\u67d3\u5faa\u73af\u91cc\uff0c\u6bcf\u6b21\u5faa\u73af\u68c0\u67e5\u4e00\u904d\u5c31\u53ef\u4ee5\u3002\u4e3a\u4e86\u8868\u793a\u6574\u6d01\uff0c\u628a\u8fd9\u4e9b\u653e\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u5373\u53ef\u3002</p> <pre><code>void processInput(GLFWwindow* window){\n    if(glfwGetKey(window,GLFW_KEY_ESCAPE)==GLFW_PRESS){   //\u68c0\u67e5\u7528\u6237\u662f\u5426\u6309\u4e0bEsc\u952e\n        glfwSetWindowShouldClose(window,true);\n    }\n}\n</code></pre> <p>\u4f7f\u7528\u4e00\u4e2a\u989c\u8272\u6bcf\u6b21\u6e32\u67d3\u5b8c\u6e05\u7a7a\u5c4f\u5e55</p> <pre><code>    glClearColor(0.2f,0.3f, 0.3f, 1.0f);    //\u8bbe\u7f6e \u7528\u4ec0\u4e48\u989c\u8272\u53bb\u6e05\u7a7acolor buffer \u56e0\u4e3a\u53ea\u7528\u8bbe\u7f6e\u4e00\u6b21 \u53ef\u4ee5\u653e\u5728\u5faa\u73af\u5916\u9762\n    while (!glfwWindowShouldClose(window)){\n        processInput(window);\n        glClear(GL_COLOR_BUFFER_BIT);       //\u8fd9\u4e00\u6b65\u624d\u662f\u771f\u7684\u6e05\u7a7a\u4e86 \u6bcf\u6b21\u5faa\u73af\u7ed3\u675f\u90fd\u8981\u6e05\u7a7a\uff0c\u56e0\u6b64\u653e\u5728\u5faa\u73af\u91cc\u9762\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n    }\n</code></pre>"},{"location":"OpenGL/1_getStart/start/#_2","title":"\u7ed8\u5236\u4e00\u4e2a\u4e09\u89d2\u5f62","text":"<p>\u7ed8\u5236\u9700\u8981\u9876\u70b9\u4fe1\u606f\u548c\u7740\u8272\u5668\uff0c\u5148\u6765\u804a\u7740\u8272\u5668</p>"},{"location":"OpenGL/1_getStart/start/#_3","title":"\u7740\u8272\u5668","text":"<ul> <li> <p>\u7f16\u5199\u9876\u70b9\u7740\u8272\u5668\u548c\u7247\u6bb5\u7740\u8272\u5668</p> </li> <li> <p>\u7740\u8272\u5668\u5728.vert\u548c.frag\u6587\u4ef6\u4e2d\u7f16\u5199</p> </li> <li> <p>\u8981\u7528\u6587\u4ef6\u8bfb\u53d6\u8fdb\u6765\uff0c\u7528const char*\u6307\u5411</p> </li> <li> <p>\u7f16\u8bd1\u4e24\u4e2a\u7740\u8272\u5668</p> </li> <li> <p>\u94fe\u63a5\u4e24\u4e2a\u7740\u8272\u5668</p> </li> </ul> <p>\u6839\u636e\u4ee5\u4e0a\u4fe1\u606f\uff0c\u521b\u5efa\u4e00\u4e2ashader\u7c7b</p> <pre><code>class Shader\n{\npublic:\n    // \u7a0b\u5e8fID\n    unsigned int ID;\n\n    // \u6784\u9020\u51fd\u6570\u8bfb\u53d6\u5e76\u6784\u5efa\u7740\u8272\u5668\n    Shader(const char* vertexPath, const char* fragmentPath);\n    // \u4f7f\u7528/\u6fc0\u6d3b\u7a0b\u5e8f\n    void use();\n    // uniform\u5de5\u5177\u51fd\u6570\n    void setBool(const std::string &amp;name, bool value) const;  \n    void setInt(const std::string &amp;name, int value) const;   \n    void setFloat(const std::string &amp;name, float value) const;\n};\n</code></pre> <p>\u6784\u9020\u51fd\u6570\u7684\u4efb\u52a1\u662f\u8bfb\u53d6\u7740\u8272\u5668\u6587\u4ef6\u548c\u7f16\u8bd1\u94fe\u63a5</p> <p>\u8bfb\u53d6</p> <pre><code>//1.\u9700\u8981\u4e00\u4e2astring\u5b58\u653ecode\n//2.\u4eceifstream\u4e2d\u8bfb\u5230stringstream\uff0c\u518d\u4ecestringstream\u4e2d\u83b7\u53d6\nstring vertexCode;\nifstream vertexShaderFile;\n// \u4fdd\u8bc1ifstream\u5bf9\u8c61\u53ef\u4ee5\u629b\u51fa\u5f02\u5e38\uff1a\nvertexShaderFile.exceptions (std::ifstream::failbit | std::ifstream::badbit);\ntry{\n     vertexShaderFile.open(vertexPath);\n     stringstream vShaderStream;\n     vShaderStream&lt;&lt;vertexShaderFile.rdbuf();\n     vertexCode = vShaderStream.str();\n     vertexShaderFile.close();\n}catch (ifstream::failure e){\n    std::cout &lt;&lt; \"ERROR::SHADER::FILE_NOT_SUCCESFULLY_READ\" &lt;&lt; std::endl;\n}\nconst char* vShaderCode = vertexCode.c_str();\n//frag\u540c\u7406\n</code></pre> <p>//\u7f16\u8bd1\u94fe\u63a5</p> <pre><code>//\u7f16\u8bd1\nGLuint glCreateShader(GLenum shaderType);\n//\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u7740\u8272\u5668\u5bf9\u8c61\uff0c\u53c2\u6570shaderType\u6307\u5b9a\u8981\u521b\u5efa\u7684\u7740\u8272\u5668\u7c7b\u578b\uff0c\u53ea\u80fd\u662f GL_VERTEX_SHADER \u6216 GL_FRAGMENT_SHADER\uff0c\u8fd4\u56de\u4e00\u4e2ashaderId\nvoid glShaderSource(GLuint shader,GLsizei count,const GLchar **string,const GLint *length);\n//\u628a\u7740\u8272\u5668\u4ee3\u7801\u653e\u8fdb\u4e00\u4e2ashader\u5bf9\u8c61\u4e2d\u3002\u53c2\u65701\uff1a\u8981\u653e\u5165\u7684shaderId\uff1b\u53c2\u65702\uff1a\u4f20\u9012\u7684\u6e90\u7801\u5b57\u7b26\"\u4e32\"\u6570\u91cf\uff1b\u53c2\u65703\uff1a\u7740\u8272\u5668\u771f\u6b63\u7684\u6e90\u7801\uff1b\nvoid glCompileShader(GLuint shader);\n//\u7f16\u8bd1\u4e00\u4e2a\u7740\u8272\u5668\u5bf9\u8c61\nvoid glGetShaderiv(GLuint shader,GLenum pname,GLint *params);\n//\u68c0\u6d4b\u7740\u8272\u5668\u5bf9\u8c61\u7f16\u8bd1\u662f\u5426\u6210\u529f\u3002\n//\u53c2\u65702\uff1a\u4ec5\u63a5\u53d7GL_SHADER_TYPE, GL_DELETE_STATUS, GL_COMPILE_STATUS, GL_INFO_LOG_LENGTH,GL_SHADER_SOURCE_LENGTH.\n//\u53c2\u65703\uff1aparams\u662f\u51fd\u6570\u8fd4\u56de\u7684\uff0c\u8981\u7ed9\u5176\u4f20\u5165\u4e00\u4e2aint\u5f15\u7528\uff0c\u4e3a0\u4ee3\u8868\u7f16\u8bd1\u6210\u529f\uff0c\u5426\u5219\u7f16\u8bd1\u5931\u8d25\nvoid glGetShaderInfoLog(GLuint shader,GLsizei maxLength,GLsizei *length,GLchar *infoLog);\n//\u51fd\u6570\u7531infoLog\u8fd4\u56de\u7f16\u8bd1\u5931\u8d25\u65f6\u7684\u8f93\u51fa\u4fe1\u606f\uff0c\u7ed9infoLog\u4f20\u5165char\u6570\u7ec4\n\n//\u94fe\u63a5\nGLuint glCreateProgram(void);\n//\u521b\u5efa\u4e00\u4e2a\u7740\u8272\u5668\u7a0b\u5e8f\u5bf9\u8c61\uff0c\u8fd4\u56deprogramId\u3002\nvoid glAttachShader(GLuint program,GLuint shader);\n//\u628ashader\u5bf9\u8c61attach\u5230program\u5bf9\u8c61\u4e0a\nvoid glLinkProgram( GLuint program);\n//\u9876\u70b9\u548c\u7247\u6bb5\u8fde\u63a5\u8d77\u6765\n</code></pre> <pre><code>//\u7f16\u8bd1\nunsigned int vertex,fragment;\nint success;\nchar infoLog[512];\nvertex = glCreateShader(GL_VERTEX_SHADER);\nglShaderSource(vertex,1,&amp;vShaderCode, nullptr);\nglCompileShader(vertex);\nglGetShaderiv(vertex,GL_COMPILE_STATUS,&amp;success);\nif(!success){\n    glGetShaderInfoLog(vertex, 512, NULL, infoLog);\n    cout &lt;&lt; \"ERROR::SHADER::VERTEX::COMPILATION_FAILED\\n\" &lt;&lt; infoLog &lt;&lt; endl;\n}\n</code></pre> <pre><code>//\u94fe\u63a5\n        ID=glCreateProgram();\n        glAttachShader(ID,vertex);\n        glAttachShader(ID,fragment);\n        glLinkProgram(ID);\n        glGetProgramiv(ID,GL_LINK_STATUS,&amp;success);\n        if(success){\n            glGetProgramInfoLog(ID,512,NULL,infoLog);\n            cout &lt;&lt; \"ERROR::PROGRAM::LINK_FAILED\\n\" &lt;&lt; infoLog &lt;&lt; endl;\n        }\n\n//\u94fe\u63a5\u5b8c\u6bd5\u4e4b\u540e\u5c31\u53ef\u4ee5\u5220\u9664\u539f\u7740\u8272\u5668\u5bf9\u8c61\u4e86\n        glDeleteShader(vertex);\n        glDeleteShader(fragment);\n</code></pre>"},{"location":"OpenGL/1_getStart/start/#gldrawarrays-gldrawelements","title":"glDrawArrays \u548c glDrawElements","text":"<p>glDrawArrays\uff1a\u4ecedata\u6570\u7ec4\u4e2d\u6e32\u67d3\u56fe\u5143\u3002\u9002\u7528\u4e8e\u6ca1\u6709\u4f7f\u7528EBO\u7684\u60c5\u51b5</p> <pre><code>void glDrawArrays(GLenum mode,GLint first,GLsizei count);\n//mode:\u6307\u5b9a\u8981\u7ed8\u5236\u4ec0\u4e48\u56fe\u5143\uff0c\u53ef\u63a5\u53d7GL_POINTS, GL_LINE_STRIP, GL_LINE_LOOP, GL_LINES, GL_LINE_STRIP_ADJACENCY, GL_LINES_ADJACENCY,        GL_TRIANGLE_STRIP, GL_TRIANGLE_FAN, GL_TRIANGLES, GL_TRIANGLE_STRIP_ADJACENCY, GL_TRIANGLES_ADJACENCY\u548cGL_PATCHES \u8fd9\u51e0\u4e2a\u53c2\u6570\n//first\uff1a\u4ecearray\u4e2d\u7684first\u4e0b\u6807\u9876\u70b9\u5f00\u59cb\u7ed8\u5236\n//count\uff1a\u4e00\u5171\u8981\u7ed8\u5236count\u4e2a\u9876\u70b9\n</code></pre> <p>glDrawElements\uff1a\u4e5f\u662f\u4ecedata\u6570\u7ec4\u4e2d\u6e32\u67d3\u56fe\u5143\uff0c\u9002\u7528\u4e8e\u6709EBO\u7684\u60c5\u51b5</p> <pre><code>void glDrawElements(GLenum mode,GLsizei count,GLenum type,const void * indices);\n//mode:\u540cglDrawArrays\n//count:\u540cglDrawArrays\n//type:\u6307\u5b9aindices\u4e2d\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5fc5\u987b\u662fGL_UNSIGNED_BYTE, GL_UNSIGNED_SHORT, or GL_UNSIGNED_INT\n//indices:\u5148\u5199\u62100\n</code></pre> <p>\u53c2\u8003\uff1a</p> <p>https://blog.csdn.net/Treeman5433716/article/details/80609119</p>"},{"location":"OpenGL/1_getStart/texture/","title":"texture","text":""},{"location":"OpenGL/1_getStart/texture/#_1","title":"\u7eb9\u7406\u5750\u6807\u6620\u5c04","text":"<p>\u7eb9\u7406\u5750\u6807\u5728x\u548cy\u8f74\u4e0a\uff0c\u8303\u56f4\u4e3a0\u52301\u4e4b\u95f4,\u7eb9\u7406\u5750\u6807\u8d77\u59cb\u4e8e(0, 0)\uff0c\u4e5f\u5c31\u662f\u7eb9\u7406\u56fe\u7247\u7684\u5de6\u4e0b\u89d2\uff0c\u7ec8\u59cb\u4e8e(1, 1)\uff0c\u5373\u7eb9\u7406\u56fe\u7247\u7684\u53f3\u4e0a\u89d2\u3002\u73b0\u5728\u8981\u7ed9\u6bcf\u4e2a\u9876\u70b9\u8bbe\u7f6e\u4e00\u4e2a\u7eb9\u7406\u5750\u6807\u3002\u9876\u70b9\u548c\u7eb9\u7406\u5750\u6807\u7684\u5173\u7cfb\u5982\u4e0b\u56fe</p> <p></p> <p>\u628a\u7eb9\u7406\u5750\u6807\u52a0\u5165\u9876\u70b9\u6570\u7ec4\u4e2d\uff0c\u518d\u52a0\u4e00\u6761\u9876\u70b9\u5c5e\u6027\u6307\u9488\u51fd\u6570glVertexAttribPointer\u6765\u89e3\u6790\u65b0\u6570\u7ec4\u5373\u53ef\u3002</p> <pre><code>    float vertices[]={\n            // \u4f4d\u7f6e              // \u989c\u8272             //\u7eb9\u7406\n            0.5f, -0.5f, 0.0f,  1.0f, 0.0f, 0.0f,  1.0f,0.0f,  // \u53f3\u4e0b\n           -0.5f, -0.5f, 0.0f,  0.0f, 1.0f, 0.0f,  0.0f,0.0f,  // \u5de6\u4e0b\n            0.0f,  0.5f, 0.0f,  0.0f, 0.0f, 1.0f,  0.5f,1.0f   // \u9876\u90e8\n    };\n\n    unsigned int VAO,VBO;\n    glGenVertexArrays(1,&amp;VAO);\n    glBindVertexArray(VAO);\n    glGenBuffers(1,&amp;VBO);\n    glBindBuffer(GL_ARRAY_BUFFER,VBO);\n    glBufferData(GL_ARRAY_BUFFER,sizeof(vertices),vertices,GL_STATIC_DRAW);\n    glVertexAttribPointer(0,3,GL_FLOAT,GL_FALSE,8*sizeof(float),(void*)0);\n    glEnableVertexAttribArray(0);\n    glVertexAttribPointer(1,3,GL_FLOAT,GL_FALSE,8*sizeof(float),(void*)(3*sizeof(float)));\n    glEnableVertexAttribArray(1);\n    glVertexAttribPointer(2,2,GL_FLOAT,GL_FALSE,8*sizeof(float),(void*)(6*sizeof(float)));\n    glEnableVertexAttribArray(2);\n</code></pre> <p>\u7ed9\u6bcf\u4e2a\u70b9\u8bbe\u7f6e\u597d\u7eb9\u7406\u5750\u6807\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u52a0\u8f7d\u5e76\u8bbe\u7f6e\u7eb9\u7406\u56fe\u7247\u4e86</p>"},{"location":"OpenGL/1_getStart/texture/#_2","title":"\u52a0\u8f7d\u521b\u5efa\u7eb9\u7406","text":"<p>\u7eb9\u7406\u56fe\u50cf\u53ef\u80fd\u662fjpg , png\u7b49\u683c\u5f0f\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5de5\u5177\uff0c\u628a\u5404\u79cd\u5404\u6837\u7684\u56fe\u7247\u8bfb\u53d6\u5e76\u8f6c\u6362\u6210\u5b57\u8282\u5e8f\u5217\uff0c\u8fd9\u91cc\u4f7f\u7528stb_image.h\u5e93\u3002</p> <pre><code>//\u52a0\u8f7d\u7eb9\u7406\nint width,height,nchannels;\nunsigned char* data = stbi_load(\"../../resources/textures/container.jpg\",&amp;width,&amp;height,&amp;nchannels,0);\n//\u53c2\u65701\uff1a\u56fe\u50cf\u7684\u8def\u5f84\uff1b2\uff0c3\uff0c4\uff1astb_image.h\u5c06\u4f1a\u7528\u56fe\u50cf\u7684\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u548c\u989c\u8272\u901a\u9053\u7684\u4e2a\u6570\u586b\u5145\u8fd9\u4e09\u4e2a\u53d8\u91cf\uff1b5\uff1a\u5148\u586b0\n</code></pre> <p>\u521b\u5efa\u7eb9\u7406</p> <p>\u540cVBO\u7684\u521b\u5efa\u5f88\u7c7b\u4f3c\uff0c\u6ce8\u610f\u7ed1\u5b9a\u5230\u7684\u7eb9\u7406\u76ee\u6807\u662f\u4ec0\u4e48</p> <pre><code>    //\u521b\u5efa\u7eb9\u7406\n    unsigned int texture;\n    glGenTextures(1,&amp;texture);\n    glBindTexture(GL_TEXTURE_2D,texture);\n\n    glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_WRAP_S,GL_REPEAT);\n    glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_WRAP_T,GL_REPEAT);\n    glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR);\n    glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR);\n\n    if(data){  //\u6ce8\u610f\u8981\u5224\u65ad\u4e00\u4e0bdata\u662f\u5426\u6709\u6548\n        glTexImage2D(GL_TEXTURE_2D,0,GL_RGB,width,height,0,GL_RGB,GL_UNSIGNED_BYTE,data);\n        glGenerateMipmap(GL_TEXTURE_2D);\n    }else{\n        cout&lt;&lt;\"Failed to load texture\"&lt;&lt;endl;\n    }\n    stbi_image_free(data);//\u6ce8\u610fdata\u4f7f\u7528\u5b8c\u4e4b\u540e\u8981\u9500\u6bc1\n\nvoid glTexImage2D(GLenum target,GLint level,GLint internalformat,GLsizei width,GLsizei height,GLint border,GLenum format,\n                  GLenum type,const void * data);\n//target\uff1a\u7eb9\u7406\u76ee\u6807\uff0c\u4f1a\u751f\u6210\u4e0e\u5f53\u524d\u7ed1\u5b9a\u5728\u8be5\u7eb9\u7406\u76ee\u6807\u4e0a\u7684\u7eb9\u7406\u3002\n//level\uff1amipmap\u7684\u7b49\u7ea7\uff0c\u586b0\u8868\u793alevel 0\n//internalformat\uff1a\u6307\u5b9a\u4e86\u7eb9\u7406\u5728\u663e\u5b58\u4e2d\u7684\u683c\u5f0f\uff0c\u4e00\u822c\u586bGL_RGB\n//width,height\uff1a\u6307\u5b9a\u4e86\u7eb9\u7406\u7684\u5bbd\u9ad8\n//border\uff1a\u603b\u662f\u4e3a0(\u5386\u53f2\u9057\u7559\u95ee\u9898)\n//format,type\uff1a\u6e90\u56fe\u7684\u683c\u5f0f\u548c\u6570\u636e\u7c7b\u578b\n//data\uff1a\u6570\u636e\u6307\u9488\n\n//\u5c06param\u7684\u503c\u8d4b\u503c\u7ed9target\u4e2dpname\u540d\u5b57\u7684\u53d8\u91cf\nvoid glTexParameteri(GLenum target,GLenum pname,GLint param);\n\n//glGenerateMipmap\u4e3a\u7ed1\u5b9a\u5728\u76ee\u6807GL_TEXTURE_2D\u4e0a\u7684\u7eb9\u7406\u81ea\u52a8\u751f\u6210\u6240\u6709\u9700\u8981\u7684\u591a\u7ea7\u6e10\u8fdc\u7eb9\u7406\u3002\n</code></pre> <p>\u521b\u5efa\u597d\u7eb9\u7406\u4e4b\u540e\uff0c\u5982\u4f55\u5c06\u7eb9\u7406\u4e0eshader\u8054\u7cfb\u8d77\u6765\uff1f\u7528\u7eb9\u7406\u5355\u5143</p>"},{"location":"OpenGL/1_getStart/texture/#_3","title":"\u7eb9\u7406\u5355\u5143","text":"<p>\u4e00\u4e2a\u7eb9\u7406\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u7684location(\u4f4d\u7f6e\u503c)\u901a\u5e38\u88ab\u79f0\u4e3a\u7eb9\u7406\u5355\u5143\uff0c\u4e00\u4e2a\u7eb9\u7406\u7684\u9ed8\u8ba4\u7eb9\u7406\u5355\u5143\u662fGL_TEXTURE0\uff0c\u9ed8\u8ba4\u88ab\u6fc0\u6d3b\u3002\u4e25\u683c\u6765\u8bb2\uff0c\u5f53\u6211\u4eec\u4f7f\u7528glBindTexture\u51fd\u6570\u4e4b\u524d\uff0c\u8981\u5148\u6fc0\u6d3b\u4e00\u4e2a\u7eb9\u7406\u5355\u5143\uff0cglBindTexture\u4f1a\u7ed1\u5b9a\u8fd9\u4e2a\u7eb9\u7406\u5230\u6fc0\u6d3b\u7684\u7eb9\u7406\u5355\u5143\u4e2d\u3002\u4f46\u662fGL_TEXTURE0\u603b\u662f\u9ed8\u8ba4\u88ab\u6fc0\u6d3b\uff0c\u56e0\u6b64\u6211\u4eec\u4e4b\u524d\u7684\u64cd\u4f5c\u4e0d\u9700\u8981\u6fc0\u6d3b\u7eb9\u7406\u5355\u5143\u3002</p> <p>\u5728\u7247\u6bb5\u7740\u8272\u5668\u91cc\u6dfb\u52a0\u4e00\u4e2a\u91c7\u6837\u5668sampler\uff0c\u53ef\u4ee5\u4ee5\u7eb9\u7406\u7c7b\u578b\u4f5c\u4e3a\u540e\u7f00\uff0c\u6bd4\u5982sampler1D\u3001sampler2D\u3001sampler3D\u3002\u5e76\u5c06\u5176\u58f0\u660e\u4e3auniform\u53d8\u91cf</p> <pre><code>#version 330 core\nout vec4 FragColor;\nin vec3 vertexColor;\nin vec2 texCoord;\n\nuniform sampler2D ourTexture;\n\nvoid main(){\n    FragColor=texture(ourTexture,texCoord);\n}\n</code></pre> <p>\u518d\u7528\u5185\u5efa\u7684texture\u51fd\u6570\u5bf9\u5176\u91c7\u6837\u5c31\u884c\u3002</p>"},{"location":"OpenGL/1_getStart/texture/#_4","title":"\u591a\u76ee\u6807\u7eb9\u7406\u7684\u60c5\u51b5","text":"<p>\u628a\u7eb9\u7406\u7684\u521b\u5efa\u548c\u8bbe\u7f6e\u5206\u5f00\u5199\uff0c\u7ed3\u679c\u662f\u8fd9\u6837\u7684</p> <p></p> <p>\u8017\u4e86\u4e00\u4e0b\u5348\uff0c\u53d1\u73b0\u95ee\u9898\u662fstb_image.h\u5e93\u5bf9\u4e8ejpg\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u6e90\u6570\u636e\u683c\u5f0f\u548c\u76ee\u6807\u6570\u636e\u683c\u5f0f\u90fd\u8981\u7528GL_RGB\uff1a</p> <p></p> <p>\u5bf9\u4e8epng\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u6e90\u6570\u636e\u683c\u5f0f\u548c\u76ee\u6807\u6570\u636e\u683c\u5f0f\u8981\u7528GL_RGBA\uff1a</p> <p></p> <p>\u4e0b\u9762\u8bf4\u4e00\u4e0b\u600e\u4e48\u5229\u7528\u591a\u5f20(2\u5f20)\u7eb9\u7406\uff1a</p> <p>\u521b\u5efa\u9636\u6bb5\u548c\u4e0a\u9762\u76f8\u540c\uff0c\u6ce8\u610fdata\u3001width\u3001height\u548cnchannels\u53ef\u4ee5\u590d\u7528\uff0c\u6ca1\u5fc5\u8981\u58f0\u660e\u65b0\u53d8\u91cf\u3002</p> <p>shader\u5185\u58f0\u660e\u4e24\u4e2auniform sampler2D\u53d8\u91cf\uff0c\u53d6\u4e0d\u540c\u7684\u540d\u5b57</p> <p></p> <p>\u5728\u6e32\u67d3\u5faa\u73af\u4e4b\u524d\uff0c\u8fd8\u8981\u901a\u8fc7\u4f7f\u7528glUniform1i\u8bbe\u7f6e\u6bcf\u4e2a\u91c7\u6837\u5668\u7684\u65b9\u5f0f\u544a\u8bc9OpenGL\u6bcf\u4e2a\u7740\u8272\u5668\u91c7\u6837\u5668\u5c5e\u4e8e\u54ea\u4e2a\u7eb9\u7406\u5355\u5143\uff0c\u53ea\u9700\u8bbe\u7f6e\u4e00\u6b21\uff0c\u6ce8\u610f\u5728\u7ed9uniform\u4f20\u53c2\u7684\u65f6\u5019\uff0c\u8981\u4fdd\u8bc1shader\u5728\u542f\u52a8\u72b6\u6001\uff0c\u6240\u4ee5\uff1a <pre><code>    shader.use();\n    shader.setInt(\"ourTexture\",0);\n    shader.setInt(\"ourTexture2\",1);\n</code></pre></p> <p>\u6700\u540e\uff0c\u5728\u6e32\u67d3\u5faa\u73af\u91cc\u6fc0\u6d3b\u5e76\u7ed1\u5b9a\u4e24\u4e2atexture\u3002\u56e0\u4e3aGL_TEXTURE_2D\u4e00\u6b21\u53ea\u80fd\u7ed1\u5728\u4e00\u4e2atexture\u4e0a\u9762\uff0c\u7ed1\u5b9atexture1\u7684\u65f6\u5019\uff0ctexture\u81ea\u52a8\u89e3\u7ed1\uff0c\u6240\u4ee5\u8981\u628a\u5b83\u4eec\u653e\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u3002</p> <pre><code>    glActiveTexture(GL_TEXTURE0);\n    glBindTexture(GL_TEXTURE_2D,texture);\n    glActiveTexture(GL_TEXTURE1);\n    glBindTexture(GL_TEXTURE_2D,texture1);\n</code></pre>"},{"location":"OpenGL/2_light/colorAndBasicLight/","title":"color&amp;\u57fa\u7840\u5149\u7167","text":"<p>\u5b9a\u4e49\u7269\u4f53\u7684\u989c\u8272\u4e3a\u7269\u4f53\u4ece\u4e00\u4e2a\u5149\u6e90\u53cd\u5c04\u5404\u4e2a\u989c\u8272\u5206\u91cf\u7684\u5927\u5c0f\u3002</p> <pre><code>glm::vec3 result = lightColor * toyColor; \n</code></pre>"},{"location":"OpenGL/2_light/colorAndBasicLight/#-cube","title":"\u5c06\u5149\u6e90\u663e\u793a\u4e3a\u53ef\u89c1\u7684\u7269\u4f53-cube","text":"<p>\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u7acb\u65b9\u4f53\u7684\u6570\u636e\u4e86(\u5b58\u5728VBO\u4e2d)\uff0c\u4ee3\u8868\u5149\u6e90\u7684cube(\u4ee5\u4e0b\u7b80\u79f0light_cube)\u4e0d\u9700\u8981\u7eb9\u7406\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u989c\u8272\u503c\u6765\u4ee3\u8868\u5149\u6e90\u662f\u4ec0\u4e48\u989c\u8272\uff0c\u4e5f\u4e0d\u9700\u8981\u6709\u989d\u5916\u7684\u5149\u7167\u6548\u679c\uff0c\u518d\u628a\u5b83\u79fb\u52a8\u7f29\u653e\u5230\u5408\u9002\u7684\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002\u4e3a\u4e86\u65b9\u4fbf\u4e00\u70b9\u4e14\u80fd\u533a\u5206light_cube\u548c\u573a\u666f\u4e2d\u7684\u7269\u4f53\uff0c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2alightVAO\u548c\u4e00\u4e2ashader</p> <pre><code>unsigned int lightVAO;\n{\n    glGenVertexArrays(1,&amp;lightVAO);\n    glBindVertexArray(lightVAO);\n    glBindBuffer(GL_ARRAY_BUFFER,VBO);\n    glVertexAttribPointer(0,3,GL_FLOAT,GL_FALSE,5*sizeof(float),(void*)0);\n    glEnableVertexAttribArray(0);\n    glBindVertexArray(0);\n}\n</code></pre> <p>shader\u5f88\u7b80\u5355\u3002vertex\u4e2d\u505amvp\u53d8\u6362\uff1bfragment\u4e2d\u628a\u989c\u8272\u76f4\u63a5return\u51fa\u53bb\uff1b</p> <pre><code>//vertex shader\n#version 330 core\nlayout(location=0) in vec3 aPos;\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\nvoid main() {\n    gl_Position = projection*view*model*vec4(aPos,1.f);\n}\n\n//fragment shader\n#version 330 core\nuniform vec3 lightColor;\nvoid main() {\n    gl_FragColor=vec4(lightColor,1.f);\n}\n</code></pre>"},{"location":"OpenGL/2_light/colorAndBasicLight/#blinn-phone","title":"\u8ba1\u7b97\u5149\u7167\u6548\u679c\u2014\u2014blinn phone","text":"<p>ambient\u5206\u91cf\uff1a\u5e38\u6570*lightColor</p> <pre><code>float ambientStrength=0.1;\nvec3 ambient = ambientStrength*lightColor;\n</code></pre> <p>diffuse\u5206\u91cf\uff1amax(0,n\u00b7l)*lightColor\uff0c\u8ba1\u7b97\u90fd\u5728world\u5750\u6807\u7cfb</p> <pre><code>//\u9876\u70b9\u7740\u8272\u5668\u4e2d\nfragpos = (model*vec4(aPos,1.f)).xyz;\n//\u7247\u6bb5\u7740\u8272\u5668\u4e2d  (lightPos\u7531uniform\u4f20\u5165)\nvec3 lightDir = normalize(lightPos-fragpos);\nfloat diff = max(0.f,dot(lightDir,Normal));\nvec3 diffuse = diff*lightColor;\n</code></pre> <p>specular\u5206\u91cf\uff1a\u5e38\u6570 * pow(max(0,n\u00b7h),32) * lightColor</p> <pre><code>//viewPos\u7531uniform\u4f20\u5165\uff0c\u4e0d\u9700\u8981\u8fdb\u884cm\u53d8\u6362\uff0c\u56e0\u4e3aviewPos\u672c\u8eab\u5c31\u5728world\u5750\u6807\u7cfb\u4e2d\u4e86\nvec3 viewDir = normalize(viewPos-fragpos);\nvec3 h = normalize(viewDir+lightDir);\nfloat spec = pow(max(0.f,dot(h,Normal)),32);\nfloat specStrength = 0.5f;\nvec3 specular = specStrength*spec*lightColor;\n</code></pre> <p>\u6700\u540e\u52a0\u5728\u4e00\u8d77\u5c31\u884c\u4e86</p> <pre><code>vec3 result = (ambient+diffuse+specular)*objColor;\nfragColor=vec4(result,1.f);\n</code></pre>"},{"location":"OpenGL/2_light/colorAndBasicLight/#viewblinn-phone","title":"\u5728view\u7a7a\u95f4\u8fdb\u884cblinn phone\u8ba1\u7b97","text":"<p>\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u628a\u5149\u6e90\u4f4d\u7f6e\u8f6c\u6362\u5230view\u7a7a\u95f4</p> <pre><code>Lightpos = mat3(view)*lightPos;\n</code></pre> <pre><code>//\u7247\u6bb5\u7740\u8272\u5668\nvec3 viewDir = normalize(vec3(0.f,0.f,0.f)-fragpos);\n</code></pre> <p>viewDir\u7684\u8ba1\u7b97\u76f4\u63a5\u7528\u539f\u70b9-fragpos\uff0c\u56e0\u4e3a\u5728view\u7a7a\u95f4\u6444\u50cf\u673a\u5728\u539f\u70b9</p>"},{"location":"OpenGL/2_light/colorAndBasicLight/#light-caster","title":"\u6295\u5149\u7269\uff08light caster\uff09","text":""},{"location":"OpenGL/2_light/colorAndBasicLight/#_1","title":"\u70b9\u5149\u6e90","text":"<p>\u9876\u70b9\u7740\u8272\u5668\u4e2d</p> <pre><code>void main() {\n    gl_Position = projection*view*model*vec4(aPos,1.f);\n    Normal = vec3(transpose(inverse(model))*vec4(aNormal,1.f));\n    texCoord=aTexcoord;\n//    fragPos = mat3(model)*aPos;   //\u6ce8\u610f\uff0c\u4e0d\u8981\u8fd9\u4e48\u5199\uff01\n    fragPos = vec3(model * vec4(aPos, 1.0));\n}\n</code></pre> <p>mat3(model)\u628a model \u77e9\u9635\u7684\u7b2c4\u5217\u548c\u7b2c4\u884c\u53bb\u6389\u3002\u4f46\u662f\u6709\u5e73\u79fb\u64cd\u4f5c\u7684model\u77e9\u9635\uff0c\u4f4d\u79fb\u653e\u5728\u7b2c4\u5217\u4e2d\uff0c\u5f3a\u884c\u53bb\u6389\u663e\u7136\u662f\u4e0d\u5bf9\u7684\u3002</p> <p>\u6b63\u786e\u7684fragPos\u503c\uff1a</p> <p></p> <p>\u9519\u8bef\u7684fragPos\u503c</p> <p></p> <p>\u53e6\u5916\uff0c\u5149\u5728\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u4eae\u5ea6\u4f1a\u8870\u51cf\uff0c\u56e0\u6b64\u8981\u8ba1\u7b97\u4e00\u4e2a\u8870\u51cf\u503c\u3002\u8fd9\u91cc\u7528\\(a+bx+cx^2\\)\uff0c\u5176\u4e2da,b,c\u662f\u4f20\u8fdb\u53bb\u7684\u53c2\u6570\uff0cx\u662fshading point\u548c\u5149\u6e90\u7684\u8ddd\u79bb\u3002</p> <pre><code>    float dist = length(light.position-fragPos);    \n    float attanuation = 1.f/(light.constant+light.linear*dist+light.quadratic*dist*dist);\n    \u2026\u2026\n    ambient *= attanuation;\n    diffusion *= attanuation;\n    specular *= attanuation;\n</code></pre>"},{"location":"OpenGL/2_light/colorAndBasicLight/#_2","title":"\u805a\u5149","text":"<p>\u805a\u5149\u9700\u8981\u989d\u5916\u5b9a\u4e49\uff1a1.\u805a\u5149\u6240\u6307\u5411\u7684\u65b9\u5411(spotDir)\uff1b2.\u5207\u5149\u89d2(cutoff)\u3002\u5f53\u5149\u6e90\u6307\u5411shading point\u7684\u5411\u91cf\uff0c\u4e5f\u5c31\u662flightDir\uff0c\u548cspotDir\u4e4b\u95f4\u7684\u5939\u89d2\u5c0f\u4e8e\u5207\u5149\u89d2\u65f6\uff0c\u7269\u4f53\u53ef\u4ee5\u88ab\u7167\u4eae\uff1b\u5927\u4e8e\uff0c\u5c31\u4e0d\u80fd\u88ab\u7167\u4eae\u3002</p> <p>\u6709\u4e86\u5939\u89d2\u7684\u6982\u5ff5\uff0c\u663e\u7136\u8981\u5229\u7528\u5411\u91cf\u70b9\u4e58\u8ba1\u7b97\u5939\u89d2\u4e4b\u95f4\u7684cos\u503c\uff0c\u518d\u4e0ecutoff\u7684cos\u503c\u8fdb\u884c\u6bd4\u8f83\u3002\u6ce8\u610f\uff1a1.cos\u51fd\u6570\u57280~\\(\\pi\\) \u662f\u5355\u8c03\u9012\u51cf\u51fd\u6570\uff1b2.\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u4e09\u89d2\u51fd\u6570\u6bd4\u8f83\u6d6a\u8d39\uff0c\u6240\u4ee5\u5728\u4e3b\u7a0b\u5e8f\u4e2d\u8ba1\u7b97\u597dcos(cutoff)\uff0c\u518d\u4f20\u8fdb\u53bb\uff1b</p> <p>\u4e3a\u4e86\u8fbe\u5230\u805a\u5149\u968f\u89c6\u89d2\u79fb\u52a8\u7684\u6548\u679c\uff0cposition\u662fcamera\u7684position\uff1bdirection\u662fcamera\u7684front\u5411\u91cf\u3002</p> <pre><code>struct spotLight{\n    vec3 position;\n    vec3 diffuse;\n    vec3 specular;\n    vec3 ambient;\n\n    float constant;\n    float linear;\n    float quadratic;\n\n    float cutoff;      //cos(\u5207\u5149\u89d2)\n    vec3 direction;    \n};\n\n\nif(dot(lightDir,normalize(-light.direction)) &gt; light.cutoff){\n    float diff = max(0.f,dot(lightDir,n));\n    diffusion = diffuseColor*diff*light.diffuse;\n\n    vec3 h = normalize(viewDir+lightDir);\n    float spec = pow(max(0.f,dot(n,h)),material.shininess);\n    specular = texture(material.specularMap,texCoord).rgb*spec*light.specular;\n}else{\n    diffusion=vec3(0.0,0.0,0.0);\n    specular=vec3(0.0,0.0,0.0);\n}\n</code></pre> <p>\u6700\u540e\u6548\u679c\u662f\u8fd9\u6837\u7684\uff1a</p> <p></p>"},{"location":"OpenGL/2_light/colorAndBasicLight/#soft-spotlight","title":"soft spotlight","text":"<p>\u4e0a\u9762\u7684\u805a\u5149\u6548\u679c\u8fb9\u7f18\u8fc7\u4e8e\u9510\u5229\uff0c\u539f\u56e0\u662f\u7247\u6bb5\u7684\u4eae\u5ea6\u503c \u4e58\u4e0a\u4e86\u4e2a\u975e0\u53731\u7684\u6570\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6548\u679c\uff0c\u4f7f\u5f97\u7247\u6bb5\u7684\u4eae\u5ea6\u5728\u8fb9\u7f18\u5904\u9012\u51cf\u4e3a0\u3002\u65b9\u6cd5\u662f\u7528\u5185\u5916\u4e24\u4e2a\u5207\u5149\u89d2\uff0c\u5f53angle\u5728\u5185\u5207\u5149\u89d2\u4ee5\u5185\u65f6\uff0c\u4eae\u5ea61\uff1b\u5185\u5207\u5149\u89d2&lt;angle&lt;\u5916\u5207\u5149\u89d2\uff0c\u4eae\u5ea6 * \u4e00\u4e2a\u5c0f\u6570\uff1bangle&gt;\u5916\u5207\u5149\u89d2\uff0c\u4eae\u5ea60\uff1b\u56e0\u6b64\uff0c\u7528angle\u5728\u5185\u3001\u5916\u5207\u5149\u89d2\u4e4b\u95f4\u63d2\u503c\u5c31\u884c\uff0c\u5185\u5207\u5149\u89d2\u4e0a\u503c\u4e3a1\uff0c\u5916\u5207\u5149\u89d2\u503c\u4e3a0\uff0c\u7ebf\u6027\u63d2\u503c</p> <p></p> <pre><code>float theta = dot(lightDir,normalize(-light.direction));\nfloat epsilon = light.innerCutoff - light.outerCutoff;\nfloat intensity = clamp((theta-light.outerCutoff)/epsilon,0.0,1.0);\n</code></pre> <p>\uff08\u5176\u5b9e\u4efb\u4f55\u4e00\u79cd\u63d2\u503c\u65b9\u6cd5\u90fd\u53ef\u4ee5\uff0c\u770b\u4f60\u559c\u6b22\u54ea\u79cd\uff09</p>"},{"location":"OpenGL/3_loadModel/assimp/","title":"Assimp","text":""},{"location":"OpenGL/3_loadModel/assimp/#_1","title":"\u7f16\u8bd1","text":"<p>\u4e0b\u8f7d\u6e90\u7801\uff1aRelease The 5.3.1 Bugfix Release \u00b7 assimp/assimp (github.com)\u6b64\u94fe\u63a5\u4e3a5.3.1\u7248\uff0c\u89e3\u538b\u5230\u672c\u5730</p> <p></p> <p>\u4f7f\u7528\u547d\u4ee4cmake -B build -DCMAKE_BUILD_TYPE=Debug -G \"MinGW Makefiles\" </p> <p></p> <p>-B    \u6307\u5b9a\u6784\u5efa\u7684\u9879\u76ee\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u3002 -B build\u5c31\u662f\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u65b0\u5efa\u4e00\u4e2abuild\u6587\u4ef6\u5939\uff0c\u628a\u6784\u5efa\u7684\u9879\u76ee\u6587\u4ef6\u5168\u90e8\u653e\u91cc\u9762\u3002</p> <p>-G    Generator \u7684\u610f\u601d\uff0c\u8be5\u8bed\u53e5\u53ef\u4ee5\u8bbe\u7f6e IDE\uff0c\u73b0\u5728\u9009\u7684IDE\u5c31\u662f\"MinGW Makefiles\"</p> <p>-D    debug\u6a21\u5f0f\u8fd8\u662frelease\u6a21\u5f0f</p> <p>cmake \u652f\u6301\u7684 IDE \u5982\u4e0b\uff1a</p> <ul> <li> <p>Borland Makefiles: \u751f\u6210 Borland makefile\u3002</p> </li> <li> <p>MSYS Makefiles: \u751f\u6210 MSYS makefile\u3002   \u751f\u6210\u7684 makefile \u7528 use /bin/sh \u4f5c\u4e3a\u5b83\u7684 shell\u3002\u5728\u8fd0\u884c CMake \u7684\u673a\u5668\u4e0a\u9700\u8981\u5b89\u88c5msys\u3002</p> </li> <li> <p>MinGW Makefiles: \u751f\u6210\u4f9b mingw32-make \u4f7f\u7528\u7684 make file\u3002   \u751f\u6210\u7684 makefile \u4f7f\u7528 cmd.exe \u4f5c\u4e3a\u5b83\u7684 shell\u3002\u751f\u6210\u5b83\u4eec\u4e0d\u9700\u8981 msys \u6216\u8005 unix shell\u3002</p> </li> <li> <p>NMake Makefiles: \u751f\u6210 NMake makefile\u3002</p> </li> <li> <p>NMake Makefiles JOM: \u751f\u6210 JOM makefile\u3002</p> </li> <li> <p>Unix Makefiles: \u751f\u6210\u6807\u51c6\u7684 UNIX makefile\u3002   \u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u5206\u5c42\u7684 UNIX makefile\u3002\u4efb\u4f55\u6807\u51c6\u7684 UNIX \u98ce\u683c\u7684 make \u7a0b\u5e8f\u90fd\u53ef\u4ee5\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\u6784\u5efa\u5de5\u7a0b\u3002\u751f\u6210\u7684 makefile \u4e5f\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> <li> <p>Visual Studio 10: \u751f\u6210 Visual Studio 10 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 10 Win64: \u751f\u6210 Visual Studio 10 Win64 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 6: \u751f\u6210 Visual Studio 6 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 7: \u751f\u6210 Visual Studio .NET 2002 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 7 .NET 2003: \u751f\u6210 Visual Studio .NET 2003 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 8 2005: \u751f\u6210 Visual Studio .NET 2005 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 8 2005 Win64: \u751f\u6210 Visual Studio .NET 2005 Win64 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 9 2008: \u751f\u6210 Visual Studio 9 2008 \u5de5\u7a0b\u6587\u4ef6\u3002   Visual Studio 9 2008 Win64: \u751f\u6210 Visual Studio 9 2008 Win64 \u5de5\u7a0b\u6587\u4ef6\u3002   Watcom WMake: \u751f\u6210 Watcom WMake makefiles\u3002   CodeBlocks - MinGW Makefiles: \u751f\u6210 CodeBlock \u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4ee5\u53ca\u6bcf\u5c42\u5b50\u76ee\u5f55\u4e0b\u4e3a CodeBlocks \u751f\u6210\u5de5\u7a0b\u6587\u4ef6\uff0c\u751f\u6210\u7684 CMakeList.txt \u7684\u7279\u70b9\u662f\u90fd\u5305\u542b\u4e00\u4e2a PROJECT() \u8c03\u7528\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684 makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\uff0c\u6b63\u786e\u7684 make \u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile \u8fd8\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> <li> <p>CodeBlocks - NMake Makefiles: \u751f\u6210 CodeBlocks \u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4ee5\u53ca\u6bcf\u5c42\u5b50\u76ee\u5f55\u4e0b\u4e3a CodeBlocks \u751f\u6210\u5de5\u7a0b\u6587\u4ef6\uff0c\u751f\u6210\u7684 CMakeList.txt \u7684\u7279\u70b9\u662f\u90fd\u5305\u542b\u4e00\u4e2a PROJECT() \u8c03\u7528\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684 makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\uff0c\u6b63\u786e\u7684 make \u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile \u8fd8\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> <li> <p>CodeBlocks - Unix Makefiles: \u751f\u6210CodeBlocks\u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4ee5\u53ca\u6bcf\u5c42\u5b50\u76ee\u5f55\u4e0b\u4e3aCodeBlocks\u751f\u6210\u5de5\u7a0b\u6587\u4ef6\uff0c\u751f\u6210\u7684CMakeList.txt\u7684\u7279\u70b9\u662f\u90fd\u5305\u542b\u4e00\u4e2aPROJECT()\u8c03\u7528\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684make\u76ee\u6807\uff0c\u6b63\u786e\u7684make\u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile\u8fd8\u63d0\u4f9b\u4e86install\u76ee\u6807\u3002</p> </li> <li> <p>Eclipse CDT4 - MinGW Makefiles: \u751f\u6210 Eclipse CDT 4.0 \u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4e0b\u4e3a Eclipse \u751f\u6210\u5de5\u7a0b\u6587\u4ef6\u3002\u5728\u8fd0\u884c\u6e90\u7801\u5916\u6784\u5efa\u65f6\uff0c\u4e00\u4e2a\u8fde\u63a5\u5230\u9876\u5c42\u6e90\u7801\u8def\u5f84\u7684\u8d44\u6e90\u6587\u4ef6\u4f1a\u88ab\u521b\u5efa\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684 makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\uff0c\u6b63\u786e\u7684 make \u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile \u8fd8\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> <li> <p>Eclipse CDT4 - NMake Makefiles: \u751f\u6210 Eclipse CDT 4.0 \u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4e0b\u4e3a Eclipse \u751f\u6210\u5de5\u7a0b\u6587\u4ef6\u3002\u5728\u8fd0\u884c\u6e90\u7801\u5916\u6784\u5efa\u65f6\uff0c\u4e00\u4e2a\u8fde\u63a5\u5230\u9876\u5c42\u6e90\u7801\u8def\u5f84\u7684\u8d44\u6e90\u6587\u4ef6\u4f1a\u88ab\u521b\u5efa\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684 makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\uff0c\u6b63\u786e\u7684 make \u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile \u8fd8\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> <li> <p>Eclipse CDT4 - Unix Makefiles: \u751f\u6210 Eclipse CDT 4.0 \u5de5\u7a0b\u6587\u4ef6\u3002   \u5728\u9876\u5c42\u76ee\u5f55\u4e0b\u4e3a Eclipse \u751f\u6210\u5de5\u7a0b\u6587\u4ef6\u3002\u5728\u8fd0\u884c\u6e90\u7801\u5916\u6784\u5efa\u65f6\uff0c\u4e00\u4e2a\u8fde\u63a5\u5230\u9876\u5c42\u6e90\u7801\u8def\u5f84\u7684\u8d44\u6e90\u6587\u4ef6\u4f1a\u88ab\u521b\u5efa\u3002\u9664\u6b64\u4e4b\u5916\u8fd8\u4f1a\u5728\u6784\u5efa\u6811\u4e0a\u751f\u6210\u4e00\u5957\u5c42\u6b21\u6027\u7684 makefile\u3002\u901a\u8fc7\u9ed8\u8ba4\u7684 make \u76ee\u6807\uff0c\u6b63\u786e\u7684 make \u7a0b\u5e8f\u53ef\u4ee5\u6784\u5efa\u8fd9\u4e2a\u5de5\u7a0b\u3002makefile \u8fd8\u63d0\u4f9b\u4e86 install \u76ee\u6807\u3002</p> </li> </ul> <p>\u6784\u5efa\u5b8c\u4e4b\u540e\uff0c\u8981\u7f16\u8bd1\u9879\u76ee\u3002</p> <p>\u8fdb\u5165build\u6587\u4ef6\u5939\uff0c\u6267\u884c\u547d\u4ee4mingw32-make -j8\uff1b\u6216\u8005\u4e0d\u8fdb\u5165build\u6587\u4ef6\u5939\uff0c\u6267\u884c\u547d\u4ee4cmake --build build -j8\u3002</p> <p></p> <p>-j8\u7684\u610f\u601d\u662f\u4f7f\u75288\u4e2a\u7ebf\u7a0b\u6765\u7f16\u8bd1\uff0c\u6211\u81ea\u5df1\u7684\u7535\u8111\u6700\u591a\u67096\u4e2a\u7ebf\u7a0b\uff0c\u6240\u4ee5\u6211\u7528\u7684 -j6\u3002</p> <p>cmake --build build \u7684\u542b\u4e49\u662f\uff1a\u6267\u884cbuild\u6587\u4ef6\u5939\u4e0b\u7684\u6784\u5efa\u7cfb\u7edf\uff0c\u751f\u6210\u6784\u5efa\u76ee\u6807\u3002</p> <p>\u7f16\u8bd1\u8fc7\u7a0b\u4f1a\u62a5\u8fd9\u4e2a\u9519\u8bef\uff1a[-Werror=dangling-reference]</p> <p></p> <p>\u4e00\u79cd\u65b9\u6cd5\u662f\u628ag++\u7684\u7248\u672c\u6539\u4e3a12\uff1b\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u628aerror\u6539\u6210warming\uff0c\u4e0d\u8ba9\u5b83\u62a5\u9519\u5c31\u53ef\u4ee5\u4e86\uff01\u5728CMakelists.txt\u6587\u4ef6\u7684131\u884c\u6dfb\u52a0SET(ASSIMP_WARNINGS_AS_ERRORS FALSE)</p> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u987a\u5229\u7f16\u8bd1\u4e86\u3002\u7f16\u8bd1\u5b8c\u6210\u540e\u4f1a\u5728build/bin\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2alibassimp-5d.dll\u6587\u4ef6\uff0c\u590d\u5236\u5230\u81ea\u5df1\u7684lib\u6587\u4ef6\u5939\u4e0b\u3002\u6ce8\u610f\u8fd9\u662f\u52a8\u6001\u5e93\uff0ccmake\u53ea\u7ba1\u7f16\u8bd1\u4e0d\u7ba1\u8fd0\u884c\uff0c\u6240\u4ee5\u4e3a\u4e86\u8ba9\u7a0b\u5e8f\u80fd\u5728\u8fd0\u884c\u7684\u65f6\u5019\u52a8\u6001\u7684\u94fe\u63a5\u5230\u8fd9\u4e2a\u5e93\uff0c\u8fd8\u9700\u8981\u628alib\u6587\u4ef6\u5939\u7684\u8def\u5f84\u653e\u5230path\u73af\u5883\u53d8\u91cf\u4e2d\u3002</p> <p>\u6700\u540e\u5728\u9876\u5c42CMakelist.txt\u6587\u4ef6\u91cclink\u5230\u8fd9\u4e2a\u5e93</p> <pre><code>link_libraries(assimp-5d)\n</code></pre>"},{"location":"OpenGL/3_loadModel/assimp/#_2","title":"\u4f7f\u7528","text":"<p>\u8bfb\u53d6\u6570\u636e</p> <pre><code>Assimp::Importer importer;\nconst aiScene* scene = importer.ReadFile(path, aiProcess_Triangulate | aiProcess_GenSmoothNormals | aiProcess_FlipUVs | aiProcess_CalcTangentSpace);\n// check for errors\nif(!scene || scene-&gt;mFlags &amp; AI_SCENE_FLAGS_INCOMPLETE || !scene-&gt;mRootNode) // if is Not Zero\n{\n    cout &lt;&lt; \"ERROR::ASSIMP:: \" &lt;&lt; importer.GetErrorString() &lt;&lt; endl;\n    return -1;\n}\n</code></pre> <p>AssImp\u7684\u4e3b\u8981\u7684\u7c7b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <ul> <li> <p>aiScene \u4f5c\u4e3aAssImp\u52a0\u8f7d\u6a21\u578b\u7684\u6839\u6570\u636e\u7ed3\u6784\uff0c\u4fdd\u5b58\u4e86\u4ece\u6a21\u578b\u52a0\u8f7d\u7684\u9876\u70b9\u4f4d\u7f6e\u3001\u6cd5\u5411\u91cf\u3001\u7eb9\u7406\u3001\u5149\u7167\u7b49\u6570\u636e\uff0c\u4f8b\u5982\u5b83\u901a\u8fc7\u6570\u7ec4mMeshes\u4fdd\u5b58Mesh\u6570\u636e\uff0c\u901a\u8fc7mMaterials\u4fdd\u5b58\u6750\u8d28\u6570\u636e\u3002\u603b\u4e4baiScene\u4fdd\u5b58\u4e86\u52a0\u8f7d\u7684\u6a21\u578b\u6570\u636e\uff0c\u5176\u4f59\u7c7b\u901a\u8fc7\u7d22\u5f15aiScene\u4e2d\u5b58\u50a8\u7684\u5bf9\u8c61\u6765\u83b7\u53d6\u5bf9\u5e94\u7684\u6570\u636e\u3002</p> </li> <li> <p>aiNode \u6a21\u578b\u901a\u8fc7\u5c42\u6b21\u7ed3\u6784\u5b58\u50a8\uff0c\u6839\u8282\u70b9mRootNode\u4fdd\u5b58\u5728aiScene\u4e2d\uff0c\u6839\u8282\u70b9\u4e0b\u9762\u67090\u81f3\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u901a\u8fc7aiNode\u7c7b\u8868\u8fbe\uff0caiNode\u4e2d\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2aMesh\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684Mesh\u662f\u5bf9aiScene\u4e2dMesh\u6570\u636e\u7684\u4e00\u4e2a\u7d22\u5f15\u3002</p> </li> <li> <p>aiMesh\u662f\u4e0a\u4e00\u8282\u4e2d\u6240\u8bb2\u7684Mesh\u5bf9\u8c61\uff0cMesh\u4e2d\u5305\u542b\u9876\u70b9\u4f4d\u7f6e\u6570\u636e\u3001\u6cd5\u5411\u91cf\u3001\u7eb9\u7406\u6570\u636e\uff0c\u6bcf\u4e2aMesh\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2aFace\u3002</p> </li> <li> <p>aiFace\u662f\u4e00\u4e2a\u9762\uff0c\u4e00\u822c\u6765\u8bb2\u5728\u8bfb\u53d6\u6a21\u578b\u65f6\u901a\u8fc7\u540e\u5904\u7406\u9009\u9879(post-process flag)\u5c06\u6a21\u578b\u8f6c\u6362\u4e3a\u4e09\u89d2\u5f62\u7f51\u683c\uff0c\u90a3\u4e48\u8fd9\u91cc\u7684\u9762\u4e3b\u8981\u662f\u4e09\u89d2\u5f62\u9762\u3002\u540e\u5904\u7406\u9009\u9879\u7a0d\u540e\u4ecb\u7ecd\u3002\u901a\u8fc7\u4e09\u89d2\u5f62\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u6e32\u67d3\u6a21\u578b\u9700\u8981\u7684\u7d22\u5f15\u6570\u636e\u3002</p> </li> </ul> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/wangdingqiaoit/article/details/52014321</p>"},{"location":"OpenGL/4_advancedOpenGL/4_1_depthTest/","title":"\u6df1\u5ea6\u7f13\u51b2\u548c\u6df1\u5ea6\u6d4b\u8bd5","text":"<p>Depth buffer\u4e2d\uff0c\u4e00\u4e2a\u5355\u5143\u7684\u4f4d\u6570\u662f24\u4f4d(3B)</p>"},{"location":"OpenGL/4_advancedOpenGL/4_2_stencilTest/","title":"Stencil Test","text":"<p>why\uff1a\u6a21\u677f\u548c\u6a21\u677f\u6d4b\u8bd5 \u5c31\u662f\u7ed9\u5bf9\u5e94\u7684\u50cf\u7d20\u4e00\u4e2a\u6807\u8bb0\uff0c\u6839\u636e\u8fd9\u4e2a\u6807\u8bb0\uff0c\u6765\u51b3\u5b9a\u8fd9\u4e2a\u50cf\u7d20\u662f\u5426\u6e32\u67d3\u6216\u8005\u600e\u6837\u6e32\u67d3\u3002\u53ef\u4ee5\u7528\u6765</p> <ol> <li>\u53ef\u4ee5\u7528\u6765\u5bf9\u591a\u91cd\u9634\u5f71\u7ed8\u5236\u7684\u53bb\u91cd</li> <li>\u53ef\u4ee5\u7528\u6765\u51b3\u5b9a\u662f\u5426\u7ed8\u5236\u7279\u5b9a\u6a21\u578b\u3002\u5e38\u89c1\u7684\u9542\u7a7a\u6e32\u67d3</li> <li>\u7ed8\u5236\u7269\u4f53\u7684\u8f6e\u5ed3\u7b49\u7b49\u3002\u3002\u3002</li> </ol> <p>what\uff1a\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e4b\u540e\u6267\u884c\u3002\u6a21\u677f\u6d4b\u8bd5\u548c\u6df1\u5ea6\u6d4b\u8bd5\u4e00\u6837\uff0c\u6709\u4e00\u4e2astencil buffer\u3002buffer\u4e2d\u7684\u6bcf\u4e00\u4f4d\u90fd\u67098\u4e2a\u6bd4\u7279(1B)\uff0c\u8bf4\u660e\u7247\u6bb5\u7684\u6a21\u677f\u503c\u53ef\u4ee5\u4e3a0-255\u3002\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u5f53\u7247\u6bb5\u7684\u6a21\u677f\u503c \u7b49\u4e8e(\u6216\u4e0d\u7b49\u4e8e) \u7ed9\u5b9a\u503c\u7684\u65f6\u5019\uff0c\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u3002\u4e0d\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u7684\u7247\u6bb5\u4f1a\u88ab\u4e22\u5f03\u3002\u600e\u4e48\u624d\u80fd\u8bbe\u7f6e\u5f53\u524d\u6a21\u677f\u503c\u5462\uff1f\u6bcf\u4e00\u6b21\u6e32\u67d3\u5faa\u73af\u7684\u6211\u4eec\u90fd\u4f1a\u7528glClear(GL_STENCIL_BUFFER_BIT);\u6765\u628a\u6a21\u677f\u7f13\u5b58\u4e2d\u7684\u6a21\u677f\u503c\u5168\u90e8\u7f6e\u4e3a0\u3002\u6211\u4eec\u5148\u5728\u4e00\u4e2apass\u4e0a\uff0c\u7528glStencilFunc\u51fd\u6570\u6765\u7ed9\u60f3\u8981\u7684\u7247\u6bb5\u8bbe\u7f6e\u60f3\u8981\u7684\u6a21\u677f\u503c\u3002\u7b2c\u4e8c\u4e2apass\uff0c\u518d\u8fdb\u884c\u6a21\u677f\u6d4b\u8bd5\u3002\u5927\u81f4\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u542f\u7528\u6a21\u677f\u7f13\u51b2\u7684\u5199\u5165\u3002</li> <li>\u6e32\u67d3\u7269\u4f53\uff0c\u66f4\u65b0\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\u3002</li> <li>\u7981\u7528\u6a21\u677f\u7f13\u51b2\u7684\u5199\u5165\u3002</li> <li>\u6e32\u67d3\uff08\u5176\u5b83\uff09\u7269\u4f53\uff0c\u8fd9\u6b21\u6839\u636e\u6a21\u677f\u7f13\u51b2\u7684\u5185\u5bb9\u4e22\u5f03\u7279\u5b9a\u7684\u7247\u6bb5\u3002</li> </ul> <p>how\uff1a\u4ee5\u7ed8\u5236\u7269\u4f53\u8f6e\u5ed3\u4e3a\u4f8b\u3002\u6211\u4eec\u73b0\u5728\u8981\u7ed9\u4e0b\u56fe\u7684\u7bb1\u5b50\u7ed8\u5236\u8f6e\u5ed3\u3002</p> <p></p> <ol> <li>\u7981\u7528\u6a21\u677f\u5199\u5165\uff0c\u7ed8\u5236\u5730\u677f\u3002</li> <li>\u6e32\u67d3\u7bb1\u5b50\uff0c\u8ba9\u6a21\u677f\u6d4b\u8bd5\u603b\u662f\u901a\u8fc7\uff0c\u5e76\u4e14\u7ed9\u7bb1\u5b50\u8986\u76d6\u7684\u50cf\u7d20\u8bbe\u7f6e\u6a21\u677f\u503c\u4e3a1\u3002</li> <li>\u7981\u7528\u6df1\u5ea6\u6d4b\u8bd5</li> <li>\u518d\u6e32\u67d3\u4e00\u4e2a\u653e\u5927\u4e00\u70b9\u7684\u7bb1\u5b50\uff0c\u7bb1\u5b50\u989c\u8272\u662f\u7ed9\u5b9a\u7684\u8fb9\u6846\u989c\u8272\uff0c\u6a21\u677f\u503c\u4e3a1\u5219\u4e0d\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5(\u4e0d\u7ed8\u5236)\uff0c\u4e0d\u4e3a1\u5219\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\uff0c\u628a\u8be5\u7247\u6bb5\u7ed8\u5236\u51fa\u6765\u3002</li> </ol> <p></p> <p>\u5982\u56fe\uff0c\u7ed8\u5236\u5927\u4e00\u4e9b\u7684cube\u65f6\uff0c\u6a21\u677f\u503c\u4e3a1\u7684\u90e8\u5206\u5c31\u4e0d\u7ed8\u5236\u3002\u8fd9\u6837\u5c31\u80fd\u51fa\u73b0\u8fb9\u6846\u4e86</p> <p>\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>//\u5f00\u542f\u6df1\u5ea6\u6d4b\u8bd5\nglEnable(GL_STENCIL_TEST);\nglStencilFunc(GL_NOTEQUAL, 1, 0xFF);  //\u7247\u6bb5\u6a21\u677f\u503c\u548c0xFF AND \u4e4b\u540e(\u548c0xFFand\u7684\u7ed3\u679c\u5176\u5b9e\u5c31\u662f\u81ea\u5df1)\uff0c\u82e5\u4e0d\u4e3a1\uff0c\u5219\u4e0d\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u3002\nglStencilOp(GL_KEEP, GL_KEEP, GL_REPLACE);\n\nwhile (!glfwWindowShouldClose(window)){\n    //\u7ed8\u5236floor\u7684\u65f6\u5019\u4e0d\u5e0c\u671b\u5bf9\u6a21\u677f\u7f13\u51b2\u5199\u5165\n    glStencilMask(0x00);\n    //floor\n    \u7ed8\u5236floor\u3002\u3002\u3002\n\n    //1st pass\uff0c\u7ed8\u5236\u7bb1\u5b50\uff0c\u7ed8\u5236\u7684\u65f6\u5019\u8bbe\u7f6e\u7bb1\u5b50\u7684\u6a21\u677f\u503c\u4e3a1\n    glStencilFunc(GL_ALWAYS, 1, 0xFF);//\u603b\u662f\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\uff0c\u6a21\u677f\u503c\u8bbe\u4e3aref(\u7b2c\u4e8c\u4e2a\u53c2\u6570)\n    glStencilMask(0xFF);     //\u542f\u7528\u6a21\u677f\u5199\u5165\n    //two cube\n    \u7ed8\u5236\u4e24\u4e2a\u7bb1\u5b50\u3002\u3002\u3002\u3002\u3002\u3002\n\n    //2nd pass\uff0c\u7ed8\u5236\u4e24\u4e2a\u5927\u4e00\u70b9\u7684\u7bb1\u5b50\u3002\n    glStencilFunc(GL_NOTEQUAL, 1, 0xFF);//\u6a21\u677f\u503c\u4e0d\u4e3a1\u7684\u65f6\u5019\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u3002\n    glStencilMask(0x00);                //\u5173\u95ed\u6a21\u677f\u5199\u5165\n    glDisable(GL_DEPTH_TEST);           //\u5173\u95ed\u6df1\u5ea6\u6d4b\u8bd5\n\n    float scale = 1.1f;         //\u7bb1\u5b50\u653e\u7f29\u7684\u5927\u5c0f\n    // cubes\n    model = glm::scale(model, glm::vec3(scale, scale, scale));\n    shaderSingleColor.setMat4(\"model\", model);\n    \u7ed8\u5236\u4e24\u4e2a\u7bb1\u5b50\u3002\u3002\u3002\u3002\u3002\n\n    //\u91cd\u7f6e\u6a21\u677f\u5199\u5165\u548c\u6df1\u5ea6\u6d4b\u8bd5\n    glStencilMask(0xFF);\n    glStencilFunc(GL_ALWAYS, 0, 0xFF);\n    glEnable(GL_DEPTH_TEST);\n\n    glfwSwapBuffers(window);\n    glfwPollEvents();\n}\n</code></pre>"},{"location":"OpenGL/4_advancedOpenGL/4_3_blending/","title":"Blending","text":""},{"location":"OpenGL/4_advancedOpenGL/4_3_blending/#_1","title":"\u7ed8\u5236\u8349","text":"<p>\u73b0\u5728\u60f3\u7ed9\u4e4b\u524d\u7684\u4e24\u4e2a\u7bb1\u5b50\u573a\u666f\u52a0\u4e00\u4e9b\u8349\uff0c\u76ee\u6807\u662f\u8fd9\u6837\u7684\uff1a</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u56db\u8fb9\u5f62\u7684VAO\uff0c\u7136\u540e\u628a\u8349\u7684\u7eb9\u7406\u8d34\u5230\u56db\u8fb9\u5f62\u4e0a\uff0c\u6309\u4e4b\u524d\u7684\u6e32\u67d3\u6b65\u9aa4\u4f1a\u5f97\u5230\u4e0b\u9762\u8fd9\u6837\u7684\u9519\u8bef\u7ed3\u679c\uff1a</p> <p></p> <p>\u51fa\u73b0\u8fd9\u79cd\u95ee\u9898\u662f\u56e0\u4e3aOpenGL\u9ed8\u8ba4\u4e0d\u77e5\u9053\u5982\u4f55\u5904\u7406alpha\u503c\uff0c\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u8be5\u4e22\u5f03\u7247\u6bb5\u3002\u6240\u4ee5\u8981\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u624b\u52a8\u6307\u5b9a\u3002</p> <pre><code>void main() {\n\n    float alpha = texture(diffuse,texcoord).w;\n    if(alpha &lt; .5f) discard;   //0.5\u662f\u9608\u503c\uff0c0.5\u8fd8\u662f0.1\u968f\u4fbf\u6307\u5b9a \u53ea\u8981\u7ed3\u679c\u6b63\u786e\u5c31\u53ef\u4ee5\n\n    FragColor = texture(diffuse,texcoord);\n\n}\n</code></pre> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u52a0\u8f7d\u6709alpha\u503c\u7684\u7eb9\u7406\uff0c\u8981\u5728\u7eb9\u7406\u751f\u6210\u7684\u65f6\u5019\uff0cformat\u7528GL_RGBA</p> <p>glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, width, height, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);</p> <p>\u8fd9\u6837\u52a0\u8f7d\u8349\u5c31\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p>"},{"location":"OpenGL/4_advancedOpenGL/4_3_blending/#_2","title":"\u7ed8\u5236\u7a97\u6237","text":"<p>\u7ed8\u5236\u8349\u7684\u65f6\u5019\uff0c\u900f\u660e\u7684\u7247\u6bb5\u6211\u4eec\u76f4\u63a5\u4e22\u5f03\u4e86\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u80fd\u8ba9\u6211\u4eec\u6e32\u67d3\u534a\u900f\u660e\u7684\u56fe\u50cf\u3002\u8981\u60f3\u6e32\u67d3\u6709\u591a\u4e2a\u900f\u660e\u5ea6\u7ea7\u522b\u7684\u56fe\u50cf\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u6df7\u5408(Blending)\u3002\u5177\u4f53\u5982\u4f55\u542f\u7528\u8bf7\u67e5\u9605\u6df7\u5408 - LearnOpenGL CN (learnopengl-cn.github.io)\u3002\u8fd9\u91cc\u8bb2\u4e00\u4e0b\u6700\u524d\u9762\u7a97\u6237\u7684\u900f\u660e\u90e8\u5206\u906e\u853d\u4e86\u80cc\u540e\u7684\u7a97\u6237\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p></p> <p>\u7a97\u6237\u7684\u524d\u540e\u987a\u5e8f\u4e3a1\uff0c2\uff0c3\u3002\u53ef\u4ee5\u770b\u52301\u53f7\u7a97\u6237\u906e\u853d\u4e862\u53f7\uff0c\u4f46\u662f2\u53f7\u5374\u6ca1\u906e\u4f4f3\u53f7\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u8fd9\u8ddf\u7a97\u6237\u7684\u7ed8\u5236\u987a\u5e8f\u6709\u5173\u3002</p> <pre><code>vector&lt;glm::vec3&gt; vegetation\n{\n    glm::vec3(-1.5f, 0.0f, -0.48f),    //\u7ea2\u8272\n    glm::vec3( 1.5f, 0.0f, 0.51f),     //\u7eff\u8272\n    glm::vec3( 0.0f, 0.0f, 0.7f),      //\u84dd\u8272\n    glm::vec3(-0.3f, 0.0f, -2.3f),     //\u767d\u8272\n    glm::vec3 (0.5f, 0.0f, -0.6f)      //\u9ed1\u8272\n};\n\n...\n\nwhile(!glfwWindowShouldClose(window)){\n\n    ...\n\n    for(int i=0;i&lt;vegetation.size();++i){\n        model = glm::translate(glm::mat4(1.f),vegetation[i]);\n        shader.setMat4(\"model\",model);\n        shader.setUniform3f(\"vegetationColor\",vegetationColor[i]);\n        //\u7bb1\u5b50\u7684\u7ed8\u5236\u987a\u5e8f\u548cvegetation\u91cc\u7684\u987a\u5e8f\u4e00\u81f4\n        glDrawArrays(GL_TRIANGLES,0,6);\n    }\n}\n</code></pre> <p>\u4e3a\u4e86\u65b9\u4fbf\u53d1\u73b0\u95ee\u9898\uff0c\u8fd9\u91cc\u628a\u7a97\u6237\u6309\u7ed8\u5236\u987a\u5e8f\u6d82\u6210\u7ea2\u3001\u7eff\u3001\u84dd\u3001\u767d\u3001\u9ed1\u8272\u3002\u767d\u8272\u7684\u6548\u679c\u662f\u4e0d\u6539\u53d8\u7a97\u6237\u672c\u8eab\u7684\u989c\u8272\u3002\u6240\u4ee51\uff0c2\uff0c3\u53f7\u7a97\u6237\u7684\u7ed8\u5236\u987a\u5e8f\u4e3a\uff1a1\uff0c3\uff0c2\u3002</p> <ol> <li>\u5148\u7ed8\u52361\u53f7\uff0c1\u53f7\u6df1\u5ea6\u6700\u5c0f\uff0c\u5168\u90e8\u7247\u6bb5\u90fd\u4f1a\u901a\u8fc7\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u6b64\u65f6\u573a\u666f\u4e2d\u8fd8\u6ca1\u67092\u30013\u53f7\u7a97\u6237\uff0c\u6240\u4ee51\u53f7\u7684\u989c\u8272\u548c\u5730\u677f\u7684\u989c\u8272\u8fdb\u884c\u4e86blend\uff1b</li> <li>\u63a5\u4e0b\u6765\u7ed8\u52363\u53f7\uff0c3\u53f7\u4e0e1\u53f7\u91cd\u53e0\u7684\u7247\u6bb5\u4f1a\u5728\u6df1\u5ea6\u6d4b\u8bd5\u4e2d\u88ab\u4e22\u5f03\uff0c\u56e0\u6b641\u53f7\u906e\u853d\u4e863\u53f7\uff1b</li> <li>\u63a5\u4e0b\u6765\u7ed8\u52362\u53f7\uff0c2\u53f7\u4e0e1\u53f7\u91cd\u53e0\u7684\u7247\u6bb5\u5728\u6df1\u5ea6\u6d4b\u8bd5\u4e2d\u88ab\u4e22\u5f03\uff0c1\u53f7\u906e\u853d2\u53f7\uff1b2\u53f7\u4e0e3\u53f7\u91cd\u53e0\u7684\u7247\u6bb5\u5219\u53ef\u4ee5\u901a\u8fc7\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u6240\u4ee53\u53f7\u7684\u7247\u6bb5\u989c\u8272\u548c2\u53f7\u7684\u7247\u6bb5\u989c\u8272\u8fdb\u884c\u4e86blend\uff0c\u6ca1\u6709\u53d1\u751f\u906e\u853d\u3002</li> </ol> <p>\u7ed3\u8bba\uff1a\u4e0d\u80fd\u968f\u610f\u51b3\u5b9a\u6e32\u67d3\u900f\u660e\u7269\u4f53\u7684\u987a\u5e8f\uff0c\u8981\u624b\u52a8\u7684\u628a\u7a97\u6237\u7684\u987a\u5e8f\u4ece\u8fdc\u5230\u8fd1\u6392\u5e8f\uff0c\u518d\u6839\u636e\u8fd9\u4e2a\u987a\u5e8f\u7ed8\u5236\u3002\u5bf9\u4e8e\u4e0d\u900f\u660e\u7684\u7269\u4f53\uff0c\u4e0d\u9700\u8981blend\uff0c\u6240\u4ee5\u7ed8\u5236\u987a\u5e8f\u968f\u610f\u3002\u5f53\u7ed8\u5236\u4e00\u4e2a\u6709\u4e0d\u900f\u660e\u548c\u900f\u660e\u7269\u4f53\u7684\u573a\u666f\u7684\u65f6\u5019\uff0c\u5927\u4f53\u7684\u539f\u5219\u5982\u4e0b\uff1a</p> <ol> <li>\u5148\u7ed8\u5236\u6240\u6709\u4e0d\u900f\u660e\u7684\u7269\u4f53\u3002</li> <li>\u5bf9\u6240\u6709\u900f\u660e\u7684\u7269\u4f53\u6392\u5e8f\u3002</li> <li>\u4ece\u8fdc\u5230\u8fd1\u6309\u987a\u5e8f\u7ed8\u5236\u6240\u6709\u900f\u660e\u7684\u7269\u4f53\u3002</li> </ol> <p></p> <p>vegetation\u6309z\u5750\u6807\u6392\u5e8f\u540e\u5c31\u5bf9\u4e86\u3002</p> <p>\u66f4\u9ad8\u7ea7\u7684\u6280\u672f\u8fd8\u6709\u6b21\u5e8f\u65e0\u5173\u900f\u660e\u5ea6(Order Independent Transparency, OIT)\uff0c\u5148\u4e0d\u5c55\u5f00\u3002</p>"},{"location":"OpenGL/4_advancedOpenGL/4_3_blending/#4_4-face_culling","title":"4_4 Face_culling","text":"<p>\u7528\u4e09\u89d2\u5f62\u4e09\u4e2a\u9876\u70b9\u5b9a\u4e49\u7684\u987a\u5e8f\u6765\u8868\u793a\u8fd9\u4e2a\u4e09\u89d2\u5f62\u662f\u6b63\u9762\u8fd8\u662f\u80cc\u9762\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u9006\u65f6\u9488\u5b9a\u4e49\u4e09\u89d2\u5f62\u65f6\u8868\u793a\u6b63\u9762\uff0c\u987a\u65f6\u9488\u5b9a\u4e49\u4e09\u89d2\u5f62\u65f6\u8868\u793a\u80cc\u9762\u3002\u5bf9\u4e8ecube\u7684\u8fd9\u4e2a\u4f8b\u5b50\uff1a\u524d\u9762\u3001\u53f3\u9762\u3001\u4e0a\u9762(\u80fd\u770b\u5230)\u6309\u9006\u65f6\u9488\u987a\u5e8f\u5b9a\u4e49\uff1b\u80cc\u9762\uff0c\u5de6\u9762\uff0c\u4e0b\u9762(\u4e0d\u80fd\u770b\u5230)\u6309\u987a\u65f6\u9488\u987a\u5e8f\u5b9a\u4e49\uff0c\u518d\u901a\u77e5OpenGL\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4e3b\u8981\u6709 3 \u6761\u6307\u4ee4\uff1a</p> <ol> <li> <p>\u542f\u52a8\uff0cglEnable(GL_CULL_FACE);</p> </li> <li> <p>\u5254\u9664\u6b63\u9762\u6216\u80cc\u9762\uff0cglCullFace(GL_FRONT);</p> </li> <li> <p><code>GL_BACK</code>\uff1a\u53ea\u5254\u9664\u80cc\u5411\u9762\u3002</p> </li> <li> <p><code>GL_FRONT</code>\uff1a\u53ea\u5254\u9664\u6b63\u5411\u9762\u3002</p> </li> <li> <p><code>GL_FRONT_AND_BACK</code>\uff1a\u5254\u9664\u6b63\u5411\u9762\u548c\u80cc\u5411\u9762\u3002</p> </li> <li> <p>\u6b63\u9762\u88ab\u5b9a\u4e49\u4e3a\u987a\u65f6\u9488\u8fd8\u662f\u9006\u65f6\u9488\uff0cglFrontFace(GL_CCW); GL_CCW\u4ee3\u8868\u9006\u65f6\u9488\uff0cGL_CW\u4ee3\u8868\u987a\u65f6\u9488</p> </li> </ol> <p>\u628a\u955c\u5934\u4f38\u5230\u7bb1\u5b50\u91cc\uff0c\u53ef\u4ee5\u611f\u89c9\u7bb1\u5b50\u597d\u50cf\u51ed\u7a7a\u6d88\u5931\u4e86\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u7bb1\u5b50\u5916\u9762\u770b\u4e0d\u5230\u7684\u9762\uff0c\u5df2\u7ecf\u88ab\u5254\u9664\u4e86\u3002</p>"},{"location":"OpenGL/4_advancedOpenGL/4_5_Framebuffer/","title":"Framebuffer","text":"<p>\u5e27\u7f13\u51b2\u7684\u5b9a\u4e49\uff1a\u989c\u8272\u7f13\u51b2+\u6df1\u5ea6\u7f13\u51b2+\u6a21\u677f\u7f13\u51b2+\u2026\u2026\uff0c\u8fd9\u4e00\u7cfb\u5217\u7684\u7f13\u51b2\u79f0\u4e3a\u5e27\u7f13\u51b2\u3002\u6211\u4eec\u4e4b\u524d\u4f7f\u7528\u7684\u662fOpenGL\u7684\u9ed8\u8ba4\u7684\u4e00\u5957\u7f13\u51b2\uff0c\u6709\u4e86framebuffer\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u5b9a\u4e49\u7684\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u4fbf\u4e8e\u5b9e\u73b0\u5404\u79cd\u5404\u6837\u540e\u671f\u5904\u7406\u7684\u6548\u679c\uff01</p> <p>\u5b8c\u6574\u7684\u5e27\u7f13\u51b2\u8981\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\uff1a</p> <ul> <li> <p>\u9644\u52a0\u81f3\u5c11\u4e00\u4e2a\u7f13\u51b2\uff08\u989c\u8272\u3001\u6df1\u5ea6\u6216\u6a21\u677f\u7f13\u51b2\uff09\u3002</p> </li> <li> <p>\u81f3\u5c11\u6709\u4e00\u4e2a\u989c\u8272\u9644\u4ef6(Attachment)\u3002</p> </li> <li> <p>\u6240\u6709\u7684\u9644\u4ef6\u90fd\u5fc5\u987b\u662f\u5b8c\u6574\u7684\uff08\u4fdd\u7559\u4e86\u5185\u5b58\uff09\u3002</p> </li> <li> <p>\u6bcf\u4e2a\u7f13\u51b2\u90fd\u5e94\u8be5\u6709\u76f8\u540c\u7684\u6837\u672c\u6570\u3002</p> </li> </ul> <p>\u521b\u5efaframebuffer\uff1a</p> <pre><code>unsigned int framebuffer;\nglGenFramebuffers(1, &amp;framebuffer);\nglBindFramebuffer(GL_FRAMEBUFFER, framebuffer);\n</code></pre> <p></p> <p>\u7eb9\u7406\uff1a\u50cf\u4e4b\u524d\u4e00\u6837\u521b\u5efa\uff0cformat\u586bGL_RGB\uff0cdata\u586bnull\u751f\u6210\u4e00\u4e2a\u7a7a\u7eb9\u7406\uff0c\u7eb9\u7406\u7684\u5927\u5c0f\u8bbe\u4e3a\u89c6\u53e3\u7684\u5927\u5c0f\u3002\u751f\u6210\u5b8c\u6bd5\u4e4b\u540e\u8981\u7ed1\u5b9a\u5230framebuffer\u4e2d</p> <pre><code>// \u751f\u6210\u7eb9\u7406\nunsigned int texColorBuffer;\nglGenTextures(1, &amp;texColorBuffer);\nglBindTexture(GL_TEXTURE_2D, texColorBuffer);\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, \u89c6\u53e3\u7684\u5bbd, \u89c6\u53e3\u7684\u9ad8, 0, GL_RGB, GL_UNSIGNED_BYTE, NULL);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR );\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglBindTexture(GL_TEXTURE_2D, 0); //\u89e3\u7ed1texture,\u968f\u540e\u662ftexColorBuffer\u7ed1\u5b9a\u5230\u5e27\u7f13\u51b2\u5bf9\u8c61\uff0c\u4e0d\u662fGL_TEXTURE_2D\n\n// \u5c06\u5b83\u9644\u52a0\u5230\u5f53\u524d\u7ed1\u5b9a\u7684\u5e27\u7f13\u51b2\u5bf9\u8c61\nglFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, texColorBuffer, 0);  \n</code></pre> <p>\u6e32\u67d3\u7f13\u51b2\u5bf9\u8c61(Renderbuffer Object)\u662f\u5728\u7eb9\u7406\u4e4b\u540e\u5f15\u5165\u5230OpenGL\u4e2d\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u53ef\u7528\u7684\u5e27\u7f13\u51b2\u9644\u4ef6\u7c7b\u578b\uff0c\u5728\u8fc7\u53bb\u7eb9\u7406\u662f\u552f\u4e00\u53ef\u7528\u7684\u9644\u4ef6\u3002</p> <pre><code>unsigned int rbo;\nglGenRenderbuffers(1, &amp;rbo);\nglBindRenderbuffer(GL_RENDERBUFFER, rbo); \nglRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH24_STENCIL8, \u89c6\u53e3\u7684\u5bbd, \u89c6\u53e3\u7684\u9ad8);  \nglBindRenderbuffer(GL_RENDERBUFFER, 0);//\u89e3\u7ed1rbo\n\n//\u7ed1\u5b9a\u5230framebuffer\nglFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_STENCIL_ATTACHMENT, GL_RENDERBUFFER, rbo);\n\n//\u68c0\u67e5\u5f53\u524dfbo\u662f\u5426\u5b8c\u6574\nif(glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE)\n    std::cout &lt;&lt; \"ERROR::FRAMEBUFFER:: Framebuffer is not complete!\" &lt;&lt; std::endl;\nglBindFramebuffer(GL_FRAMEBUFFER, 0);//\u89e3\u7ed1fbo\n</code></pre> <p>rbo\u662f\u4e00\u4e2a\u771f\u6b63\u7684\u7f13\u51b2\uff0c\u5b83\u4f1a\u628a\u6570\u636e\u5b58\u50a8\u4e3aOpenGL\u539f\u751f\u7684\u6e32\u67d3\u683c\u5f0f\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\u590d\u5236\u5b83\u7684\u6570\u636e\u5230\u5176\u5b83\u7684\u7f13\u51b2\u975e\u5e38\u5feb\uff0c\u574f\u5904\u662f\u4e0d\u80fd\u4f7f\u7528\u7eb9\u7406\u8bbf\u95ee\u7684\u5f62\u5f0f\u8bfb\u53d6\u5176\u4e2d\u7684\u6570\u636e\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u9700\u8981\u91c7\u6837\u9644\u4ef6\u4e2d\u7684\u6570\u636e\u65f6\uff0c\u4f7f\u7528\u7eb9\u7406\uff1b\u4e0d\u9700\u8981\u91c7\u6837\uff0c\u4f7f\u7528rbo\u3002</p> <p>\u4f8b\u5b50\uff1a\u5148\u6e32\u67d3\u573a\u666f\u5230\u81ea\u5b9a\u4e49\u7684fbo\uff0c\u518d\u628afbo\u4e2d\u7684\u989c\u8272\u6e32\u67d3\u5230\u4e00\u4e2a\u8986\u76d6\u4e86\u5c4f\u5e55\u7684\u56db\u8fb9\u5f62\u4e0a\u3002</p> <p>\u6ce8\u610f\uff1a\u6e32\u67d3\u56db\u8fb9\u5f62\u53ea\u9700\u8981\u5176x\u548cy\u7684\u503c\uff0c\u56e0\u6b64quadVertices[]\u4e2d\u4e09\u89d2\u5f62\u7684position\u4e0d\u9700\u8981\u5b9a\u4e49z\u503c\uff0c\u53e6\u5916\u518d\u5b9a\u4e49\u7eb9\u7406\u5750\u6807\u5373\u53ef\u3002</p> <pre><code>//\u6e32\u67d3\u56db\u8fb9\u5f62\u7684shader\n#version 330 core\nlayout (location = 0) in vec2 aPos;\nlayout (location = 1) in vec2 aTexCoords;\n\nout vec2 TexCoords;\n\nvoid main()\n{\n    gl_Position = vec4(aPos.x, aPos.y, 0.0, 1.0); \n    TexCoords = aTexCoords;\n}\n\n\nfloat quadVertices[]={\n    //pos  texcoord\n    -1,-1, 0,0,\n    1,-1,  1,0,\n    1,1,   1,1,\n\n    1,1,   1,1,\n    -1,1,  0,1,\n    -1,-1  0,0\n}\nunsigned int VAO,VBO;//\u573a\u666f\n{\n    ......\n}\n\nunsigned int quadVAO,quadVBO;\n{\n    ......\n}\n\nwhile(\u7a97\u53e3\u6ca1\u5173\u95ed){\n    //\u7b2c\u4e00\u4e2apass\n    glBindFramebuffer(GL_FRAMEBUFFER, framebuffer);//\u628a\u8f93\u51fa\u7ed1\u5b9a\u5230\u81ea\u5b9a\u4e49framebuffer\u4e0a\n    glClearColor(0.1f, 0.1f, 0.1f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // \u6211\u4eec\u73b0\u5728\u4e0d\u4f7f\u7528\u6a21\u677f\u7f13\u51b2\n    glEnable(GL_DEPTH_TEST);\n    glBindVertexArray(VAO);\n    \u6e32\u67d3\u573a\u666f\n\n    //\u7b2c\u4e8c\u4e2apass\n    glBindFramebuffer(GL_FRAMEBUFFER, 0);//\u628a\u8f93\u51fa\u7ed1\u5b9a\u5230\u9ed8\u8ba4\u7684framebuffer\u4e0a\n    glClearColor(0.1f, 0.1f, 0.1f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT);\n    lDisable(GL_DEPTH_TEST);//\u4e0d\u9700\u8981\u6df1\u5ea6\u6d4b\u8bd5\u4e86\n    glBindVertexArray(quadVAO);\n    \u6e32\u67d3\u5230\u56db\u8fb9\u5f62\n}\n</code></pre>"},{"location":"OpenGL/4_advancedOpenGL/4_5_Framebuffer/#_1","title":"\u540e\u671f\u5904\u7406","text":"<p>\u540e\u671f\u5904\u7406\u7684\u5b9a\u4e49\uff1a</p> <p>\u7740\u8272\u5668\u4e2d\u4e0d\u80fd\u4f7f\u7528\u591a\u7ef4\u6570\u7ec4</p>"},{"location":"OpenGL/4_advancedOpenGL/4_6_cubeMaps/","title":"cubemaps","text":"<p>\u8fd9\u6837\u7684\u539f\u56e0\u662f\u6ca1\u6709\u5173\u95ed\u6df1\u5ea6\u5199\u5165\u3002\u79fb\u52a8\u4e00\u4e0b\u76f8\u673a\u5c31\u53ef\u4ee5\u770b\u5230</p> <p></p> <p>\u5173\u95ed\u6df1\u5ea6\u5199\u5165\u4e4b\u540e\uff0c</p> <p></p> <p>\u53e6\u5916\uff0c\u5173\u95ed\u6df1\u5ea6\u5199\u5165\u662f\u4e3a\u4e86\u8ba9\u5929\u7a7a\u76d2\u6c38\u8fdc\u7ed8\u5236\u5728\u5176\u5b83\u7269\u4f53\u7684\u80cc\u540e\u3002</p> <p>\u611f\u89c9\u76f8\u673a\u5728\u5929\u7a7a\u76d2\u5916\u9762\uff0c\u8fd9\u6837\u7684\u539f\u56e0\u662f\uff0c\u7ed8\u5236\u5929\u7a7a\u76d2\u7684shader\uff0c\u4f20\u8fdb\u53bb\u7684view\u77e9\u9635\u6709\u4f4d\u79fb\u90e8\u5206\uff0c\u628a\u76f8\u673a\u79fb\u51fa\u4e86\u5929\u7a7a\u76d2\uff0c\u6240\u4ee5\u8981\u53bb\u6389view\u77e9\u9635\u4e2d\u7684\u4f4d\u79fb\u90e8\u5206\u3002\u65b9\u6cd5\u662f\u53bb\u6389\u77e9\u9635\u7684\u7b2c\u4e09\u884c\u548c\u7b2c\u4e09\u5217\uff1a</p> <pre><code>//\u5728shader\u4e2d\nvec4 pos = projection*vec4(mat3(view)*aPos,1.f);\n//\u6216\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\nglm::mat4 view = glm::mat4(glm::mat3(camera.GetViewMatrix()));\n</code></pre> <p>\u518d\u5728\u573a\u666f\u4e2d\u6dfb\u52a0\u4e00\u4e2abox\uff0c\u6d41\u7a0b\u548c\u4e4b\u524d\u4e00\u6837</p> <p></p> <p>\u95ee\u9898\u6765\u4e86\uff0cbox\u5728\u5929\u7a7a\u76d2\u4e4b\u540e\u6e32\u67d3\u624d\u80fd\u88ab\u6b63\u786e\u663e\u793a\uff1b\u82e5\u5728\u5929\u7a7a\u76d2\u4e4b\u524d\u6e32\u67d3\u5219box\u4e0d\u4f1a\u88ab\u663e\u793a\u51fa\u6765</p> <p></p>"},{"location":"OpenGL/5_advancedLighting/5_1_blinn_phong/","title":"blinnPhong","text":"<p>\u590d\u4e60\u4e00\u4e0bphong\u6c0f\u5149\u7167\u6a21\u578b\uff1a</p> <p>ambient = ambientStrength * lightColor;</p> <p>diffuse =  max(dot(normal, lightDir), 0.0) * lightColor;</p> <p>specular = specularStrength *  pow(max(dot(viewDir, reflectDir), 0.0), Shininess)* lightColor;</p> <p>phone\u6c0f\u5149\u7167\u6a21\u578b\u6709\u4e2a\u95ee\u9898\uff0c\u5f53viewDir\u548creflectDir\u7684\u5939\u89d2\u5927\u4e8e90\u00b0\u65f6\uff0cspecular\u5206\u91cf\u7b49\u4e8e0\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u6839\u636e\u53f3\u56fe\uff0c\u89c2\u5bdf\u65b9\u5411\u79bb\u53cd\u5c04\u65b9\u5411\u5f88\u8fdc\uff0c\u6309\u9053\u7406\u6765\u8bf4\u63a5\u6536\u4e0d\u5230\u4efb\u4f55\u9ad8\u5149\u5e76\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\u3002\u4f46\u662f\u5f53\u7269\u4f53\u7684\u53cd\u5149\u5ea6\uff0c\u4e5f\u5c31\u662fShininess\uff0c\u5f88\u5c0f\u7684\u65f6\u5019\u4ea7\u751f\u7684\u955c\u9762\u9ad8\u5149\u9762\u79ef\u5f88\u5927\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u80fd\u5ffd\u7565\u955c\u9762\u9ad8\u5149\u5bf9\u7269\u4f53\u4eae\u5ea6\u7684\u8d21\u732e\u3002\u5bf9\u5176\u8fdb\u884c\u6539\u8fdb\uff0c\u5f15\u5165blinn-phong\u5149\u7167\u6a21\u578b\u3002</p> <p>specular = specularStrength *  pow(max(dot(normal, half), 0.0), Shininess)* lightColor;</p> <p>\u4f7f\u7528\u6cd5\u7ebf\u548c\u534a\u7a0b\u5411\u91cf\u4e4b\u95f4\u7684\u5939\u89d2\u6765\u5ea6\u91cf\uff0c\u56e0\u4e3a\u4e0d\u8bba\u89c2\u5bdf\u8005\u5411\u54ea\u4e2a\u65b9\u5411\u770b\uff0c\u534a\u7a0b\u5411\u91cf\u4e0e\u8868\u9762\u6cd5\u7ebf\u4e4b\u95f4\u7684\u5939\u89d2\u90fd\u4e0d\u4f1a\u8d85\u8fc790\u5ea6\u3002</p>"},{"location":"OpenGL/5_advancedLighting/5_2_Gamma/","title":"gamma","text":""},{"location":"leetcode/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/","title":"\u4e8c\u5206\u67e5\u627e","text":"<p>\u6bcf\u6b21\u90fd\u628a\u533a\u95f4\u5206\u6210\u4e24\u534a\u518d\u8fdb\u884c\u67e5\u627e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(log n)\u3002\u4e8c\u5206\u67e5\u627e\u65f6\u533a\u95f4\u7684\u5de6\u53f3\u7aef\u53d6\u5f00\u533a\u95f4\u8fd8\u662f\u95ed\u533a\u95f4\u5728\u7edd\u5927\u591a\u6570\u65f6\u5019\u90fd\u53ef\u4ee5\uff0c\u56e0\u6b64\u6709\u4e9b\u521d\u5b66\u8005\u4f1a\u5bb9\u6613\u641e\u4e0d\u6e05\u695a\u5982\u4f55\u5b9a\u4e49\u533a\u95f4\u5f00\u95ed\u6027\u3002\u8fd9\u91cc\u6211\u63d0\u4f9b\u4e24\u4e2a\u5c0f\u8bc0\u7a8d\uff0c\u7b2c\u4e00\u662f\u5c1d\u8bd5\u719f\u7ec3\u4f7f\u7528\u4e00\u79cd\u5199\u6cd5\uff0c\u6bd4\u5982\u5de6\u95ed\u53f3\u5f00\uff08\u6ee1\u8db3 C++\u3001Python \u7b49\u8bed\u8a00\u7684\u4e60\u60ef\uff09\u6216\u5de6\u95ed\u53f3\u95ed\uff08\u4fbf\u4e8e\u5904\u7406\u8fb9\u754c\u6761\u4ef6\uff09\uff0c\u5c3d\u91cf\u53ea\u4fdd\u6301\u8fd9\u4e00\u79cd\u5199\u6cd5\uff1b\u7b2c\u4e8c\u662f\u5728\u5237\u9898\u65f6\u601d\u8003\u5982\u679c\u6700\u540e\u533a\u95f4\u53ea\u5269\u4e0b\u4e00\u4e2a\u6570\u6216\u8005\u4e24\u4e2a\u6570\uff0c\u81ea\u5df1\u7684\u5199 \u6cd5\u662f\u5426\u4f1a\u9677\u5165\u6b7b\u5faa\u73af\uff0c\u5982\u679c\u67d0\u79cd\u5199\u6cd5\u65e0\u6cd5\u8df3\u51fa\u6b7b\u5faa\u73af\uff0c\u5219\u8003\u8651\u5c1d\u8bd5\u53e6\u4e00\u79cd\u5199\u6cd5\u3002</p> <p>69.x\u7684\u5e73\u65b9\u6839</p> <p>1.\u5e38\u89c4\u6cd5\u3002res\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\uff1ares^2 \u2264 x\u4e14(res+1)^2&gt;x\u3002</p> <pre><code>class Solution69 {\npublic:\n    int mySqrt(int x) {\n        int j=x;\n        int i=0;\n        long mid;\n        while (i&lt;=j){\n            mid = (i+j)/2;\n            if(mid*mid&gt;x){   //\u4e0d\u6ee1\u8db3res^2 \u2264 x\n                j=mid-1;\n            }else if((mid+1)*(mid+1)&lt;=x){   //\u4e0d\u6ee1\u8db3(res+1)^2&gt;x\n                i=mid+1;\n            }else{\n                break;\n            }\n        }\n        return mid;\n    }\n};\n</code></pre> <p>2.\u8fdb\u9636\u4e00\u70b9(\u5b9e\u9645\u4e0a\u65f6\u7a7a\u590d\u6742\u5ea6\u6ca1\u53d8)\u3002\u5f97\u5230mid\u4e4b\u540e\uff0c\u76f4\u63a5\u7528sqrt=x/mid\u3002\u82e5sqrt==mid\uff0c\u8bf4\u660e\u627e\u5230\u4e86\u3002\u53e6\u5916\uff0c\u56e0\u4e3a\u6709\u9664\u6cd5\uff0c\u6240\u4ee5\u8981\u989d\u5916\u5904\u7406x=0\u7684\u60c5\u51b5\uff0c\u7136\u540e\u8ba9left\u4ece1\u5f00\u59cb\u3002</p> <p>\u96be\u70b9\uff1a\u4e3a\u4ec0\u4e48\u4e0d\u6ee1\u8db3while\u7684\u6761\u4ef6\u540ereturn r\uff1f</p> <pre><code>class Solution {\npublic:\n    int mySqrt(int x) {\n        if(x==0) return 0;\n        int l=1;\n        int r=x;\n        int mid,sqrt;\n        while (l&lt;=r){\n            mid = l+(r-l)/2;\n            sqrt=x/mid;\n            if(sqrt == mid){\n                return mid;\n            }else if(sqrt&gt;mid){\n                l=mid+1;\n            }else{\n                r=mid-1;\n            }\n        }\n        return r;\n    }\n};\n</code></pre> <p>3.\u725b\u987f\u8fed\u4ee3\u6cd5</p> <p>\u725b\u987f\u8fed\u4ee3\u6cd5\u7528\u4e8e\u6c42\u65b9\u7a0b\u7684\u6839\uff0c\u5bf9\u6b64\u9898\u5efa\u7acb\u65b9\u7a0bf(x)=x^2-a\uff0c\u5229\u7528\u725b\u987f\u8fed\u4ee3\u6cd5\u6c42f(x)\u7684\u6839\u5373\u53ef\u3002\u8fed\u4ee3\u516c\u5f0f\uff1a</p> <p>xn+1=xn\u2212f(xn)/f\u2032(xn)x_{n+1}=x_n-f(x_n)/f'(x_n) xn+1=xn\u2212f(xn)/f\u2032(xn)</p> <p>x0\u968f\u4fbf\u9009\u4e00\u4e2a\uff0c\u6b64\u5904\u5c31\u8ba9x0=a\u3002\u8fed\u4ee3\u6b21\u6570\u8d8a\u591a\uff0cxn\u8d8a\u63a5\u8fd1\u771f\u5b9e\u89e3</p> <pre><code>class Solution {\npublic:\n    int mySqrt(int x) {\n        long a=x;\n        while (a*a&gt;x){     //\u600e\u4e48\u60f3\u5230\u5faa\u73af\u6761\u4ef6\u662f\u8fd9\u4e2a\uff1f\n            a=(a+x/a)/2;\n        }\n        return a;\n    }\n};\n</code></pre> <p>34.\u5728\u6392\u5e8f\u6570\u7ec4\u4e2d\u67e5\u627e\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e</p> <p>\u5de6\u4e0b\u6807=\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8etarget\u7684\u4e0b\u6807\uff0c\u53f3\u4e0b\u6807=\u7b2c\u4e00\u4e2a\u5927\u4e8etarget\u7684\u4e0b\u6807-1\u3002\u7531\u4e8enums\u4e2d\u5168\u662f\u6574\u6570\uff0c\u56e0\u6b64\u7b2c\u4e8c\u4e2a\u76ee\u6807\u53ef\u4ee5\u4fee\u6539\u4e3a\u201c\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8etarget+1\u7684\u4e0b\u6807-1\u201d\u3002\u6700\u540e\u518d\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u6709left\u2264right\u3002\u56e0\u4e3a\u5f53\u6570\u7ec4\u4e2d\u4e0d\u5b58\u5728target\u65f6\uff0c\u5de6\u4e0b\u6807=\u7b2c\u4e00\u4e2a\u5927\u4e8etarget\u7684\u4e0b\u6807\uff0c\u6b64\u65f6\uff0cright=left-1\uff0c\u5df2\u7ecf\u4e0d\u6ee1\u8db3left\u2264right\u4e86\u3002</p> <pre><code>class Solution {\npublic:\n    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) {\n        int left_idx = binarySearch(nums,target);\n        int right_idx = binarySearch(nums,target+1)-1;\n        if(left_idx &lt;= right_idx){\n            return vector&lt;int&gt;{left_idx,right_idx};\n        }\n        return vector&lt;int&gt;{-1,-1};\n    }\nprivate:\n    //\u627e\u5230\u7b2c\u4e00\u4e2a\u7b49\u4e8etarget\u7684\u4e0b\u6807\n    int binarySearch(vector&lt;int&gt;&amp; nums, int target){\n        int left = 0;\n        int right = nums.size()-1;\n        while (left&lt;=right){\n            int mid = left+(right-left)/2;\n            if(nums[mid] &gt;= target){\n                right=mid-1;\n            }else{\n                left=mid+1;\n            }\n        }\n        return right+1;  //\u6ce8\u610f\u6700\u540e\u8fd4\u56de\u7684\u662fright+1\n    }\n};\n</code></pre> <p>81.\u641c\u7d22\u65cb\u8f6c\u6392\u5e8f\u6570\u7ec4\u2161</p> <p>1.\u6570\u7ec4\u4e2d\u53ea\u6709\u4e00\u6b21\u4e0b\u964d\uff0c\u5c31\u662fnums[n-1]\u548cnums[0]\u3002\u5982\u679cnums[n-1]==nums[0]\uff0c\u5219\u8bf4\u660e\u6570\u7ec4\u4e2d\u5143\u7d20\u5168\u90e8\u76f8\u540c\u3002\u6240\u4ee5\u53ea\u8981\u627e\u5230\u8fd9\u4e00\u6b21\u4e0b\u964d\u5728\u54ea\uff0c\u628a\u6570\u7ec4\u5212\u5206\u4e3a\u4e24\u4e2a\u975e\u964d\u5e8f\u90e8\u5206\uff0c\u518d\u5728\u8fd9\u4e24\u4e2a\u90e8\u5206\u4e2d\u505a\u4e8c\u5206\u67e5\u627e\u5373\u53ef\u3002</p> <pre><code>class Solution {\npublic:\n    bool search(vector&lt;int&gt;&amp; nums, int target) {\n        int i;\n        for (i = 0; i &lt; nums.size()-1; ++i) {\n            if(nums[i] &gt; nums[i+1]){\n                break;\n            }\n        }\n        if(i==nums.size()){       //\u8bf4\u660enums\u4e2d\u5143\u7d20\u90fd\u4e00\u6837\n            if(target==nums[i-1]){\n                return true;\n            }\n            return false;\n        }\n        if(target &gt;= nums[0]){    //\u5728\u5de6\u534a\u90e8\u5206\n            return binarySearch(nums,0,i+1,target);\n        }\n        //\u5728\u53f3\u534a\u90e8\u5206\n        return binarySearch(nums,i+1,nums.size(),target);\n    }\nprivate:\n    bool binarySearch(vector&lt;int&gt;&amp; nums,int low,int high,int target){\n        int i=low;\n        int j=high-1;\n        while (i&lt;=j){\n            int mid=i+(j-i)/2;\n            if(target==nums[mid]){\n                return true;\n            }else if(target&lt;nums[mid]){\n                j=mid-1;\n            }else{\n                i=mid+1;\n            }\n        }\n        return false;\n    }\n};\n</code></pre> <p>2.\u4e0d\u7528\u627e\u5230\u4e0b\u964d\u7684\u5730\u65b9\uff0c\u4ecd\u53ef\u4ee5\u5229\u7528\u6570\u7ec4\u7684\u9012\u589e\u6027\u3002\u5bf9\u4e8e\u5f53\u524d\u7684\u4e2d\u70b9\uff0c\u5982\u679c\u5b83\u6307\u5411\u7684\u503c\u5c0f\u4e8e\u7b49\u4e8e\u53f3\u7aef\uff0c\u90a3\u4e48\u8bf4\u660e\u53f3\u533a\u95f4\u662f\u6392\u597d\u5e8f\u7684\uff1b\u53cd\u4e4b\uff0c\u90a3\u4e48\u8bf4\u660e\u5de6\u533a\u95f4\u662f\u6392\u597d\u5e8f\u7684\u3002\u82e5target\u5728\u6392\u597d\u5e8f\u7684\u533a\u95f4\uff0c\u5bf9\u8be5\u533a\u95f4\u8fdb\u884c\u4e8c\u5206\u67e5\u627e\u3002\u5426\u5219\u5728\u975e\u6392\u597d\u5e8f\u7684\u533a\u95f4\u7ee7\u7eed\u4e4b\u524d\u7684\u67e5\u627e\u3002</p>"},{"location":"leetcode/%E5%8F%8C%E6%8C%87%E9%92%88/","title":"\u53cc\u6307\u9488","text":"<p>167.\u4e24\u6570\u4e4b\u548c\u2161-\u8f93\u5165\u6709\u5e8f\u6570\u7ec4</p> <p>\u7528\u5bf9\u649e\u53cc\u6307\u9488</p> <pre><code>class Solution {\npublic:\n    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; numbers, int target) {\n        int left=0;\n        int right=numbers.size()-1;\n        vector&lt;int&gt; ans;\n        while(left &lt; right){\n            int tmp = numbers[left]+numbers[right];\n            if(tmp == target){\n                ans.emplace_back(left+1);\n                ans.emplace_back(right+1);\n                break;\n            }else if(tmp &lt; target){\n                left++;\n            }else{\n                right--;\n            }\n        }\n        return ans;\n    }\n};\n</code></pre> <p>88.\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u6570\u7ec4</p> <p>\u4e00\u822c\u601d\u8def\uff1a\u65b0\u5efa\u4e00\u4e2ares\u6570\u7ec4\u5b58\u653e\u5408\u5e76\u4e4b\u540e\u7684\u5143\u7d20\u3002\uff08\u9898\u76ee\u8bf4m+n &lt; 200\uff0c\u6240\u4ee5\u7a7a\u95f4\u6d88\u8017\u4e5f\u4e0d\u662f\u5f88\u5927\uff09\u3002</p> <pre><code>class Solution {\npublic:\n    void merge(vector&lt;int&gt;&amp; nums1, int m, vector&lt;int&gt;&amp; nums2, int n) {\n        vector&lt;int&gt; res;\n        int i,j;\n        i=j=0;\n        while(i&lt;m &amp;&amp; j&lt;n){\n            if(nums1[i]&lt;=nums2[j]){\n                res.emplace_back(nums1[i++]);\n            }else{\n                res.emplace_back(nums2[j++]);\n            }\n        }\n        while(i&lt;m){\n            res.emplace_back(nums1[i++]);\n        }\n        while(j&lt;n){\n            res.emplace_back(nums2[j++]);\n        }\n        nums1 = res;\n    }\n};\n</code></pre> <p>\u7279\u522b\u601d\u8def\uff1a\u56e0\u4e3a\u6700\u7ec8\u8981\u8fd4\u56denums1\uff0c\u56e0\u6b64\u4ece\u540e\u5f80\u524d\u904d\u5386nums1\u548cnums2\uff0c\u5927\u7684\u76f4\u63a5\u632a\u5230num1\u7684\u672b\u5c3e\u3002\u6b64\u65b9\u6cd5\u4e0d\u9700\u8981\u989d\u5916\u5b58\u50a8\u7a7a\u95f4\u3002</p> <pre><code>class Solution {\npublic:\n    void merge(vector&lt;int&gt;&amp; nums1, int m, vector&lt;int&gt;&amp; nums2, int n) {\n        int i=m-1;\n        int j=n-1;\n        int k=m+n-1;\n        while(i&gt;=0 &amp;&amp; j &gt;=0){\n            if(nums1[i]&gt;=nums2[j]){\n                nums1[k--]=nums1[i--];\n            }else{\n                nums1[k--]=nums2[j--];\n            }\n        }\n        while(i&gt;=0){\n            nums1[k--]=nums1[i--];\n        }\n        while(j&gt;=0){\n            nums1[k--]=nums2[j--];\n        }\n    }\n};\n</code></pre> <p>142.\u73af\u5f62\u94fe\u8868\u2161</p> <p>\u5feb\u6162\u6307\u9488\u2014Floyd\u5224\u5708\u6cd5</p> <p>fast\uff1ai+j+k+j\uff1bslow\uff1ai+j\u30022*slow = fast \u2192k=i\u3002</p> <pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode *detectCycle(ListNode *head) {\n        ListNode* slow = head;\n        ListNode* fast = head;\n        while(1){\n            if(fast==NULL || fast-&gt;next==NULL) return NULL;\n            fast = fast-&gt;next-&gt;next;\n            slow = slow-&gt;next;\n            if(fast == slow) break;\n        }\n        fast = head;\n        while(fast != slow){\n            fast = fast-&gt;next;\n            slow = slow-&gt;next;\n        }\n        return slow;\n    }\n};\n</code></pre> <p>76.\u6700\u5c0f\u8986\u76d6\u5b50\u4e32</p> <p>\u6ed1\u52a8\u7a97\u53e3\u601d\u60f3\uff1aleft\u8868\u793a\u7a97\u53e3\u5de6\u8fb9\u754c\uff0cright\u8868\u793a\u7a97\u53e3\u53f3\u8fb9\u754c\u3002\u5f53\u7a97\u53e3\u4e2d\u7684\u5143\u7d20\u4e0d\u6ee1\u8db3\u9898\u610f\u65f6\uff0cright++\u3002\u5426\u5219\uff0c\u8bb0\u4e0b\u5f53\u524d\u7a97\u53e3\u7684\u957f\u5ea6\uff0cleft- -\uff0c\u76f4\u5230\u518d\u6b21\u4e0d\u6ee1\u8db3\u9898\u610f\u3002\u7a97\u53e3\u4e2d\u6700\u77ed\u7684\uff0c\u5c31\u662f\u9898\u76ee\u6240\u6c42\u3002</p> <p>\u96be\u70b9\uff1a1.\u7528\u4ec0\u4e48\u6570\u636e\u7ed3\u6784\u5b58\u50a8t\u4e2d\u6bcf\u4e2a\u5b57\u7b26\u51fa\u73b0\u7684\u6b21\u6570\uff1f\uff1b2.\u5982\u4f55\u5224\u65ad\u5f53\u524d\u7a97\u53e3\u201c\u521a\u597d\u201d\u5305\u542b\u4e86t\u4e2d\u6240\u6709\u5b57\u7b26\uff1f</p> <pre><code>#include&lt;unordered_map&gt;\nclass Solution {\npublic:\n    string minWindow(string s, string t) {\n        unordered_map&lt;char,int&gt; mp;    //\u95ee\u98981\uff1a\u7528hash map\n        for(char c:t){\n            mp[c]++;\n        }\n        int left,right;\n        left=0;\n        int count = 0;  //\u95ee\u98982\uff1acount\u7edf\u8ba1s\u5728t\u4e2d\u51fa\u73b0\u7684\u5b57\u7b26\u4e2a\u6570\uff0c\u5f53count=t.size\u7684\u65f6\u5019\uff0c\u521a\u597d\u5305\u542b\n        int min_len=s.size()+1;\n        int min_left=0;\n        for (right = 0; right &lt; s.size(); ++right) {\n            if(mp.count(s[right]) == 1){\n                mp[s[right]]--;\n                if(mp[s[right]] &gt;= 0){  //\u6ce8\u610fcount++\u548c--\u7684\u65f6\u673a\n                    count++;\n                }\n            }\n            if(count == t.size()){\n                if(min_len &gt; right-left+1){\n                    min_len = right-left+1;\n                    min_left = left;\n                }\n                while (1) {\n                    if(mp.count(s[left]) == 1){\n                        mp[s[left]]++;\n                        if(mp[s[left]] &gt; 0){\n                            count--;\n                            left++;\n                            break;\n                        }\n                    }\n                    left++;\n                    if(min_len &gt; right-left+1){\n                        min_len = right-left+1;\n                        min_left = left;\n                    }\n                }\n            }\n        }\n        if(min_len == s.size()+1){\n            return \"\";\n        }\n        return s.substr(min_left,min_len);\n    }\n};\n</code></pre> <p>633.\u5e73\u65b9\u6570\u4e4b\u548c</p> <p>1.b=sqrt(c-a^2);\u56e0\u6b64\u904d\u5386a\uff0c\u8ba1\u7b97b\u662f\u4e0d\u662f\u6574\u6570\u3002</p> <pre><code>class Solution {\npublic:\n    bool judgeSquareSum(int c) {\n        for(long a=0;a*a&lt;=c;++a){       //\u6ce8\u610fc&lt;2^31-1,\u56e0\u6b64a\u4e3aint\u578b\uff0ca*a\u4f1a\u6ea2\u51fa\n            double b = sqrt(c-a*a);\n            if(b == (int)b){\n                return true;\n            }\n        }\n        return false;\n    }\n};\n</code></pre> <p>2.\u53cc\u6307\u9488\uff0ca=0\uff0cb=sqrt(c)\uff0c\u8ba1\u7b97t=a^2+b^2\u3002tc\uff0c\u8ba9b- -\uff1b <pre><code>class Solution {\npublic:\n    bool judgeSquareSum(int c) {\n        // if(c==0||c==1||c==2) return true;\n        long i=0;long j=sqrt(c);\n        while(i &lt;= j){\n            long tmp = i*i+j*j;\n            if(tmp == c){\n                return true;\n            }else if(tmp&lt;c){\n                i++;\n            }else{\n                j--;\n            }\n        }\n        return false;\n    }\n};\n</code></pre> <p>3.\u8d39\u9a6c\u5e73\u65b9\u548c\u5b9a\u7406</p> <p>\u5b9a\u7406\uff1ac\u7684\u6240\u6709\u5f62\u59824k+3\u7684\u8d28\u6570\uff0c\u5176\u5e42\u4e3a\u5076\u6570\u7684\u65f6\u5019\uff0cc\u53ef\u4ee5\u8868\u793a\u4e3aa^2+b^2;</p> <pre><code>class Solution {\npublic:\n    bool judgeSquareSum(int c) {\n        for(long a=0;a*a&lt;=c;++a){\n            if(c%a != 0) continue;\n            int e=0;\n            while(c%a == 0){\n                c /= a;\n                e++;\n            }\n            if(a%4 == 3 &amp;&amp; e%2!=0){\n                return false;\n            }\n        }\n        //c\u662fc\u7684\u5e42\u4e3a1\u7684\u56e0\u5b50\n        return c%4 != 3;\n    }\n};\n</code></pre> <p>680.\u9a8c\u8bc1\u56de\u6587\u4e32\u2161</p> <p>1.\u53d1\u751f\u4e86\u4e00\u6b21\u4e0d\u5339\u914d\u4e4b\u540e\uff0c\u5220\u9664\u5de6\u8fb9 \u201c\u6216\u8005\u201d \u5220\u9664\u53f3\u8fb9\uff0c\u76f4\u63a5\u5224\u65ad\u5269\u4e0b\u7684\u5b50\u4e32\u662f\u4e0d\u662f\u56de\u6587\u4e32\u5373\u53ef\u3002</p> <pre><code>class Solution {\npublic:\n    bool validPalindrome(string s) {\n        int i=0;int j=s.length()-1;\n        while (i&lt;j){\n            if(s[i]==s[j]){\n                ++i;\n                --j;\n            }else{      //\u53d1\u751f\u4e86\u4e00\u6b21\u4e0d\u5339\u914d\n                return isPalindrome(s,i+1,j) || isPalindrome(s,i,j-1);\n            }\n        }\n        return true;\n    }\nprivate:\n    bool isPalindrome(string s,int i,int j){\n        while (i&lt;j){\n            if(s[i] != s[j]){\n                return false;\n            }\n            i++;\n            j--;\n        }\n        return true;\n    }\n};\n</code></pre> <p>524.\u901a\u8fc7\u5220\u9664\u5b57\u6bcd\u5339\u914d\u5230\u5b57\u5178\u91cc\u6700\u957f\u7684\u5355\u8bcd</p> <p>\u5148\u6309\u9898\u76ee\u8981\u6c42\u6392\u5e8f\uff0c\u518d\u904d\u5386dictionary\u5339\u914d\u5c31\u597d</p> <pre><code>class Solution {\npublic:\n    string findLongestWord(string s, vector&lt;string&gt;&amp; dictionary) {\n        sort(dictionary.begin(),dictionary.end(),[](string a,string b)-&gt;bool {\n           return (a.length()&gt;b.length()) || (a.length()==b.length() ? a[0]&lt;=b[0] : false);\n        });\n        for(string t:dictionary){\n            if(isMatch(s,t)){\n                return t;\n            }\n        }\n        return \"\";\n\n    }\nprivate:\n    bool isMatch(string s,string word){\n        int i=0;int j=0;\n        while (i&lt;s.length() &amp;&amp; j&lt;word.length()){\n            if(s[i] == word[j]){\n                ++j;\n            }\n            i++;\n        }\n        return j == word.length();\n    }\n};\n</code></pre> <p>340.\u81f3\u591a\u5305\u542bk\u4e2a\u4e0d\u540c\u5b57\u7b26\u7684\u6700\u957f\u5b50\u4e32</p> <p>\u6ed1\u52a8\u7a97\u53e3\uff0c\u7528\u4e00\u4e2aunordered_map\u6765\u8bb0\u5f55right\u5212\u8fc7\u7684\u5b57\u7b26\u7684\u4e2a\u6570\u3002\u7528kind\u8bb0\u5f55\u5f53\u524d\u7a97\u53e3\u5185\u7684\u5b57\u6bcd\u79cd\u7c7b\u4e2a\u6570\u3002 <pre><code>class Solution {\npublic:\n    int lengthOfLongestSubstringKDistinct(string s, int k){\n        unordered_map&lt;char,int&gt; mp;\n        int i=0;int j=0;\n        int kind=0;\n        int max_len = 0;\n        while (j &lt; s.length()){\n            if(mp[s[j]]==0 &amp;&amp; kind &lt; k) {  //\u6765\u4e86\u4e2a\u65b0\u79cd\u7c7b\u7684\u5b57\u7b26\uff0c\u4e14\u5f53\u524d\u79cd\u7c7b\u4e2a\u6570\u8fd8\u6ca1\u8d85\u8fc7k\n                kind++;\n            }else if(mp[s[j]] == 0 &amp;&amp; kind==k){//\u6765\u4e86\u4e2a\u65b0\u79cd\u7c7b\u7684\u5b57\u7b26\uff0c\u4f46\u662f\u5f53\u524d\u79cd\u7c7b\u4e2a\u6570==k\u4e86\n                //\u8be5\u628a\u5de6\u7a97\u53e3\u53f3\u79fb\u4e86\n                max_len = max(max_len,j-i);\n                while (i&lt;j){\n                    s[i]--;\n                    if(s[i++]==0){\n                        kind--;\n                        break;\n                    }\n                }\n            }\n\n            mp[s[j]]++;\n            j++;\n        }\n        //\u6700\u540e\u4e00\u4e2a\u7a97\u53e3\uff0c\u6ca1\u8f6e\u5230left\u53f3\u79fb\u5c31\u904d\u5386\u7ed3\u675f\u4e86\uff0c\u6240\u4ee5\u5728return\u8fd9\u91cc\u8fd8\u8981\u518d\u5224\u65ad\u4e00\u6b21max\n        return max(max_len,j-i);\n    }\n};\n</code></pre>"},{"location":"leetcode/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/","title":"\u601d\u7ef4\u5bfc\u56fe","text":""},{"location":"leetcode/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/","title":"\u8d2a\u5fc3\u7b97\u6cd5","text":"<p>455.\u5206\u53d1\u997c\u5e72</p> <p>\u8d2a\u5fc3\u7b56\u7565\uff1a\u56e0\u4e3a\u76ee\u6807\u662f\u5c3d\u53ef\u80fd\u6ee1\u8db3\u8d8a\u591a\u6570\u91cf\u7684\u5b69\u5b50\uff0c\u56e0\u6b64\u4f18\u5148\u6ee1\u8db3\u80c3\u53e3\u6bd4\u8f83\u5c0f\u7684\uff0c\u4ece\u80c3\u53e3\u5c0f\u7684\u5b69\u5b50\u5f00\u59cb\uff0c\u9009\u4e00\u5757\u201c\u521a\u597d\u201d\u80fd\u6ee1\u8db3\u4ed6\u7684\u997c\u5e72\u5206\u7ed9\u4ed6\u3002</p> <pre><code>class Solution {\npublic:\n    int findContentChildren(vector&lt;int&gt;&amp; g, vector&lt;int&gt;&amp; s) {\n        if(s.size() == 0) return 0;\n        sort(g.begin(),g.end());   //\u80c3\u53e3\u6700\u5c0f\u7684\u5b69\u5b50\u6700\u5bb9\u6613\u6ee1\u8db3 \u6240\u4ee5\u4eceg\u6700\u5c0f\u7684\u5f00\u59cb\u904d\u5386\n        sort(s.begin(),s.end());\n        int child=0;\n        int cookie=0;\n        while (child &lt; g.size() &amp;&amp; cookie &lt; s.size()){\n            if(g[child] &lt;= s[cookie]) ++child;\n            ++cookie;\n        }\n        return child;\n    }\n};\n</code></pre> <p>135.\u5206\u53d1\u7cd6\u679c</p> <p>\u8d2a\u5fc3\u7b56\u7565\uff1a\u6bcf\u6b21\u904d\u5386\u53ea\u8003\u8651\u5e76\u66f4\u65b0\u76f8\u90bb\u4e00\u4fa7\u7684\u5927\u5c0f\u5173\u7cfb\u3002\u4e24\u6b21\u904d\u5386\u5b66\u751f\u6210\u7ee9\u3002\u4ece\u5de6\u5f80\u53f3\uff0c\u82e5\u5de6\u8fb9\u5b66\u751f\u6210\u7ee9&gt;\u53f3\u8fb9\uff0c\u5de6\u8fb9+1\uff1b\u82e5\u5de6\u8fb9\u5b66\u751f\u6210\u7ee9\u2264\u53f3\u8fb9\uff0c\u5148\u4e0d\u5904\u7406\u3002\u7b2c\u4e8c\u6b21\u4ece\u53f3\u5f80\u5de6\uff0c\u82e5\u53f3\u8fb9\u5b66\u751f\u6210\u7ee9&lt;\u5de6\u8fb9\uff0c\u53f3\u8fb9=\u5de6\u8fb9+1\uff1b\u82e5\u5de6\u8fb9\u5b66\u751f\u6210\u7ee9\u2265\u53f3\u8fb9\uff0c\u4e0d\u5904\u7406(\u56e0\u4e3a\u5df2\u7ecf\u5728\u7b2c\u4e00\u6b21\u904d\u5386\u4e2d\u5904\u7406\u8fc7\u4e86)</p> <pre><code>class Solution {\n    //\u8d2a\u5fc3\u7b56\u7565\uff1a\u6bcf\u6b21\u904d\u5386\u53ea\u8003\u8651\u5e76\u66f4\u65b0\u76f8\u90bb\u4e00\u4fa7\u7684\u5927\u5c0f\u5173\u7cfb\npublic:\n    int candy(vector&lt;int&gt;&amp; ratings) {\n        int n = ratings.size();\n        if(n==1) return 1;\n        vector&lt;int&gt; a(n,1);\n        for (int i = 1; i &lt; n; ++i) {\n            if(ratings[i] &gt; ratings[i-1]){\n                a[i] = a[i-1]+1;\n            }\n        }\n        for (int i = n-1; i &gt; 0 ; --i) {\n            if(ratings[i] &lt; ratings[i-1]){\n                a[i-1] = max(a[i-1],a[i]+1);\n            }\n        }\n        return accumulate(a.begin(),a.end(),0);\n    }\n};\n</code></pre> <p>435.\u65e0\u91cd\u53e0\u533a\u95f4</p> <p>\u8d2a\u5fc3\u7b56\u7565\uff1a1.\u8981\u4f7f\u5f97\u533a\u95f4\u4e0d\u91cd\u53e02.\u8003\u8651\u79fb\u9664\u6700\u5c0f\u6570\u91cf\u7684\u60c5\u51b5 \u8981\u6ee1\u8db31\uff0c\u628a\u533a\u95f4\u6309endi\u6392\u5e8f,\u56e0\u4e3a2 \u8981\u4eceendi\u5c0f\u7684\u5165\u624b\uff1b\u8981\u6ee1\u8db32\uff0c\u6bcf\u6b21\u52a0\u5165res\u7684\u533a\u95f4\uff0cendi\u5e94\u8be5\u5c3d\u91cf\u5c0f\u3002\u56e0\u4e3aendi\u8d8a\u5c0f\uff0c\u7559\u7ed9\u540e\u9762\u533a\u95f4\u7684\u7a7a\u95f4\u624d\u66f4\u5927\uff0c\u624d\u80fd\u5bb9\u7eb3\u66f4\u591a\u7684\u533a\u95f4\uff0c\u8fbe\u5230\u79fb\u9664\u6700\u5c11\u7684\u76ee\u7684\u3002</p> <pre><code>class Solution {\npublic:\n    int eraseOverlapIntervals(vector&lt;vector&lt;int&gt;&gt;&amp; intervals) {\n        if(intervals.empty()) return 0; //\u6ce8\u610f\u6709\u4e2a\u5224\u7a7a\u64cd\u4f5c\uff0c\u4e0d\u7136for\u5faa\u73af\u4f1a\u8d8a\u754c\n        sort(intervals.begin(),intervals.end(),[](vector&lt;int&gt; a,vector&lt;int&gt; b)-&gt;bool{\n            return a[1]&lt;b[1];\n        });\n        int ans=1;\n        int right=intervals[0][1];\n        int n = intervals.size();\n        for (int i = 1; i &lt; n; ++i) {\n            //\u5224\u65ad\u5f53\u524d\u533a\u95f4 \u4e0e \u524d\u4e00\u4e2a\u662f\u5426\u76f8\u4ea4\n            if(right &lt;= intervals[i][0]){   //\u76f8\u4ea4\n                ans++;\n                right = intervals[i][1];\n            }\n        }\n        return n-ans;\n    }\n};\n</code></pre> <p>\u89e3\u6cd5\u4e8c\uff1a\u52a8\u6001\u89c4\u5212\u3002\u5148\u6309starti\u6216endi\u6392\u5e8f\u3002fi\u8868\u793a\uff0c\u4ee5\u533a\u95f4i\u4f5c\u4e3a\u6700\u53f3\u533a\u95f4\u7684\u65f6\u5019\uff0c\u80fd\u9009\u51fa\u7684\u533a\u95f4\u6570\u91cf\u7684\u6700\u5927\u503c\u3002\u5f53i=0\u7684\u65f6\u5019\uff0c\u533a\u95f40\u5c31\u662f\u6240\u6709\u533a\u95f4\u4e2d\u6700\u5de6\u7684\u4e00\u4e2a\uff0c\u4ee5\u5b83\u7ed3\u5c3e\u80fd\u9009\u51fa\u7684\u533a\u95f4\u53ea\u6709\u5b83\u81ea\u5df1\uff0c\u56e0\u6b64f0=1\uff1bi=1\u7684\u65f6\u5019\uff0c\u5982\u679cend01\u7684\u65f6\u5019\uff0c\u8981\u904d\u5386i\u4e4b\u524d\u6240\u6709\u7684\u533a\u95f4\uff0c\u770b\u662f\u5426\u80fd\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\uff0c\u5728\u6240\u6709\u6ee1\u8db3\u533a\u95f4\u7684fj\u4e2d\u53d6\u4e00\u4e2a\u6700\u5927\u503c\u3002 <pre><code>class Solution {\npublic:\n    int eraseOverlapIntervals(vector&lt;vector&lt;int&gt;&gt;&amp; intervals) {\n        if(intervals.empty()) return 0;\n        sort(intervals.begin(),intervals.end(),[](vector&lt;int&gt; a,vector&lt;int&gt; b)-&gt;bool{\n            return a[0]&lt;b[0];\n        });\n        int n=intervals.size();\n        vector&lt;int&gt; f(n,1);\n        for (int i = 1; i &lt; n; ++i) {\n            for (int j = 0; j &lt; i; ++j) {\n                if(intervals[j][1] &lt;= intervals[i][0]){\n                    f[i] = max(f[j]+1,f[i]);\n                }\n            }\n        }\n        return n - *max_element(f.begin(),f.end());\n\n    }\n};\n</code></pre> <p>452.\u7528\u6700\u5c11\u6570\u91cf\u7684\u7bad\u5f15\u7206\u6c14\u7403</p> <p>\u6839\u636e\u533a\u95f4\u8d77\u70b9\u5347\u5e8f\uff0c\u8d77\u70b9\u76f8\u540c\u7684\uff0c\u6309\u7ec8\u70b9\u5347\u5e8f\u3002\u4f7f\u7528\u7684\u7bad\uff0c\u7b2c\u4e00\u4e2a\u6c14\u7403\u7ec8\u70b9\uff0c\u4e0b\u4e00\u7247\u4e0d\u76f8\u4ea4\u533a\u57df\u4e2d\u6700\u5de6\u6c14\u7403\u7684\u7ec8\u70b9\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u3002\u3002\u3002</p> <pre><code>class Solution {\npublic:\n    //\u8d85\u65f6\n    // int findMinArrowShots(vector&lt;vector&lt;int&gt;&gt;&amp; points) {\n    //     sort(points.begin(),points.end(),[](vector&lt;int&gt; a,vector&lt;int&gt; b)-&gt;bool{\n    //         return a[1]&lt;b[1];\n    //     });\n    //     int arrow=1;\n    //     vector&lt;int&gt; cur=points[0];\n    //     int i=1;\n    //     while (i&lt;points.size()){\n    //         if(cur[1] &gt;= points[i][0]){    //\u6709\u4ea4\u96c6\n    //             cur[0] = max(cur[0],points[i][0]);\n    //             cur[1] = min(cur[1],points[i][1]);\n    //         }else{\n    //             arrow++;\n    //             cur = points[i];\n    //         }\n    //         ++i;\n    //     }\n    //     return arrow;\n    // }\n\n    int findMinArrowShots(vector&lt;vector&lt;int&gt;&gt;&amp; points) {\n        sort(points.begin(), points.end()); // \u6839\u636e\u533a\u95f4\u8d77\u70b9\u8fdb\u884c\u5347\u5e8f\u6392\u5e8f\uff0c\u8d77\u70b9\u76f8\u540c\u6839\u636e\u7ec8\u70b9\u5347\u5e8f\u6392\u5e8f\u3010\u4fdd\u8bc1\u9760\u524d\u7684\u533a\u95f4\u5728\u524d\u9762\u3011\n        int arrow = 0;              // \u4f7f\u7528\u7684\u7bad\u6570\n        int start = points[0][0];   // \u533a\u95f4\u4ea4\u96c6\u8d77\u70b9\uff0c\u521d\u59cb\u4e3a\u9996\u4e2a\u533a\u95f4\u8d77\u70b9\n        int end = points[0][1];     // \u533a\u95f4\u4ea4\u96c6\u7ec8\u70b9\uff0c\u521d\u59cb\u4e3a\u9996\u4e2a\u533a\u95f4\u7ec8\u70b9\n        // \u4ece\u7b2c\u4e8c\u4e2a\u533a\u95f4\u5f00\u59cb\u904d\u5386\n        for(int i = 1; i &lt; points.size(); i++){\n            if(points[i][0] &gt; end){\n                // \u5f53\u524d\u533a\u95f4\u4e0e\u5f53\u524d\u533a\u95f4\u4ea4\u96c6\u6ca1\u6709\u4ea4\u96c6\uff0c\u5f53\u524d\u533a\u95f4\u4ea4\u96c6\u4f7f\u7528\u4e00\u6839\u7bad\uff1b\u66f4\u65b0\u533a\u95f4\u4ea4\u96c6\u4e3a\u5f53\u524d\u533a\u95f4\n                arrow++;\n                start = points[i][0];\n                end = points[i][1];\n            }else{\n                // \u5f53\u524d\u533a\u95f4\u4e0e\u5f53\u524d\u533a\u95f4\u4ea4\u96c6\u6709\u4ea4\u96c6\uff0c\u66f4\u65b0\u533a\u95f4\u4ea4\u96c6\n                start = max(start, points[i][0]);\n                end = min(end, points[i][1]);\n            }\n        }\n        arrow++;    // \u6700\u540e\u4e00\u4e2a\u533a\u95f4\u4ea4\u96c6\u8fd8\u9700\u8981\u4f7f\u7528\u4e00\u6839\u7bad\n        return arrow;\n    }\n\n};\n</code></pre> <p>763.\u5212\u5206\u5b57\u6bcd\u533a\u95f4</p> <p>\u5148\u6c42\u6bcf\u79cd\u5b57\u6bcd\u6700\u540e\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u4ece\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5f00\u59cb\uff0c\u8be5\u5b57\u6bcd\u6700\u540e\u51fa\u73b0\u7684\u4f4d\u7f6e\u5c31\u662f\u5f53\u524d\u533a\u95f4\u6700\u77ed\u4f4d\u7f6e\uff0c\u518d\u68c0\u67e5\u5f53\u524d\u533a\u95f4\u7684\u5176\u5b83\u5b57\u6bcd\u662f\u5426\u5168\u90e8\u5728\u8be5\u533a\u95f4\u4e2d\uff0c\u4e0d\u5728\u5219\u533a\u95f4\u5ef6\u957f\u3002</p> <pre><code>class Solution {\npublic:\n    vector&lt;int&gt; partitionLabels(string s) {\n        vector&lt;int&gt; ans;\n        int letter[26]={-1};\n        //\u6c42\u6bcf\u79cd\u5b57\u6bcd\u6700\u540e\u51fa\u73b0\u7684\u4f4d\u7f6e\n        for (int i = 0; i &lt; s.length(); ++i) {\n            letter[s[i]-'a'] = i;\n        }\n        int left = 0;\n        int right = letter[s[0]-'a'];\n        for (int i = 0; i &lt; s.length(); ++i) {\n            if(right == s.length()-1){\n                ans.push_back(right-left+1);\n                return ans;\n            }\n            char c = s[i];\n            if(i &lt; right){\n                right = max(right,letter[c-'a']);\n            }else{\n                ans.push_back(right-left+1);\n                left = right+1;\n                right = letter[s[left]-'a'];\n            }\n        }\n        return ans;\n    }\n};\n</code></pre> <p>122.\u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u2161</p> <p>1.\u9012\u5f52\uff08\u66b4\u529b\u641c\u7d22\uff0c\u4f1a\u8d85\u65f6\uff09</p> <pre><code>class Solution {\npublic:\n    //\u66b4\u529b\u641c\u7d22\u3002\u6bcf\u5929\u7684\u72b6\u6001\u6709\u4e24\u79cd\uff1a\u6301\u6709\u73b0\u91d1(\u4e0d\u6301\u6709\u80a1\u7968)\u548c\u6301\u6709\u80a1\u7968\u3002\n    //\u6301\u6709\u73b0\u91d1\u7684\u65f6\u5019\u80fd\u4e70\u5165\u6216\u8005\u4e0d\u64cd\u4f5c\uff1b\u6301\u6709\u80a1\u7968\u7684\u65f6\u5019\u80fd\u5356\u51fa\u6216\u8005\u4e0d\u64cd\u4f5c\n    int max_profit=0;\n    void dfs(vector&lt;int&gt;&amp; prices,int pos,int curProfit,int status){    \n              //status=0\u8868\u793a\u4eca\u5929\u6301\u6709\u73b0\u91d1\uff0c=1\u8868\u793a\u6301\u6709\u80a1\u7968\n        if(pos == prices.size()){\n            max_profit = max(max_profit,curProfit);\n            return;\n        }\n        if(status == 0){\n            //\u4e0d\u64cd\u4f5c\n            dfs(prices,pos+1,curProfit,0);\n            //\u4e70\u5165\n            dfs(prices,pos+1,curProfit-prices[pos],1);\n        }else{\n            //\u4e0d\u64cd\u4f5c\n            dfs(prices,pos+1,curProfit,1);\n            //\u5356\u51fa\n            dfs(prices,pos+1,curProfit+prices[pos],0);\n        }\n    }\n    int maxProfit(vector&lt;int&gt;&amp; prices) {\n        dfs(prices,0,0,0);\n        return max_profit;\n    }\n};\n</code></pre> <p>2.\u8d2a\u5fc3</p> <p>\u8d2a\u5fc3\u7b56\u7565\uff1a\u53ea\u5728price\u4e25\u683c\u5355\u589e\u7684\u8d77\u70b9\u4e70\u5165\uff0c\u7ec8\u70b9\u5356\u51fa(\u6b64\u65b9\u6cd5\u53ea\u9488\u5bf9\u8fd9\u9898)</p> <pre><code>class Solution {\npublic:\n    int maxProfit(vector&lt;int&gt;&amp; prices) {\n        int profit=0;\n        int start=0;\n        while (start &lt; prices.size()) {\n            while (start&lt;prices.size()-1 &amp;&amp; prices[start] &gt;= prices[start+1]){\n                start++;\n            }\n            int end = start;\n            while (end &lt; prices.size()-1 &amp;&amp; prices[end] &lt; prices[end+1]){\n                end++;\n            }\n            profit += prices[end]-prices[start];\n            start = end+1;\n        }\n        return profit;\n    }\n};\n</code></pre> <p>3.\u52a8\u6001\u89c4\u5212</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u65e0\u540e\u6548\u6027\uff0c\u589e\u52a0\u4e00\u7ef4\uff0c\u628a\u6301\u6709\u80a1\u7968\u548c\u6301\u6709\u73b0\u91d1\u7684\u60c5\u51b5\u5206\u5f00\u3002dp[i][0]\u8868\u793a\u7b2ci\u5929\u6301\u6709\u73b0\u91d1\u6700\u5927\u83b7\u5229\uff0cdp[i][1]\u8868\u793a\u7b2ci\u5929\u6301\u6709\u80a1\u7968\u6700\u5927\u83b7\u5229\u3002</p> <pre><code>class Solution{\npublic:\n    int maxProfit(vector&lt;int&gt;&amp; prices) {\n        int len = prices.size();\n        vector&lt;vector&lt;int&gt;&gt; dp(len,vector&lt;int&gt;(2));\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n        for (int i = 1; i &lt; len; ++i) {\n            dp[i][0] = max(dp[i-1][0],dp[i-1][1]+prices[i]);\n            dp[i][1] = max(dp[i-1][0]-prices[i],dp[i-1][1]);\n        }\n        return dp[len-1][0];\n    }\n};\n</code></pre> <p>406.\u6839\u636e\u8eab\u9ad8\u91cd\u5efa\u961f\u5217</p> <p>\u5957\u8def\uff1a\u4e00\u822c\u8fd9\u79cd\u6570\u5bf9\uff0c\u8fd8\u6d89\u53ca\u6392\u5e8f\u7684\uff0c\u6839\u636e\u7b2c\u4e00\u4e2a\u5143\u7d20\u6b63\u5411\u6392\u5e8f\uff0c\u6839\u636e\u7b2c\u4e8c\u4e2a\u5143\u7d20\u53cd\u5411\u6392\u5e8f\uff0c\u6216\u8005\u6839\u636e\u7b2c\u4e00\u4e2a\u5143\u7d20\u53cd\u5411\u6392\u5e8f\uff0c\u6839\u636e\u7b2c\u4e8c\u4e2a\u5143\u7d20\u6b63\u5411\u6392\u5e8f\uff0c\u5f80\u5f80\u80fd\u591f\u7b80\u5316\u89e3\u9898\u8fc7\u7a0b\u3002</p> <p>\u6309\u8eab\u9ad8hi\u964d\u5e8f\uff0c\u8eab\u9ad8\u76f8\u540c\u6309ki\u5347\u5e8f\u3002\u6392\u5e8f\u4e4b\u540e\uff0c\u6570\u5bf9\u7684\u4f4d\u7f6ei\u8868\u793a\u4e86\u524d\u9762\u6709i\u4e2a\u4eba\u8eab\u9ad8\u5927\u4e8e\u7b49\u4e8ehi\u3002(\u6392\u5e8f+\u63d2\u5165)</p> <p>for\u5faa\u73af\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6O(n)</p> <pre><code>class Solution {\npublic:\n    vector&lt;vector&lt;int&gt;&gt; reconstructQueue(vector&lt;vector&lt;int&gt;&gt;&amp; people) {\n        sort(people.begin(),people.end(),[](const vector&lt;int&gt;&amp; a,const vector&lt;int&gt;&amp; b)-&gt;bool{\n            return a[0]&gt;b[0] || (a[0]==b[0]?(a[1]&lt;b[1]): false);\n        });\n        vector&lt;vector&lt;int&gt;&gt; res;\n        for(int i=0;i&lt;people.size();++i){\n            auto t = people[i];\n            if(t[1] &gt;= i){    //i\u8868\u793a\u5f53\u524dres\u4e2d\u7684\u5143\u7d20\u4e2a\u6570\n                res.emplace_back(t);\n            }else{\n                res.insert(res.begin()+t[1],t);\n            }\n        }\n        return res;\n    }\n};\n</code></pre> <p>665.\u975e\u9012\u51cf\u6570\u5217</p> <p>\u5047\u8bbe\u5728ni-1\u4e0eni\u53d1\u751f\u4e86\u9012\u51cf(ni-1 &gt; ni)\uff0c\u53ef\u4ee5\u628ani-1\u964d\u4f4e\u5230ni\uff0c\u6216\u662f\u628ani\u63d0\u9ad8\u5230ni-1\u3002\u964d\u4f4eni-1\u53ef\u80fd\u4f1a\u5bfc\u81f4ni-2\u4e0eni-1\u53d1\u751f\u9012\u51cf\uff0c\u56e0\u6b64\u8981\u5224\u65ad\u4e00\u4e0bni-2\u4e0eni\u7684\u5173\u7cfb\u3002\u63d0\u9ad8ni\u53ef\u80fd\u5bfc\u81f4ni\u4e0eni+1\u9012\u51cf\uff0c\u4f46\u662f\u56e0\u4e3ai\u6bcf\u6b21\u52a01\uff0c\u8be5\u60c5\u51b5\u53ef\u4ee5\u7559\u5230\u4e0b\u4e00\u8f6e\u81ea\u7136\u5904\u7406\u3002\u6700\u540e\u4fee\u6539\u7684\u6b21\u6570\u4e0d\u8d85\u8fc71\uff0c\u5219\u8fd4\u56detrue\u3002</p> <pre><code>class Solution {\npublic:\n    bool checkPossibility(vector&lt;int&gt;&amp; nums) {\n        int count=0;\n        for (int i = 1; i &lt; nums.size(); ++i) {\n            if(nums[i-1]&gt;nums[i]){\n                if(i==1 || nums[i-2] &lt;= nums[i]){\n                    nums[i-1] = nums[i];\n                }else{\n                    nums[i] = nums[i-1];\n                }\n                count++;\n            }\n        }\n        return count &lt; 2;\n    }\n};\n</code></pre>"},{"location":"project/tinyRayTracing/inOneWeekend/","title":"In One Weekend","text":""},{"location":"project/tinyRayTracing/inOneWeekend/#1","title":"1.\u9879\u76ee\u4ecb\u7ecd","text":"<p>\u672c\u9879\u76ee\u662fgithub\u4e0a\u7684\u4e00\u4e2a\u5149\u7ebf\u8ffd\u8e2a\u9879\u76ee\uff1a\u4e0d\u501f\u52a9\u4efb\u4f55\u7b2c\u4e09\u65b9\u5e93\u5b9e\u73b0\u7684\u5149\u7ebf\u8ffd\u8e2a\u5668\u3002\u8fd9\u91cc\u91cd\u70b9\u8bb0\u5f55\u6211\u5728\u5b9e\u73b0\u8fd9\u4e2a\u5149\u7ebf\u8ffd\u8e2a\u5668\u7684\u65f6\u5019\u9047\u5230\u7684\u56f0\u96be\u4ee5\u53ca\u81ea\u5df1\u7684\u601d\u8003\u548c\u603b\u7ed3\u3002</p> <p>\u9879\u76ee\u5730\u5740\uff1ahttps://github.com/RayTracing/raytracing.github.io/</p>"},{"location":"project/tinyRayTracing/inOneWeekend/#2","title":"2.\u8f93\u51fa\u4e00\u5f20\u56fe\u7247","text":""},{"location":"project/tinyRayTracing/inOneWeekend/#21ppm","title":"2.1.ppm\u56fe\u7247\u683c\u5f0f","text":"<p>\u7528notepad++\u6253\u5f00\u4e00\u5f20ppm\u683c\u5f0f\u7684\u56fe\u7247\u53ef\u4ee5\u770b\u5230\uff1a</p> <p></p> <p>\u7b2c\u4e00\u884c\u662fP3\uff0c\u8868\u793a\u4e00\u4e2a\u989c\u8272\u7531\u51e0\u4e2a\u5206\u91cf\u7ec4\u6210\uff1b</p> <p>\u7b2c\u4e8c\u884c\u662f\u56fe\u7247\u7684\u5bbd\u548c\u9ad8\uff1b</p> <p>\u7b2c\u4e09\u884c\u662f max color\uff0c\u8868\u793a\u4e00\u4e2a\u989c\u8272\u5206\u91cf\u7684\u6700\u5927\u503c</p>"},{"location":"project/tinyRayTracing/inOneWeekend/#22","title":"2.2.\u8f93\u51fa\u5230\u56fe\u7247","text":"<p>\u7528\u8f93\u51fa\u91cd\u5b9a\u5411rdbuf\uff0c\u628a\u8f93\u51fa\u5b9a\u5411\u5230\u6587\u4ef6\u3002</p> <pre><code>ofstream fout(\"image_6.ppm\"); //\u6587\u4ef6\u8f93\u51fa\u6d41\u5bf9\u8c61\nstreambuf* pOld = std::cout.rdbuf(fout.rdbuf());\n......\nstd::cout.rdbuf(pOld); //\u7a0b\u5e8f\u672b\u5c3e\u6062\u590d\u91cd\u5b9a\u5411\u8f93\u51fa\n</code></pre>"},{"location":"project/tinyRayTracing/inOneWeekend/#3vec3-class","title":"3.vec3 class\u7c7b","text":"<p>\u8fd9\u4e2a\u7c7b\u67093\u4e2a\u90e8\u5206\uff0c\u5206\u522b\u662f</p> <ol> <li>\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u65b9\u6cd5</li> <li>\u5173\u4e8e\u5411\u91cf\u8ba1\u7b97\u7684\u4e00\u4e9b\u5b9e\u7528\u51fd\u6570</li> <li>\u5173\u4e8e\u989c\u8272\u7684\u5b9e\u7528\u51fd\u6570</li> </ol> <pre><code>class vec3 {\npublic:\n    vec3() : e{ 0,0,0 } {}\n    vec3(double e0, double e1, double e2) : e{ e0, e1, e2 } {}\n    double x() const { return e[0]; }\n    double y() const { return e[1]; }\n    double z() const { return e[2]; }\n    //\u7c7b\u5185\u91cd\u8f7d \u9ed8\u8ba4\u4e3ainline\u51fd\u6570\n    vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }\n    double operator[](int i) const { return e[i]; }\n    double&amp; operator[](int i) { return e[i]; }\n    vec3&amp; operator+=(const vec3&amp; v) {\n        e[0] += v.e[0];\n        e[1] += v.e[1];\n        e[2] += v.e[2];\n        return *this;\n    }\n    vec3&amp; operator*=(const double t) {\n        e[0] *= t;\n        e[1] *= t;\n        e[2] *= t;\n        return *this;\n    }\n    vec3&amp; operator/=(const double t) {\n        return *this *= 1 / t;\n    }\n    double length() const {\n        return sqrt(length_squared());\n    }\n    double length_squared() const {\n        return e[0] * e[0] + e[1] * e[1] + e[2] * e[2];\n    }\n    bool near_zero() {\n        auto a = 1e-8;\n        return (fabs(e[0]) &lt; a) &amp;&amp; (fabs(e[1]) &lt; a) &amp;&amp; (fabs(e[2]) &lt; a);\n    }\nprivate:\n    double e[3];\n};\n//\u91cd\u547d\u540d\u4e3a\u70b9\u7684\u5750\u6807\u548c\u989c\u8272\ntypedef vec3 point;\ntypedef vec3 color;\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u5927\u90e8\u5206\u662f\u4e3a3\u7ef4\u5411\u91cf\u8fdb\u884c\u8fd0\u7b97\u7b26\u91cd\u8f7d</p>"},{"location":"project/tinyRayTracing/inOneWeekend/#32","title":"3.2.\u5b9e\u7528\u51fd\u6570","text":"<p>\u8fd9\u4e00\u90e8\u5206\u4e3b\u8981\u662f\u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\uff0c\u5b9e\u73b0\u5411\u91cf\u7684\u70b9\u4e58\u3001\u53c9\u4e58\u3001\u6570\u4e58\u3001\u5355\u4f4d\u5316\u4ee5\u53ca\u52a0\u51cf\u6cd5\u64cd\u4f5c\u3002</p> <pre><code>// vec3 Utility Functions\ninline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const vec3&amp; v) {\n    return out &lt;&lt; v.e[0] &lt;&lt; ' ' &lt;&lt; v.e[1] &lt;&lt; ' ' &lt;&lt; v.e[2];\n} \ninline vec3 operator+(const vec3&amp; u, const vec3&amp; v) {\n    return vec3(u.e[0] + v.e[0], u.e[1] + v.e[1], u.e[2] + v.e[2]);\n}\ninline vec3 operator-(const vec3&amp; u, const vec3&amp; v) {\n    return vec3(u.e[0] - v.e[0], u.e[1] - v.e[1], u.e[2] - v.e[2]);\n}\ninline vec3 operator*(const vec3&amp; u, const vec3&amp; v) {\n    return vec3(u.e[0] * v.e[0], u.e[1] * v.e[1], u.e[2] * v.e[2]);\n}\ninline vec3 operator*(double t, const vec3&amp; v) {\n    return vec3(t * v.e[0], t * v.e[1], t * v.e[2]);\n}\ninline vec3 operator*(const vec3&amp; v, double t) {\n    return t * v;\n}\ninline vec3 operator/(vec3 v, double t) {\n    return (1 / t) * v;\n}\ninline double dot(const vec3&amp; u, const vec3&amp; v) {\n    return u.e[0] * v.e[0]\n        + u.e[1] * v.e[1]\n        + u.e[2] * v.e[2];\n}\ninline vec3 cross(const vec3&amp; u, const vec3&amp; v) {\n    return vec3(u.e[1] * v.e[2] - u.e[2] * v.e[1],\n        u.e[2] * v.e[0] - u.e[0] * v.e[2],\n        u.e[0] * v.e[1] - u.e[1] * v.e[0]);\n}\ninline vec3 unit_vector(vec3 v) {\n    return v / v.length();\n}\n</code></pre>"},{"location":"project/tinyRayTracing/inOneWeekend/#33color","title":"3.3.color\u7684\u5b9e\u7528\u51fd\u6570","text":"<p>\u5c06\u6bcf\u4e2a\u5411\u91cf\u7684\u989c\u8272\u5199\u5230\u6807\u51c6\u8f93\u51fa\u6d41\u4e2d</p> <pre><code>void write_color(std::ostream&amp; out,color pixel_color) {\n    // Write the translated [0,255] value of each color component.\n    out &lt;&lt; static_cast&lt;int&gt;(255.999 * clamp(r,0.0,0.999)) &lt;&lt; ' '\n        &lt;&lt; static_cast&lt;int&gt;(255.999 * clamp(g,0.0,0.999)) &lt;&lt; ' '\n        &lt;&lt; static_cast&lt;int&gt;(255.999 * clamp(b,0.0,0.999)) &lt;&lt; '\\n';\n}\n</code></pre> <p>\u90a3\u4e48\u73b0\u5728\u5c31\u80fd\u6765\u5199\u4e00\u4e2a\u521d\u7248\u7684main\u51fd\u6570\u4e86\u3002\u8bbe\u7f6e\u597d\u56fe\u7247\u7684\u5bbd\u9ad8\uff0c\u7528\u53cc\u91cdfor\u5faa\u73af\u904d\u5386\u56fe\u7247\u4e0a\u7684\u6bcf\u4e00\u4e2a\u50cf\u7d20\uff0c\u7ed9\u8fd9\u4e9b\u50cf\u7d20\u586b\u4e0a\u4e00\u4e2a\u989c\u8272</p> <p>\u4e3a\u4e86\u663e\u793a\u56fe\u7247\u7684\u6e32\u67d3\u901f\u5ea6\u53ef\u4ee5\u5199\u4e2a\u7b80\u7565\u7684\u8fdb\u5ea6\u6761\u6765\u663e\u793a\u73b0\u5728\u6e32\u67d3\u5230\u7b2c\u51e0\u884c\u50cf\u7d20\u4e86\uff0c\u56e0\u4e3a\u6807\u51c6\u8f93\u51fa\u5df2\u7ecf\u91cd\u5b9a\u5411\u5230\u6587\u4ef6\u4e86\uff0c\u6240\u4ee5\u7528std::cerr\u6765\u8f93\u51fa\u5230\u7a97\u53e3\u3002</p> <p>\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>int main() {\n    ofstream fout(\"image.ppm\"); //\u6587\u4ef6\u8f93\u51fa\u6d41\u5bf9\u8c61\n    streambuf* pOld = std::cout.rdbuf(fout.rdbuf());\n    \u5b9a\u4e49\u4e00\u4e2a\u5bbd\u9ad8\u6bd4\u7ed9viewport\u7528\uff1b\n    \u5b9a\u4e49\u4e00\u4e2a\u56fe\u50cf\u7684\u5bbd\uff0c\u56fe\u50cf\u7684\u9ad8=\u5bbd*\u5bbd\u9ad8\u6bd4\uff0c\u4e5f\u5c31\u662f\u56fe\u50cf\u7684\u5bbd\u9ad8\u6bd4\u8981\u4e0eviewport\u7684\u5bbd\u9ad8\u6bd4\u76f8\u540c\n    //\u6309ppm\u683c\u5f0f\u8f93\u51fa\n    std::cout &lt;&lt; \"P3\\n\" &lt;&lt; image_width &lt;&lt; ' ' &lt;&lt; image_height &lt;&lt; \"\\n255\\n\";\n    for (int j = image_height - 1; j &gt;= 0; --j) {    //\u884c\u4ece\u4e0a\u5f80\u4e0b\n        //\u5199\u4e00\u4e2a\u8fdb\u5ea6\u6761\u8868\u793a\u73b0\u5728\u6e32\u67d3\u5230\u4e86\u7b2c\u51e0\u884c\uff0c\u6ce8\u610f\u8981\u7528/r\u6765\u4f7f\u5149\u6807\u56de\u5230\u539f\u70b9\n        std::cerr &lt;&lt; \"\\rScanlines remaining: \" &lt;&lt; j &lt;&lt; ' ' &lt;&lt; std::flush;\n        for (int i = 0; i &lt; image_width; ++i) {      //\u5217\u4ece\u5de6\u5f80\u53f3\n            //\u8c03\u7528write_color\u51fd\u6570\u628a\u50cf\u7d20\u7684\u989c\u8272\u8f93\u51fa\u53bb\n            write_color(std::cout, pixel_color);\n        }\n    }\n    std::cout.rdbuf(pOld); //\u6062\u590d\u91cd\u5b9a\u5411\u8f93\u51fa\n}\n</code></pre>"},{"location":"project/tinyRayTracing/inOneWeekend/#4raya-simple-camerabackground","title":"4.ray\uff0ca simple Camera\uff0cbackground","text":"<p>\u5149\u7ebf\u8ffd\u8e2a\u7684\u8fc7\u7a0b\u662f\u4ece\u76f8\u673a\u6253\u51fa\u4e00\u6761\u5c04\u7ebf\uff0c\u7a7f\u8fc7viewport\u4e0a\u7684\u4e00\u4e2a\u50cf\u7d20\u8fdb\u5165\u573a\u666f\u3002\u82e5\u5149\u7ebf\u6253\u5230\u4e00\u4e2a\u7269\u4f53\uff0c\u53ef\u4ee5\u9009\u62e9\u968f\u673a\u5f80\u4e00\u4e2a\u65b9\u5411\u5f39\u5c04\uff0c\u7ecf\u8fc7\u591a\u6b21\u5f39\u5c04\u4e4b\u540e\u82e5\u5f39\u5c04\u5230\u5149\u6e90\u8868\u660e\u8fd9\u4e2a\u70b9\u80fd\u88ab\u7167\u4eae\uff0c\u5e26\u7740\u989c\u8272return\uff1b\u82e5\u5f39\u5c04\u5230\u80cc\u666f\uff0creturn 0\u3002</p> <p></p> <p>\u6709\u4e86\u4ee5\u4e0a\u5206\u6790\u6211\u4eec\u77e5\u9053\uff0c\u9996\u5148\u8981\u6709\u5149\u7ebf\uff0c\u8fd8\u8981\u4e00\u4e2a\u76f8\u673a\u7684\u4f4d\u7f6e\u5750\u6807\uff0c\u4ece\u76f8\u673a\u53d1\u51fa\u7684\u5149\u7ebf\u8981\u80fd\u904d\u5386viewport\u4e0a\u7684\u6bcf\u4e2a\u50cf\u7d20\uff0c\u5149\u7ebf\u8981\u548c\u7269\u4f53\u505a\u76f8\u4ea4\u6d4b\u8bd5\uff0c\u7269\u4f53\u8fd8\u8981\u4f1a\u5f39\u5c04\u5149\u7ebf\u3002\u548b\u4e00\u770b\u5185\u5bb9\u5f88\u591a\uff0c\u6240\u4ee5\u6211\u4eec\u4ece\u751f\u6210\u5149\u7ebf\u4ee5\u53ca\u8ba9\u5149\u7ebf\u904d\u5386viewport\u5f00\u59cb\u3002</p>"},{"location":"project/tinyRayTracing/inOneWeekend/#41-ray-class","title":"4.1.\u5149\u7ebf\u7c7b ray class","text":"<p>\u5149\u7ebf\u662f\u5c04\u7ebf\uff0c\u6211\u4eec\u7528\u4e00\u4e2a\u70b9\u548c\u4e00\u4e2a\u65b9\u5411\u6765\u8868\u793a\uff0c\u53ef\u4ee5\u628a\u5149\u60f3\u8c61\u6210\u4e00\u4e2a\u5173\u4e8e\u4e8b\u4ef6t\u7684\u51fd\u6570\uff1a\\(P(t)=o+td\\)\uff0c\\(o\\)\u662f\u539f\u70b9\uff0c\\(d\\)\u662f\u65b9\u5411\u3002</p>"},{"location":"project/tinyRenderer/bresenham/","title":"Brensenham\u753b\u7ebf\u7b97\u6cd5","text":"<p>\u73b0\u5728\u7ed9\u5b9a\u4e24\u4e2a\u70b9\\((x_0,y_0),(x_1,y_1)\\)\uff0c\u5b83\u4eec\u53ef\u4ee5\u8868\u793a\u6210\u4e00\u6761\u7ebf\u6bb5\uff1a</p> <p>\\(\\frac{y-y_0}{y_1-y_0}=\\frac{x-x_0}{x_1-x_0}\\)\uff1b\\(y=y_0+\\frac{x-x_0}{x_1-x_0}({y_1-y_0})\\)</p> <p>\u6240\u4ee5\u4e00\u6761\u76f4\u7ebf\u53ef\u4ee5\u8fd9\u6837\u5199</p> <pre><code>void line(int x0, int y0, int x1, int y1, TGAImage &amp;image, TGAColor color) { \n    for (int x=x0; x&lt;=x1; x++) { \n        float t = (x-x0)/(float)(x1-x0); \n        int y = y0*(1.-t) + y1*t; \n        image.set(x, y, color); \n    } \n}\n</code></pre> <p>\u4e0d\u63a8\u4e86\uff0c\u76f4\u63a5\u7ed9\u7ed3\u8bba\u3002\u80fd\u8fd9\u6837\u5199\u6709\u4e24\u4e2a\u524d\u63d0\u6761\u4ef6\uff1a1.x0&lt;x1\uff1b2.\u76f4\u7ebf\u7684\u659c\u7387\u5c0f\u4e8e1\uff0c\u4e5f\u5c31\u662f\\({y_1-y_0}&lt;{x_1-x_0}\\) \u82e5\u4e0d\u6ee1\u8db3\u7b2c\u4e00\u6761\uff0cfor\u5faa\u73af\u4f1a\u4e00\u76f4\u8fdb\u884c\u4e0b\u53bb\uff1b\u82e5\u4e0d\u6ee1\u8db3\u7b2c\u4e8c\u6761\uff0c\u753b\u51fa\u6765\u7684\u7ebf\u6709\u201c\u6d1e\u201d\u3002\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837</p> <p></p> <p>\u5148\u6765\u89e3\u51b3\u7ebf\u6709\u6d1e\u7684\u95ee\u9898\u3002</p> <p>\u4ece\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\u6bcf\u6b21\u8ba9x+1\uff0c\u518d\u7528x\u53bb\u8ba1\u7b97y\u3002\u56e0\u4e3a\u659c\u7387\u5927\u4e8e1\uff0c\u6240\u4ee5\u6bcf\u6b21x+1\uff0cy\u52a0\u7684\u662f\u4e2a\u5927\u4e8e1\u7684\u6570(\u52a0\u7684\u662f\u4ec0\u4e48\u5728\u540e\u9762)\uff0cy\u4e00\u6b21\u8df3\u4e86\u4e24\u4e2a\u50cf\u7d20\uff0c\u6240\u4ee5\u4e2d\u95f4\u5c31\u4f1a\u51fa\u73b0\u6d1e\u3002 \u89e3\u51b3\u529e\u6cd5\uff1a\u5f53\\({y_1-y_0}&gt;{x_1-x_0}\\)\u65f6\uff0cfor\u5faa\u73af\u6bcf\u6b21\u5bf9y+1\uff1b\u53cd\u4e4bfor\u5faa\u73af\u6bcf\u6b21\u5bf9x+1</p> <p>\u4f46\u662f\u8fd9\u6837\u5199\u4f1a\u5bfc\u81f4\u4ee3\u7801\u5197\u4f59\uff0c\u56e0\u4e3a\u9700\u8981\u5199\u4e24\u4e2afor\u5faa\u73af\u3002\u6574\u5408\u5230\u4e00\u4e2afor\u5faa\u73af\u7684\u529e\u6cd5\u662f\uff1a\u82e5\\({y_1-y_0}&gt;{x_1-x_0}\\)\uff0cswap(x0\uff0cy0)\uff1bswap(x1\uff0cy1)\uff1b\u8ba9\u8fd9\u4e2a\u7ebf\u6bb5\u5173\u4e8ey=x\u7ffb\u8f6c\u3002\u6700\u540e\u6211\u4eec\u5199\u50cf\u7d20\u989c\u8272\u7684\u65f6\u5019\uff0c\u518d\u628a\u5750\u6807\u53cd\u8fc7\u6765\u5373\u53ef\u3002</p> <p>\u518d\u6765\u770b x0&gt;x1\u7684\u95ee\u9898\uff0c\u5f88\u7b80\u5355\uff0c\u628a\u4e24\u4e2a\u70b9\u4ea4\u6362\u8fc7\u6765\u5c31\u53ef\u4ee5\uff0c\u56e0\u4e3a\u7ebf\u6bb5\u65e0\u8bba\u4ece\u54ea\u4e2a\u65b9\u5411\u5f00\u59cb\u753b\u90fd\u4e00\u6837\u3002</p> <p>\u603b\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>void line(int x0, int y0, int x1, int y1, TGAImage &amp;image, TGAColor color) { \n    bool steep = false; \n    if (std::abs(x0-x1)&lt;std::abs(y0-y1)) { // if the line is steep, we transpose the image \n        std::swap(x0, y0); \n        std::swap(x1, y1); \n        steep = true; \n    } \n    if (x0&gt;x1) { // make it left\u2212to\u2212right \n        std::swap(x0, x1); \n        std::swap(y0, y1); \n    } \n    for (int x=x0; x&lt;=x1; x++) { \n        float t = (x-x0)/(float)(x1-x0); \n        int y = y0*(1.-t) + y1*t; \n        if (steep) { \n            image.set(y, x, color); // if transposed, de\u2212transpose \n        } else { \n            image.set(x, y, color); \n        } \n    } \n}\n</code></pre> <p>\u8fd9\u6837\u7684\u4ee3\u7801\u6548\u7387\u5e76\u4e0d\u9ad8\uff0c\u539f\u56e0\u662f\u6709\u4e58\u9664\u6cd5\u3002\u6211\u4eec\u77e5\u9053\u76f4\u7ebf\u7684\u6027\u8d28\uff1a\u6bcf\u6b21\\(x+1,y+\\frac{y_1-y_0}{x_1-x_0}\\)\uff08\u81ea\u5df1\u63a8\uff09\u3002\u4e5f\u5c31\u662f\u8bf4y\u52a0\u7684\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u6570\uff0c\u8fd9\u4e2a\u6570\u53ef\u4ee5\u63d0\u524d\u7b97\u51fa\u6765\uff0c\u6bcf\u4e00\u4e2a\u70b9\u90fd\u53ef\u4ee5\u901a\u8fc7\u524d\u4e00\u4e2a\u70b9\u7528\u52a0\u51cf\u6cd5\u8ba1\u7b97\u5f97\u5230\u3002\u90a3\u5f97\u5230\u4e86\u4e00\u4e2a\u7cbe\u786e\u7684y\uff0c\u5982\u4f55\u786e\u5b9a\u5c4f\u5e55\u4e0a\u7684\u5750\u6807y\u2018\u662f\u4fdd\u6301\u539f\u6837\u8fd8\u662f+1\u5462\uff1f\u7528error\uff1aabs(y-y')\u6765\u51b3\u5b9a\uff01\u5f53error\u5927\u4e8e0.5\u7684\u65f6\u5019\uff0cy+1\uff1b\u5426\u5219\u4e0d\u53d8\uff0cerror\u521d\u59cb\u503c\u4e3a0\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>    int dx = x1-x0; \n    int dy = y1-y0; \n    float derror = std::abs(dy/float(dx)); \n    float error = 0; \n    int y = y0; \n    for (int x=x0; x&lt;=x1; x++) { \n        if (steep) { \n            image.set(y, x, color); \n        } else { \n            image.set(x, y, color); \n        } \n        error += derror; \n        if (error&gt;.5) { \n            y += (y1&gt;y0?1:-1); \n            error -= 1.; \n        } \n    } \n</code></pre> <p>\u73b0\u5728for\u5faa\u73af\u91cc\u5df2\u7ecf\u6ca1\u6709\u4e58\u9664\u6cd5\u4e86\uff0c\u4f46\u8fd8\u6709\u4e00\u5904\u53ef\u4ee5\u4f18\u5316\u7684\u5730\u65b9\uff0c\u90a3\u5c31\u662ferror\u548cderror\u90fd\u662ffloat\u7c7b\u578b\uff0c\u80fd\u5426\u5c06\u5176\u5316\u4e3aint\u7c7b\u578b\u8fdb\u4e00\u6b65\u52a0\u5feb\u8ba1\u7b97\u901f\u5ea6\u5462\uff1f\u7b54\u6848\u662f\u53ef\u4ee5\uff01</p> <p>\\(error=error+derror=error+\\frac{dy}{dx}\\)\u3002\u4e24\u8fb9\u4e58dx\u53ef\u5f97\uff1a\\(dx*error += {dy}\\)</p> <p>\u540e\u9762\u8fd8\u6709\u4e00\u6b65\u5224\u65aderror&gt;0.5\u7684\uff0c\u4e24\u8fb9\u540c\u4e582\u3002\u6240\u4ee5\u4e0a\u5f0f\u53ef\u53d8\u4e3a\\(2dx*error+=2{dy}\\)</p> <p>\\(error -= 1\\)\u6539\u4e3a\\(2dx*error -= 2dx\\)</p> <p>\u6240\u4ee5\u6211\u4eec\u8ba9</p> <pre><code>int derror2 = 2*dy;\n</code></pre> <p>\u6709\u4ee3\u7801\uff1a</p> <pre><code>    int dx = x1-x0; \n    int dy = y1-y0; \n    int derror2 = std::abs(dy)*2; \n    int error2 = 0; \n    int y = y0; \n    for (int x=x0; x&lt;=x1; x++) { \n        if (steep) { \n            image.set(y, x, color); \n        } else { \n            image.set(x, y, color); \n        } \n        error2 += derror2; \n        if (error2 &gt; dx) { \n            y += (y1&gt;y0?1:-1); \n            error2 -= dx*2; \n        } \n    } \n</code></pre> <p>\u8fd9\u5c31\u662fbresenham\u753b\u7ebf\u7b97\u6cd5\uff01</p> <p>\u6700\u6700\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff01\u8fd9\u6837\u753b\u51fa\u6765\u7684\u7ebf\u6709\u952f\u9f7f\uff0c\u56e0\u4e3a\u50cf\u7d20\u6709\u5927\u5c0f\u4e14\u989c\u8272\u503c\u662f\u975e0\u53731\u7684\uff0c\u600e\u4e48\u7ed9\u76f4\u7ebf\u6297\u952f\u9f7f\u5462\uff1f\u7b54\u6848\u662f\u7528Wu\u53cd\u8d70\u6837\u7b97\u6cd5</p>"},{"location":"project/tinyRenderer/bresenham/#wu","title":"Wu\u53cd\u8d70\u6837\u7b97\u6cd5","text":"<p>https://blog.csdn.net/m0_56494923/article/details/128516263</p>"}]}